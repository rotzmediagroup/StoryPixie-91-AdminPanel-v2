var Gw=t=>{throw TypeError(t)};var Vf=(t,e,n)=>e.has(t)||Gw("Cannot "+n);var U=(t,e,n)=>(Vf(t,e,"read from private field"),n?n.call(t):e.get(t)),Se=(t,e,n)=>e.has(t)?Gw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fe=(t,e,n,r)=>(Vf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Tt=(t,e,n)=>(Vf(t,e,"access private method"),n);var oc=(t,e,n,r)=>({set _(s){fe(t,e,s,n)},get _(){return U(t,e,r)}});function rk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function WT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var HT={exports:{}},vh={},qT={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=Symbol.for("react.element"),sk=Symbol.for("react.portal"),ik=Symbol.for("react.fragment"),ok=Symbol.for("react.strict_mode"),ak=Symbol.for("react.profiler"),lk=Symbol.for("react.provider"),uk=Symbol.for("react.context"),ck=Symbol.for("react.forward_ref"),dk=Symbol.for("react.suspense"),hk=Symbol.for("react.memo"),fk=Symbol.for("react.lazy"),Qw=Symbol.iterator;function pk(t){return t===null||typeof t!="object"?null:(t=Qw&&t[Qw]||t["@@iterator"],typeof t=="function"?t:null)}var KT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GT=Object.assign,QT={};function ha(t,e,n){this.props=t,this.context=e,this.refs=QT,this.updater=n||KT}ha.prototype.isReactComponent={};ha.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ha.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function YT(){}YT.prototype=ha.prototype;function Cg(t,e,n){this.props=t,this.context=e,this.refs=QT,this.updater=n||KT}var bg=Cg.prototype=new YT;bg.constructor=Cg;GT(bg,ha.prototype);bg.isPureReactComponent=!0;var Yw=Array.isArray,XT=Object.prototype.hasOwnProperty,Ag={current:null},JT={key:!0,ref:!0,__self:!0,__source:!0};function ZT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)XT.call(e,r)&&!JT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:pu,type:t,key:i,ref:o,props:s,_owner:Ag.current}}function mk(t,e){return{$$typeof:pu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rg(t){return typeof t=="object"&&t!==null&&t.$$typeof===pu}function gk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xw=/\/+/g;function Ff(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gk(""+t.key):e.toString(36)}function jc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pu:case sk:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ff(o,0):r,Yw(s)?(n="",t!=null&&(n=t.replace(Xw,"$&/")+"/"),jc(s,e,n,"",function(c){return c})):s!=null&&(Rg(s)&&(s=mk(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Yw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ff(i,a);o+=jc(i,e,n,l,s)}else if(l=pk(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ff(i,a++),o+=jc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ac(t,e,n){if(t==null)return t;var r=[],s=0;return jc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function vk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},Uc={transition:null},yk={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:Uc,ReactCurrentOwner:Ag};function ex(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:ac,forEach:function(t,e,n){ac(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ac(t,function(){e++}),e},toArray:function(t){return ac(t,function(e){return e})||[]},only:function(t){if(!Rg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=ha;ve.Fragment=ik;ve.Profiler=ak;ve.PureComponent=Cg;ve.StrictMode=ok;ve.Suspense=dk;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yk;ve.act=ex;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=GT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ag.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)XT.call(e,l)&&!JT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:pu,type:t.type,key:s,ref:i,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:uk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lk,_context:t},t.Consumer=t};ve.createElement=ZT;ve.createFactory=function(t){var e=ZT.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:ck,render:t}};ve.isValidElement=Rg;ve.lazy=function(t){return{$$typeof:fk,_payload:{_status:-1,_result:t},_init:vk}};ve.memo=function(t,e){return{$$typeof:hk,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=Uc.transition;Uc.transition={};try{t()}finally{Uc.transition=e}};ve.unstable_act=ex;ve.useCallback=function(t,e){return Ft.current.useCallback(t,e)};ve.useContext=function(t){return Ft.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};ve.useEffect=function(t,e){return Ft.current.useEffect(t,e)};ve.useId=function(){return Ft.current.useId()};ve.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return Ft.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};ve.useRef=function(t){return Ft.current.useRef(t)};ve.useState=function(t){return Ft.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return Ft.current.useTransition()};ve.version="18.3.1";qT.exports=ve;var g=qT.exports;const H=WT(g),Pg=rk({__proto__:null,default:H},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wk=g,_k=Symbol.for("react.element"),Ek=Symbol.for("react.fragment"),Tk=Object.prototype.hasOwnProperty,xk=wk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sk={key:!0,ref:!0,__self:!0,__source:!0};function tx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Tk.call(e,r)&&!Sk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:_k,type:t,key:i,ref:o,props:s,_owner:xk.current}}vh.Fragment=Ek;vh.jsx=tx;vh.jsxs=tx;HT.exports=vh;var v=HT.exports,nx={exports:{}},ln={},rx={exports:{}},sx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,V){var W=j.length;j.push(V);e:for(;0<W;){var ee=W-1>>>1,G=j[ee];if(0<s(G,V))j[ee]=V,j[W]=G,W=ee;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var V=j[0],W=j.pop();if(W!==V){j[0]=W;e:for(var ee=0,G=j.length,Z=G>>>1;ee<Z;){var de=2*(ee+1)-1,Ce=j[de],Fe=de+1,he=j[Fe];if(0>s(Ce,W))Fe<G&&0>s(he,Ce)?(j[ee]=he,j[Fe]=W,ee=Fe):(j[ee]=Ce,j[de]=W,ee=de);else if(Fe<G&&0>s(he,W))j[ee]=he,j[Fe]=W,ee=Fe;else break e}}return V}function s(j,V){var W=j.sortIndex-V.sortIndex;return W!==0?W:j.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,x=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(j){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=j)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function P(j){if(w=!1,S(j),!x)if(n(l)!==null)x=!0,te(O);else{var V=n(c);V!==null&&ae(P,V.startTime-j)}}function O(j,V){x=!1,w&&(w=!1,_(I),I=-1),m=!0;var W=p;try{for(S(V),h=n(l);h!==null&&(!(h.expirationTime>V)||j&&!N());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,p=h.priorityLevel;var G=ee(h.expirationTime<=V);V=t.unstable_now(),typeof G=="function"?h.callback=G:h===n(l)&&r(l),S(V)}else r(l);h=n(l)}if(h!==null)var Z=!0;else{var de=n(c);de!==null&&ae(P,de.startTime-V),Z=!1}return Z}finally{h=null,p=W,m=!1}}var M=!1,C=null,I=-1,A=5,R=-1;function N(){return!(t.unstable_now()-R<A)}function D(){if(C!==null){var j=t.unstable_now();R=j;var V=!0;try{V=C(!0,j)}finally{V?k():(M=!1,C=null)}}else M=!1}var k;if(typeof E=="function")k=function(){E(D)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,re=q.port2;q.port1.onmessage=D,k=function(){re.postMessage(null)}}else k=function(){T(D,0)};function te(j){C=j,M||(M=!0,k())}function ae(j,V){I=T(function(){j(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,te(O))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var W=p;p=V;try{return j()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,V){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=p;p=j;try{return V()}finally{p=W}},t.unstable_scheduleCallback=function(j,V,W){var ee=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,j){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=W+G,j={id:d++,callback:V,priorityLevel:j,startTime:W,expirationTime:G,sortIndex:-1},W>ee?(j.sortIndex=W,e(c,j),n(l)===null&&j===n(c)&&(w?(_(I),I=-1):w=!0,ae(P,W-ee))):(j.sortIndex=G,e(l,j),x||m||(x=!0,te(O))),j},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(j){var V=p;return function(){var W=p;p=V;try{return j.apply(this,arguments)}finally{p=W}}}})(sx);rx.exports=sx;var Ik=rx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ck=g,on=Ik;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ix=new Set,Rl={};function Li(t,e){Ho(t,e),Ho(t+"Capture",e)}function Ho(t,e){for(Rl[t]=e,t=0;t<e.length;t++)ix.add(e[t])}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zp=Object.prototype.hasOwnProperty,bk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jw={},Zw={};function Ak(t){return zp.call(Zw,t)?!0:zp.call(Jw,t)?!1:bk.test(t)?Zw[t]=!0:(Jw[t]=!0,!1)}function Rk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Pk(t,e,n,r){if(e===null||typeof e>"u"||Rk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var kg=/[\-:]([a-z])/g;function Ng(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kg,Ng);yt[e]=new jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kg,Ng);yt[e]=new jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kg,Ng);yt[e]=new jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new jt(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dg(t,e,n,r){var s=yt.hasOwnProperty(e)?yt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Pk(e,n,s,r)&&(n=null),r||s===null?Ak(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zr=Ck.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lc=Symbol.for("react.element"),uo=Symbol.for("react.portal"),co=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),Bp=Symbol.for("react.profiler"),ox=Symbol.for("react.provider"),ax=Symbol.for("react.context"),Mg=Symbol.for("react.forward_ref"),Wp=Symbol.for("react.suspense"),Hp=Symbol.for("react.suspense_list"),Lg=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),lx=Symbol.for("react.offscreen"),e_=Symbol.iterator;function Ua(t){return t===null||typeof t!="object"?null:(t=e_&&t[e_]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,jf;function Xa(t){if(jf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jf=e&&e[1]||""}return`
`+jf+t}var Uf=!1;function $f(t,e){if(!t||Uf)return"";Uf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Uf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xa(t):""}function kk(t){switch(t.tag){case 5:return Xa(t.type);case 16:return Xa("Lazy");case 13:return Xa("Suspense");case 19:return Xa("SuspenseList");case 0:case 2:case 15:return t=$f(t.type,!1),t;case 11:return t=$f(t.type.render,!1),t;case 1:return t=$f(t.type,!0),t;default:return""}}function qp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case co:return"Fragment";case uo:return"Portal";case Bp:return"Profiler";case Og:return"StrictMode";case Wp:return"Suspense";case Hp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ax:return(t.displayName||"Context")+".Consumer";case ox:return(t._context.displayName||"Context")+".Provider";case Mg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lg:return e=t.displayName||null,e!==null?e:qp(t.type)||"Memo";case ss:e=t._payload,t=t._init;try{return qp(t(e))}catch{}}return null}function Nk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qp(e);case 8:return e===Og?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ux(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Dk(t){var e=ux(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uc(t){t._valueTracker||(t._valueTracker=Dk(t))}function cx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ux(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function md(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kp(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function t_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dx(t,e){e=e.checked,e!=null&&Dg(t,"checked",e,!1)}function Gp(t,e){dx(t,e);var n=Vs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qp(t,e.type,Vs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function n_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qp(t,e,n){(e!=="number"||md(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ja=Array.isArray;function xo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Yp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Ja(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vs(n)}}function hx(t,e){var n=Vs(e.value),r=Vs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function s_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cc,px=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cc=cc||document.createElement("div"),cc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ok=["Webkit","ms","Moz","O"];Object.keys(ul).forEach(function(t){Ok.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ul[e]=ul[t]})});function mx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ul.hasOwnProperty(t)&&ul[t]?(""+e).trim():e+"px"}function gx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=mx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Mk=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jp(t,e){if(e){if(Mk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Zp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var em=null;function Vg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tm=null,So=null,Io=null;function i_(t){if(t=vu(t)){if(typeof tm!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Th(e),tm(t.stateNode,t.type,e))}}function vx(t){So?Io?Io.push(t):Io=[t]:So=t}function yx(){if(So){var t=So,e=Io;if(Io=So=null,i_(t),e)for(t=0;t<e.length;t++)i_(e[t])}}function wx(t,e){return t(e)}function _x(){}var zf=!1;function Ex(t,e,n){if(zf)return t(e,n);zf=!0;try{return wx(t,e,n)}finally{zf=!1,(So!==null||Io!==null)&&(_x(),yx())}}function kl(t,e){var n=t.stateNode;if(n===null)return null;var r=Th(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var nm=!1;if(Nr)try{var $a={};Object.defineProperty($a,"passive",{get:function(){nm=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{nm=!1}function Lk(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var cl=!1,gd=null,vd=!1,rm=null,Vk={onError:function(t){cl=!0,gd=t}};function Fk(t,e,n,r,s,i,o,a,l){cl=!1,gd=null,Lk.apply(Vk,arguments)}function jk(t,e,n,r,s,i,o,a,l){if(Fk.apply(this,arguments),cl){if(cl){var c=gd;cl=!1,gd=null}else throw Error(B(198));vd||(vd=!0,rm=c)}}function Vi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Tx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o_(t){if(Vi(t)!==t)throw Error(B(188))}function Uk(t){var e=t.alternate;if(!e){if(e=Vi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return o_(s),t;if(i===r)return o_(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function xx(t){return t=Uk(t),t!==null?Sx(t):null}function Sx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sx(t);if(e!==null)return e;t=t.sibling}return null}var Ix=on.unstable_scheduleCallback,a_=on.unstable_cancelCallback,$k=on.unstable_shouldYield,zk=on.unstable_requestPaint,Ye=on.unstable_now,Bk=on.unstable_getCurrentPriorityLevel,Fg=on.unstable_ImmediatePriority,Cx=on.unstable_UserBlockingPriority,yd=on.unstable_NormalPriority,Wk=on.unstable_LowPriority,bx=on.unstable_IdlePriority,yh=null,nr=null;function Hk(t){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(yh,t,void 0,(t.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:Gk,qk=Math.log,Kk=Math.LN2;function Gk(t){return t>>>=0,t===0?32:31-(qk(t)/Kk|0)|0}var dc=64,hc=4194304;function Za(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Za(a):(i&=o,i!==0&&(r=Za(i)))}else o=n&~s,o!==0?r=Za(o):i!==0&&(r=Za(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vn(e),s=1<<n,r|=t[n],e&=~s;return r}function Qk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Vn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Qk(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function sm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ax(){var t=dc;return dc<<=1,!(dc&4194240)&&(dc=64),t}function Bf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vn(e),t[e]=n}function Xk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Vn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function jg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ae=0;function Rx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Px,Ug,kx,Nx,Dx,im=!1,fc=[],Ts=null,xs=null,Ss=null,Nl=new Map,Dl=new Map,os=[],Jk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l_(t,e){switch(t){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Nl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(e.pointerId)}}function za(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=vu(e),e!==null&&Ug(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Zk(t,e,n,r,s){switch(e){case"focusin":return Ts=za(Ts,t,e,n,r,s),!0;case"dragenter":return xs=za(xs,t,e,n,r,s),!0;case"mouseover":return Ss=za(Ss,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Nl.set(i,za(Nl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Dl.set(i,za(Dl.get(i)||null,t,e,n,r,s)),!0}return!1}function Ox(t){var e=hi(t.target);if(e!==null){var n=Vi(e);if(n!==null){if(e=n.tag,e===13){if(e=Tx(n),e!==null){t.blockedOn=e,Dx(t.priority,function(){kx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=om(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);em=r,n.target.dispatchEvent(r),em=null}else return e=vu(n),e!==null&&Ug(e),t.blockedOn=n,!1;e.shift()}return!0}function u_(t,e,n){$c(t)&&n.delete(e)}function eN(){im=!1,Ts!==null&&$c(Ts)&&(Ts=null),xs!==null&&$c(xs)&&(xs=null),Ss!==null&&$c(Ss)&&(Ss=null),Nl.forEach(u_),Dl.forEach(u_)}function Ba(t,e){t.blockedOn===e&&(t.blockedOn=null,im||(im=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,eN)))}function Ol(t){function e(s){return Ba(s,t)}if(0<fc.length){Ba(fc[0],t);for(var n=1;n<fc.length;n++){var r=fc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ts!==null&&Ba(Ts,t),xs!==null&&Ba(xs,t),Ss!==null&&Ba(Ss,t),Nl.forEach(e),Dl.forEach(e),n=0;n<os.length;n++)r=os[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<os.length&&(n=os[0],n.blockedOn===null);)Ox(n),n.blockedOn===null&&os.shift()}var Co=zr.ReactCurrentBatchConfig,_d=!0;function tN(t,e,n,r){var s=Ae,i=Co.transition;Co.transition=null;try{Ae=1,$g(t,e,n,r)}finally{Ae=s,Co.transition=i}}function nN(t,e,n,r){var s=Ae,i=Co.transition;Co.transition=null;try{Ae=4,$g(t,e,n,r)}finally{Ae=s,Co.transition=i}}function $g(t,e,n,r){if(_d){var s=om(t,e,n,r);if(s===null)Zf(t,e,r,Ed,n),l_(t,r);else if(Zk(s,t,e,n,r))r.stopPropagation();else if(l_(t,r),e&4&&-1<Jk.indexOf(t)){for(;s!==null;){var i=vu(s);if(i!==null&&Px(i),i=om(t,e,n,r),i===null&&Zf(t,e,r,Ed,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Zf(t,e,r,null,n)}}var Ed=null;function om(t,e,n,r){if(Ed=null,t=Vg(r),t=hi(t),t!==null)if(e=Vi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Tx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ed=t,null}function Mx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bk()){case Fg:return 1;case Cx:return 4;case yd:case Wk:return 16;case bx:return 536870912;default:return 16}default:return 16}}var ys=null,zg=null,zc=null;function Lx(){if(zc)return zc;var t,e=zg,n=e.length,r,s="value"in ys?ys.value:ys.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return zc=s.slice(t,1<r?1-r:void 0)}function Bc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pc(){return!0}function c_(){return!1}function un(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pc:c_,this.isPropagationStopped=c_,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pc)},persist:function(){},isPersistent:pc}),e}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bg=un(fa),gu=Be({},fa,{view:0,detail:0}),rN=un(gu),Wf,Hf,Wa,wh=Be({},gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wa&&(Wa&&t.type==="mousemove"?(Wf=t.screenX-Wa.screenX,Hf=t.screenY-Wa.screenY):Hf=Wf=0,Wa=t),Wf)},movementY:function(t){return"movementY"in t?t.movementY:Hf}}),d_=un(wh),sN=Be({},wh,{dataTransfer:0}),iN=un(sN),oN=Be({},gu,{relatedTarget:0}),qf=un(oN),aN=Be({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),lN=un(aN),uN=Be({},fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cN=un(uN),dN=Be({},fa,{data:0}),h_=un(dN),hN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pN[t])?!!e[t]:!1}function Wg(){return mN}var gN=Be({},gu,{key:function(t){if(t.key){var e=hN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wg,charCode:function(t){return t.type==="keypress"?Bc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vN=un(gN),yN=Be({},wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f_=un(yN),wN=Be({},gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wg}),_N=un(wN),EN=Be({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),TN=un(EN),xN=Be({},wh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SN=un(xN),IN=[9,13,27,32],Hg=Nr&&"CompositionEvent"in window,dl=null;Nr&&"documentMode"in document&&(dl=document.documentMode);var CN=Nr&&"TextEvent"in window&&!dl,Vx=Nr&&(!Hg||dl&&8<dl&&11>=dl),p_=" ",m_=!1;function Fx(t,e){switch(t){case"keyup":return IN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ho=!1;function bN(t,e){switch(t){case"compositionend":return jx(e);case"keypress":return e.which!==32?null:(m_=!0,p_);case"textInput":return t=e.data,t===p_&&m_?null:t;default:return null}}function AN(t,e){if(ho)return t==="compositionend"||!Hg&&Fx(t,e)?(t=Lx(),zc=zg=ys=null,ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vx&&e.locale!=="ko"?null:e.data;default:return null}}var RN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RN[t.type]:e==="textarea"}function Ux(t,e,n,r){vx(r),e=Td(e,"onChange"),0<e.length&&(n=new Bg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hl=null,Ml=null;function PN(t){Xx(t,0)}function _h(t){var e=mo(t);if(cx(e))return t}function kN(t,e){if(t==="change")return e}var $x=!1;if(Nr){var Kf;if(Nr){var Gf="oninput"in document;if(!Gf){var v_=document.createElement("div");v_.setAttribute("oninput","return;"),Gf=typeof v_.oninput=="function"}Kf=Gf}else Kf=!1;$x=Kf&&(!document.documentMode||9<document.documentMode)}function y_(){hl&&(hl.detachEvent("onpropertychange",zx),Ml=hl=null)}function zx(t){if(t.propertyName==="value"&&_h(Ml)){var e=[];Ux(e,Ml,t,Vg(t)),Ex(PN,e)}}function NN(t,e,n){t==="focusin"?(y_(),hl=e,Ml=n,hl.attachEvent("onpropertychange",zx)):t==="focusout"&&y_()}function DN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _h(Ml)}function ON(t,e){if(t==="click")return _h(e)}function MN(t,e){if(t==="input"||t==="change")return _h(e)}function LN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jn=typeof Object.is=="function"?Object.is:LN;function Ll(t,e){if(jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!zp.call(e,s)||!jn(t[s],e[s]))return!1}return!0}function w_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function __(t,e){var n=w_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w_(n)}}function Bx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wx(){for(var t=window,e=md();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=md(t.document)}return e}function qg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VN(t){var e=Wx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Bx(n.ownerDocument.documentElement,n)){if(r!==null&&qg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=__(n,i);var o=__(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FN=Nr&&"documentMode"in document&&11>=document.documentMode,fo=null,am=null,fl=null,lm=!1;function E_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lm||fo==null||fo!==md(r)||(r=fo,"selectionStart"in r&&qg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fl&&Ll(fl,r)||(fl=r,r=Td(am,"onSelect"),0<r.length&&(e=new Bg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fo)))}function mc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var po={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},Qf={},Hx={};Nr&&(Hx=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function Eh(t){if(Qf[t])return Qf[t];if(!po[t])return t;var e=po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Hx)return Qf[t]=e[n];return t}var qx=Eh("animationend"),Kx=Eh("animationiteration"),Gx=Eh("animationstart"),Qx=Eh("transitionend"),Yx=new Map,T_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gs(t,e){Yx.set(t,e),Li(e,[t])}for(var Yf=0;Yf<T_.length;Yf++){var Xf=T_[Yf],jN=Xf.toLowerCase(),UN=Xf[0].toUpperCase()+Xf.slice(1);Gs(jN,"on"+UN)}Gs(qx,"onAnimationEnd");Gs(Kx,"onAnimationIteration");Gs(Gx,"onAnimationStart");Gs("dblclick","onDoubleClick");Gs("focusin","onFocus");Gs("focusout","onBlur");Gs(Qx,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Li("onBeforeInput",["compositionend","keypress","textInput","paste"]);Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$N=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function x_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jk(r,e,void 0,t),t.currentTarget=null}function Xx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;x_(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;x_(s,a,c),i=l}}}if(vd)throw t=rm,vd=!1,rm=null,t}function Me(t,e){var n=e[fm];n===void 0&&(n=e[fm]=new Set);var r=t+"__bubble";n.has(r)||(Jx(e,t,2,!1),n.add(r))}function Jf(t,e,n){var r=0;e&&(r|=4),Jx(n,t,r,e)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Vl(t){if(!t[gc]){t[gc]=!0,ix.forEach(function(n){n!=="selectionchange"&&($N.has(n)||Jf(n,!1,t),Jf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gc]||(e[gc]=!0,Jf("selectionchange",!1,e))}}function Jx(t,e,n,r){switch(Mx(e)){case 1:var s=tN;break;case 4:s=nN;break;default:s=$g}n=s.bind(null,e,n,t),s=void 0,!nm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Zf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=hi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ex(function(){var c=i,d=Vg(n),h=[];e:{var p=Yx.get(t);if(p!==void 0){var m=Bg,x=t;switch(t){case"keypress":if(Bc(n)===0)break e;case"keydown":case"keyup":m=vN;break;case"focusin":x="focus",m=qf;break;case"focusout":x="blur",m=qf;break;case"beforeblur":case"afterblur":m=qf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=d_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=iN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_N;break;case qx:case Kx:case Gx:m=lN;break;case Qx:m=TN;break;case"scroll":m=rN;break;case"wheel":m=SN;break;case"copy":case"cut":case"paste":m=cN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=f_}var w=(e&4)!==0,T=!w&&t==="scroll",_=w?p!==null?p+"Capture":null:p;w=[];for(var E=c,S;E!==null;){S=E;var P=S.stateNode;if(S.tag===5&&P!==null&&(S=P,_!==null&&(P=kl(E,_),P!=null&&w.push(Fl(E,P,S)))),T)break;E=E.return}0<w.length&&(p=new m(p,x,null,n,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==em&&(x=n.relatedTarget||n.fromElement)&&(hi(x)||x[Dr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=c,x=x?hi(x):null,x!==null&&(T=Vi(x),x!==T||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(w=d_,P="onMouseLeave",_="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(w=f_,P="onPointerLeave",_="onPointerEnter",E="pointer"),T=m==null?p:mo(m),S=x==null?p:mo(x),p=new w(P,E+"leave",m,n,d),p.target=T,p.relatedTarget=S,P=null,hi(d)===c&&(w=new w(_,E+"enter",x,n,d),w.target=S,w.relatedTarget=T,P=w),T=P,m&&x)t:{for(w=m,_=x,E=0,S=w;S;S=to(S))E++;for(S=0,P=_;P;P=to(P))S++;for(;0<E-S;)w=to(w),E--;for(;0<S-E;)_=to(_),S--;for(;E--;){if(w===_||_!==null&&w===_.alternate)break t;w=to(w),_=to(_)}w=null}else w=null;m!==null&&S_(h,p,m,w,!1),x!==null&&T!==null&&S_(h,T,x,w,!0)}}e:{if(p=c?mo(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=kN;else if(g_(p))if($x)O=MN;else{O=DN;var M=NN}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=ON);if(O&&(O=O(t,c))){Ux(h,O,n,d);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&Qp(p,"number",p.value)}switch(M=c?mo(c):window,t){case"focusin":(g_(M)||M.contentEditable==="true")&&(fo=M,am=c,fl=null);break;case"focusout":fl=am=fo=null;break;case"mousedown":lm=!0;break;case"contextmenu":case"mouseup":case"dragend":lm=!1,E_(h,n,d);break;case"selectionchange":if(FN)break;case"keydown":case"keyup":E_(h,n,d)}var C;if(Hg)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ho?Fx(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Vx&&n.locale!=="ko"&&(ho||I!=="onCompositionStart"?I==="onCompositionEnd"&&ho&&(C=Lx()):(ys=d,zg="value"in ys?ys.value:ys.textContent,ho=!0)),M=Td(c,I),0<M.length&&(I=new h_(I,t,null,n,d),h.push({event:I,listeners:M}),C?I.data=C:(C=jx(n),C!==null&&(I.data=C)))),(C=CN?bN(t,n):AN(t,n))&&(c=Td(c,"onBeforeInput"),0<c.length&&(d=new h_("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=C))}Xx(h,e)})}function Fl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Td(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=kl(t,n),i!=null&&r.unshift(Fl(t,i,s)),i=kl(t,e),i!=null&&r.push(Fl(t,i,s))),t=t.return}return r}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function S_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=kl(n,i),l!=null&&o.unshift(Fl(n,l,a))):s||(l=kl(n,i),l!=null&&o.push(Fl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zN=/\r\n?/g,BN=/\u0000|\uFFFD/g;function I_(t){return(typeof t=="string"?t:""+t).replace(zN,`
`).replace(BN,"")}function vc(t,e,n){if(e=I_(e),I_(t)!==e&&n)throw Error(B(425))}function xd(){}var um=null,cm=null;function dm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hm=typeof setTimeout=="function"?setTimeout:void 0,WN=typeof clearTimeout=="function"?clearTimeout:void 0,C_=typeof Promise=="function"?Promise:void 0,HN=typeof queueMicrotask=="function"?queueMicrotask:typeof C_<"u"?function(t){return C_.resolve(null).then(t).catch(qN)}:hm;function qN(t){setTimeout(function(){throw t})}function ep(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ol(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ol(e)}function Is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function b_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pa=Math.random().toString(36).slice(2),er="__reactFiber$"+pa,jl="__reactProps$"+pa,Dr="__reactContainer$"+pa,fm="__reactEvents$"+pa,KN="__reactListeners$"+pa,GN="__reactHandles$"+pa;function hi(t){var e=t[er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dr]||n[er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=b_(t);t!==null;){if(n=t[er])return n;t=b_(t)}return e}t=n,n=t.parentNode}return null}function vu(t){return t=t[er]||t[Dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Th(t){return t[jl]||null}var pm=[],go=-1;function Qs(t){return{current:t}}function Ve(t){0>go||(t.current=pm[go],pm[go]=null,go--)}function Ne(t,e){go++,pm[go]=t.current,t.current=e}var Fs={},Pt=Qs(Fs),Kt=Qs(!1),Si=Fs;function qo(t,e){var n=t.type.contextTypes;if(!n)return Fs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Gt(t){return t=t.childContextTypes,t!=null}function Sd(){Ve(Kt),Ve(Pt)}function A_(t,e,n){if(Pt.current!==Fs)throw Error(B(168));Ne(Pt,e),Ne(Kt,n)}function Zx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,Nk(t)||"Unknown",s));return Be({},n,r)}function Id(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fs,Si=Pt.current,Ne(Pt,t),Ne(Kt,Kt.current),!0}function R_(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=Zx(t,e,Si),r.__reactInternalMemoizedMergedChildContext=t,Ve(Kt),Ve(Pt),Ne(Pt,t)):Ve(Kt),Ne(Kt,n)}var xr=null,xh=!1,tp=!1;function eS(t){xr===null?xr=[t]:xr.push(t)}function QN(t){xh=!0,eS(t)}function Ys(){if(!tp&&xr!==null){tp=!0;var t=0,e=Ae;try{var n=xr;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,xh=!1}catch(s){throw xr!==null&&(xr=xr.slice(t+1)),Ix(Fg,Ys),s}finally{Ae=e,tp=!1}}return null}var vo=[],yo=0,Cd=null,bd=0,fn=[],pn=0,Ii=null,Ir=1,Cr="";function ui(t,e){vo[yo++]=bd,vo[yo++]=Cd,Cd=t,bd=e}function tS(t,e,n){fn[pn++]=Ir,fn[pn++]=Cr,fn[pn++]=Ii,Ii=t;var r=Ir;t=Cr;var s=32-Vn(r)-1;r&=~(1<<s),n+=1;var i=32-Vn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ir=1<<32-Vn(e)+s|n<<s|r,Cr=i+t}else Ir=1<<i|n<<s|r,Cr=t}function Kg(t){t.return!==null&&(ui(t,1),tS(t,1,0))}function Gg(t){for(;t===Cd;)Cd=vo[--yo],vo[yo]=null,bd=vo[--yo],vo[yo]=null;for(;t===Ii;)Ii=fn[--pn],fn[pn]=null,Cr=fn[--pn],fn[pn]=null,Ir=fn[--pn],fn[pn]=null}var rn=null,nn=null,Ue=!1,Nn=null;function nS(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function P_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rn=t,nn=Is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rn=t,nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ii!==null?{id:Ir,overflow:Cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rn=t,nn=null,!0):!1;default:return!1}}function mm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gm(t){if(Ue){var e=nn;if(e){var n=e;if(!P_(t,e)){if(mm(t))throw Error(B(418));e=Is(n.nextSibling);var r=rn;e&&P_(t,e)?nS(r,n):(t.flags=t.flags&-4097|2,Ue=!1,rn=t)}}else{if(mm(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ue=!1,rn=t}}}function k_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function yc(t){if(t!==rn)return!1;if(!Ue)return k_(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dm(t.type,t.memoizedProps)),e&&(e=nn)){if(mm(t))throw rS(),Error(B(418));for(;e;)nS(t,e),e=Is(e.nextSibling)}if(k_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nn=Is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nn=null}}else nn=rn?Is(t.stateNode.nextSibling):null;return!0}function rS(){for(var t=nn;t;)t=Is(t.nextSibling)}function Ko(){nn=rn=null,Ue=!1}function Qg(t){Nn===null?Nn=[t]:Nn.push(t)}var YN=zr.ReactCurrentBatchConfig;function Ha(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function wc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function N_(t){var e=t._init;return e(t._payload)}function sS(t){function e(_,E){if(t){var S=_.deletions;S===null?(_.deletions=[E],_.flags|=16):S.push(E)}}function n(_,E){if(!t)return null;for(;E!==null;)e(_,E),E=E.sibling;return null}function r(_,E){for(_=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function s(_,E){return _=Rs(_,E),_.index=0,_.sibling=null,_}function i(_,E,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<E?(_.flags|=2,E):S):(_.flags|=2,E)):(_.flags|=1048576,E)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,E,S,P){return E===null||E.tag!==6?(E=lp(S,_.mode,P),E.return=_,E):(E=s(E,S),E.return=_,E)}function l(_,E,S,P){var O=S.type;return O===co?d(_,E,S.props.children,P,S.key):E!==null&&(E.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ss&&N_(O)===E.type)?(P=s(E,S.props),P.ref=Ha(_,E,S),P.return=_,P):(P=Yc(S.type,S.key,S.props,null,_.mode,P),P.ref=Ha(_,E,S),P.return=_,P)}function c(_,E,S,P){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=up(S,_.mode,P),E.return=_,E):(E=s(E,S.children||[]),E.return=_,E)}function d(_,E,S,P,O){return E===null||E.tag!==7?(E=Ti(S,_.mode,P,O),E.return=_,E):(E=s(E,S),E.return=_,E)}function h(_,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return E=lp(""+E,_.mode,S),E.return=_,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case lc:return S=Yc(E.type,E.key,E.props,null,_.mode,S),S.ref=Ha(_,null,E),S.return=_,S;case uo:return E=up(E,_.mode,S),E.return=_,E;case ss:var P=E._init;return h(_,P(E._payload),S)}if(Ja(E)||Ua(E))return E=Ti(E,_.mode,S,null),E.return=_,E;wc(_,E)}return null}function p(_,E,S,P){var O=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:a(_,E,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case lc:return S.key===O?l(_,E,S,P):null;case uo:return S.key===O?c(_,E,S,P):null;case ss:return O=S._init,p(_,E,O(S._payload),P)}if(Ja(S)||Ua(S))return O!==null?null:d(_,E,S,P,null);wc(_,S)}return null}function m(_,E,S,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(S)||null,a(E,_,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case lc:return _=_.get(P.key===null?S:P.key)||null,l(E,_,P,O);case uo:return _=_.get(P.key===null?S:P.key)||null,c(E,_,P,O);case ss:var M=P._init;return m(_,E,S,M(P._payload),O)}if(Ja(P)||Ua(P))return _=_.get(S)||null,d(E,_,P,O,null);wc(E,P)}return null}function x(_,E,S,P){for(var O=null,M=null,C=E,I=E=0,A=null;C!==null&&I<S.length;I++){C.index>I?(A=C,C=null):A=C.sibling;var R=p(_,C,S[I],P);if(R===null){C===null&&(C=A);break}t&&C&&R.alternate===null&&e(_,C),E=i(R,E,I),M===null?O=R:M.sibling=R,M=R,C=A}if(I===S.length)return n(_,C),Ue&&ui(_,I),O;if(C===null){for(;I<S.length;I++)C=h(_,S[I],P),C!==null&&(E=i(C,E,I),M===null?O=C:M.sibling=C,M=C);return Ue&&ui(_,I),O}for(C=r(_,C);I<S.length;I++)A=m(C,_,I,S[I],P),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?I:A.key),E=i(A,E,I),M===null?O=A:M.sibling=A,M=A);return t&&C.forEach(function(N){return e(_,N)}),Ue&&ui(_,I),O}function w(_,E,S,P){var O=Ua(S);if(typeof O!="function")throw Error(B(150));if(S=O.call(S),S==null)throw Error(B(151));for(var M=O=null,C=E,I=E=0,A=null,R=S.next();C!==null&&!R.done;I++,R=S.next()){C.index>I?(A=C,C=null):A=C.sibling;var N=p(_,C,R.value,P);if(N===null){C===null&&(C=A);break}t&&C&&N.alternate===null&&e(_,C),E=i(N,E,I),M===null?O=N:M.sibling=N,M=N,C=A}if(R.done)return n(_,C),Ue&&ui(_,I),O;if(C===null){for(;!R.done;I++,R=S.next())R=h(_,R.value,P),R!==null&&(E=i(R,E,I),M===null?O=R:M.sibling=R,M=R);return Ue&&ui(_,I),O}for(C=r(_,C);!R.done;I++,R=S.next())R=m(C,_,I,R.value,P),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?I:R.key),E=i(R,E,I),M===null?O=R:M.sibling=R,M=R);return t&&C.forEach(function(D){return e(_,D)}),Ue&&ui(_,I),O}function T(_,E,S,P){if(typeof S=="object"&&S!==null&&S.type===co&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case lc:e:{for(var O=S.key,M=E;M!==null;){if(M.key===O){if(O=S.type,O===co){if(M.tag===7){n(_,M.sibling),E=s(M,S.props.children),E.return=_,_=E;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ss&&N_(O)===M.type){n(_,M.sibling),E=s(M,S.props),E.ref=Ha(_,M,S),E.return=_,_=E;break e}n(_,M);break}else e(_,M);M=M.sibling}S.type===co?(E=Ti(S.props.children,_.mode,P,S.key),E.return=_,_=E):(P=Yc(S.type,S.key,S.props,null,_.mode,P),P.ref=Ha(_,E,S),P.return=_,_=P)}return o(_);case uo:e:{for(M=S.key;E!==null;){if(E.key===M)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(_,E.sibling),E=s(E,S.children||[]),E.return=_,_=E;break e}else{n(_,E);break}else e(_,E);E=E.sibling}E=up(S,_.mode,P),E.return=_,_=E}return o(_);case ss:return M=S._init,T(_,E,M(S._payload),P)}if(Ja(S))return x(_,E,S,P);if(Ua(S))return w(_,E,S,P);wc(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,E!==null&&E.tag===6?(n(_,E.sibling),E=s(E,S),E.return=_,_=E):(n(_,E),E=lp(S,_.mode,P),E.return=_,_=E),o(_)):n(_,E)}return T}var Go=sS(!0),iS=sS(!1),Ad=Qs(null),Rd=null,wo=null,Yg=null;function Xg(){Yg=wo=Rd=null}function Jg(t){var e=Ad.current;Ve(Ad),t._currentValue=e}function vm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bo(t,e){Rd=t,Yg=wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(Yg!==t)if(t={context:t,memoizedValue:e,next:null},wo===null){if(Rd===null)throw Error(B(308));wo=t,Rd.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var fi=null;function Zg(t){fi===null?fi=[t]:fi.push(t)}function oS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Zg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Or(t,r)}function Or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var is=!1;function ev(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Or(t,n)}return s=r.interleaved,s===null?(e.next=e,Zg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Or(t,n)}function Wc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jg(t,n)}}function D_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pd(t,e,n,r){var s=t.updateQueue;is=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,w=a;switch(p=e,m=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){h=x.call(m,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,p=typeof x=="function"?x.call(m,h,p):x,p==null)break e;h=Be({},h,p);break e;case 2:is=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);bi|=o,t.lanes=o,t.memoizedState=h}}function O_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var yu={},rr=Qs(yu),Ul=Qs(yu),$l=Qs(yu);function pi(t){if(t===yu)throw Error(B(174));return t}function tv(t,e){switch(Ne($l,e),Ne(Ul,t),Ne(rr,yu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xp(e,t)}Ve(rr),Ne(rr,e)}function Qo(){Ve(rr),Ve(Ul),Ve($l)}function lS(t){pi($l.current);var e=pi(rr.current),n=Xp(e,t.type);e!==n&&(Ne(Ul,t),Ne(rr,n))}function nv(t){Ul.current===t&&(Ve(rr),Ve(Ul))}var $e=Qs(0);function kd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var np=[];function rv(){for(var t=0;t<np.length;t++)np[t]._workInProgressVersionPrimary=null;np.length=0}var Hc=zr.ReactCurrentDispatcher,rp=zr.ReactCurrentBatchConfig,Ci=0,ze=null,rt=null,lt=null,Nd=!1,pl=!1,zl=0,XN=0;function xt(){throw Error(B(321))}function sv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jn(t[n],e[n]))return!1;return!0}function iv(t,e,n,r,s,i){if(Ci=i,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hc.current=t===null||t.memoizedState===null?tD:nD,t=n(r,s),pl){i=0;do{if(pl=!1,zl=0,25<=i)throw Error(B(301));i+=1,lt=rt=null,e.updateQueue=null,Hc.current=rD,t=n(r,s)}while(pl)}if(Hc.current=Dd,e=rt!==null&&rt.next!==null,Ci=0,lt=rt=ze=null,Nd=!1,e)throw Error(B(300));return t}function ov(){var t=zl!==0;return zl=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?ze.memoizedState=lt=t:lt=lt.next=t,lt}function _n(){if(rt===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=lt===null?ze.memoizedState:lt.next;if(e!==null)lt=e,rt=t;else{if(t===null)throw Error(B(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},lt===null?ze.memoizedState=lt=t:lt=lt.next=t}return lt}function Bl(t,e){return typeof e=="function"?e(t):e}function sp(t){var e=_n(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=rt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Ci&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ze.lanes|=d,bi|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,jn(r,e.memoizedState)||(qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ze.lanes|=i,bi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ip(t){var e=_n(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);jn(i,e.memoizedState)||(qt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function uS(){}function cS(t,e){var n=ze,r=_n(),s=e(),i=!jn(r.memoizedState,s);if(i&&(r.memoizedState=s,qt=!0),r=r.queue,av(fS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Wl(9,hS.bind(null,n,r,s,e),void 0,null),ut===null)throw Error(B(349));Ci&30||dS(n,e,s)}return s}function dS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hS(t,e,n,r){e.value=n,e.getSnapshot=r,pS(e)&&mS(t)}function fS(t,e,n){return n(function(){pS(e)&&mS(t)})}function pS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jn(t,n)}catch{return!0}}function mS(t){var e=Or(t,1);e!==null&&Fn(e,t,1,-1)}function M_(t){var e=Gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:t},e.queue=t,t=t.dispatch=eD.bind(null,ze,t),[e.memoizedState,t]}function Wl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gS(){return _n().memoizedState}function qc(t,e,n,r){var s=Gn();ze.flags|=t,s.memoizedState=Wl(1|e,n,void 0,r===void 0?null:r)}function Sh(t,e,n,r){var s=_n();r=r===void 0?null:r;var i=void 0;if(rt!==null){var o=rt.memoizedState;if(i=o.destroy,r!==null&&sv(r,o.deps)){s.memoizedState=Wl(e,n,i,r);return}}ze.flags|=t,s.memoizedState=Wl(1|e,n,i,r)}function L_(t,e){return qc(8390656,8,t,e)}function av(t,e){return Sh(2048,8,t,e)}function vS(t,e){return Sh(4,2,t,e)}function yS(t,e){return Sh(4,4,t,e)}function wS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _S(t,e,n){return n=n!=null?n.concat([t]):null,Sh(4,4,wS.bind(null,e,t),n)}function lv(){}function ES(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function TS(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xS(t,e,n){return Ci&21?(jn(n,e)||(n=Ax(),ze.lanes|=n,bi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=n)}function JN(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=rp.transition;rp.transition={};try{t(!1),e()}finally{Ae=n,rp.transition=r}}function SS(){return _n().memoizedState}function ZN(t,e,n){var r=As(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},IS(t))CS(e,n);else if(n=oS(t,e,n,r),n!==null){var s=Lt();Fn(n,t,r,s),bS(n,e,r)}}function eD(t,e,n){var r=As(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(IS(t))CS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,jn(a,o)){var l=e.interleaved;l===null?(s.next=s,Zg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=oS(t,e,s,r),n!==null&&(s=Lt(),Fn(n,t,r,s),bS(n,e,r))}}function IS(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function CS(t,e){pl=Nd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jg(t,n)}}var Dd={readContext:wn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},tD={readContext:wn,useCallback:function(t,e){return Gn().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:L_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qc(4194308,4,wS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qc(4194308,4,t,e)},useInsertionEffect:function(t,e){return qc(4,2,t,e)},useMemo:function(t,e){var n=Gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZN.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=Gn();return t={current:t},e.memoizedState=t},useState:M_,useDebugValue:lv,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=M_(!1),e=t[0];return t=JN.bind(null,t[1]),Gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,s=Gn();if(Ue){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ut===null)throw Error(B(349));Ci&30||dS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,L_(fS.bind(null,r,i,t),[t]),r.flags|=2048,Wl(9,hS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Gn(),e=ut.identifierPrefix;if(Ue){var n=Cr,r=Ir;n=(r&~(1<<32-Vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nD={readContext:wn,useCallback:ES,useContext:wn,useEffect:av,useImperativeHandle:_S,useInsertionEffect:vS,useLayoutEffect:yS,useMemo:TS,useReducer:sp,useRef:gS,useState:function(){return sp(Bl)},useDebugValue:lv,useDeferredValue:function(t){var e=_n();return xS(e,rt.memoizedState,t)},useTransition:function(){var t=sp(Bl)[0],e=_n().memoizedState;return[t,e]},useMutableSource:uS,useSyncExternalStore:cS,useId:SS,unstable_isNewReconciler:!1},rD={readContext:wn,useCallback:ES,useContext:wn,useEffect:av,useImperativeHandle:_S,useInsertionEffect:vS,useLayoutEffect:yS,useMemo:TS,useReducer:ip,useRef:gS,useState:function(){return ip(Bl)},useDebugValue:lv,useDeferredValue:function(t){var e=_n();return rt===null?e.memoizedState=t:xS(e,rt.memoizedState,t)},useTransition:function(){var t=ip(Bl)[0],e=_n().memoizedState;return[t,e]},useMutableSource:uS,useSyncExternalStore:cS,useId:SS,unstable_isNewReconciler:!1};function bn(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ym(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ih={isMounted:function(t){return(t=t._reactInternals)?Vi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lt(),s=As(t),i=Rr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Cs(t,i,s),e!==null&&(Fn(e,t,s,r),Wc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lt(),s=As(t),i=Rr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Cs(t,i,s),e!==null&&(Fn(e,t,s,r),Wc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),r=As(t),s=Rr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Cs(t,s,r),e!==null&&(Fn(e,t,r,n),Wc(e,t,r))}};function V_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ll(n,r)||!Ll(s,i):!0}function AS(t,e,n){var r=!1,s=Fs,i=e.contextType;return typeof i=="object"&&i!==null?i=wn(i):(s=Gt(e)?Si:Pt.current,r=e.contextTypes,i=(r=r!=null)?qo(t,s):Fs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ih,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function F_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ih.enqueueReplaceState(e,e.state,null)}function wm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ev(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=wn(i):(i=Gt(e)?Si:Pt.current,s.context=qo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ym(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ih.enqueueReplaceState(s,s.state,null),Pd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Yo(t,e){try{var n="",r=e;do n+=kk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function op(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _m(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sD=typeof WeakMap=="function"?WeakMap:Map;function RS(t,e,n){n=Rr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Md||(Md=!0,Pm=r),_m(t,e)},n}function PS(t,e,n){n=Rr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){_m(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_m(t,e),typeof r!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function j_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sD;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=yD.bind(null,t,e,n),e.then(t,t))}function U_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rr(-1,1),e.tag=2,Cs(n,e,1))),n.lanes|=1),t)}var iD=zr.ReactCurrentOwner,qt=!1;function Ot(t,e,n,r){e.child=t===null?iS(e,null,n,r):Go(e,t.child,n,r)}function z_(t,e,n,r,s){n=n.render;var i=e.ref;return bo(e,s),r=iv(t,e,n,r,i,s),n=ov(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mr(t,e,s)):(Ue&&n&&Kg(e),e.flags|=1,Ot(t,e,r,s),e.child)}function B_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!gv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,kS(t,e,i,r,s)):(t=Yc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ll,n(o,r)&&t.ref===e.ref)return Mr(t,e,s)}return e.flags|=1,t=Rs(i,r),t.ref=e.ref,t.return=e,e.child=t}function kS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ll(i,r)&&t.ref===e.ref)if(qt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(qt=!0);else return e.lanes=t.lanes,Mr(t,e,s)}return Em(t,e,n,r,s)}function NS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Eo,en),en|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(Eo,en),en|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ne(Eo,en),en|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ne(Eo,en),en|=r;return Ot(t,e,s,n),e.child}function DS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Em(t,e,n,r,s){var i=Gt(n)?Si:Pt.current;return i=qo(e,i),bo(e,s),n=iv(t,e,n,r,i,s),r=ov(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mr(t,e,s)):(Ue&&r&&Kg(e),e.flags|=1,Ot(t,e,n,s),e.child)}function W_(t,e,n,r,s){if(Gt(n)){var i=!0;Id(e)}else i=!1;if(bo(e,s),e.stateNode===null)Kc(t,e),AS(e,n,r),wm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wn(c):(c=Gt(n)?Si:Pt.current,c=qo(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&F_(e,o,r,c),is=!1;var p=e.memoizedState;o.state=p,Pd(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Kt.current||is?(typeof d=="function"&&(ym(e,n,d,r),l=e.memoizedState),(a=is||V_(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,aS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:bn(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=Gt(n)?Si:Pt.current,l=qo(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&F_(e,o,r,l),is=!1,p=e.memoizedState,o.state=p,Pd(e,r,o,s);var x=e.memoizedState;a!==h||p!==x||Kt.current||is?(typeof m=="function"&&(ym(e,n,m,r),x=e.memoizedState),(c=is||V_(e,n,c,r,p,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Tm(t,e,n,r,i,s)}function Tm(t,e,n,r,s,i){DS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&R_(e,n,!1),Mr(t,e,i);r=e.stateNode,iD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Go(e,t.child,null,i),e.child=Go(e,null,a,i)):Ot(t,e,a,i),e.memoizedState=r.state,s&&R_(e,n,!0),e.child}function OS(t){var e=t.stateNode;e.pendingContext?A_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&A_(t,e.context,!1),tv(t,e.containerInfo)}function H_(t,e,n,r,s){return Ko(),Qg(s),e.flags|=256,Ot(t,e,n,r),e.child}var xm={dehydrated:null,treeContext:null,retryLane:0};function Sm(t){return{baseLanes:t,cachePool:null,transitions:null}}function MS(t,e,n){var r=e.pendingProps,s=$e.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ne($e,s&1),t===null)return gm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ah(o,r,0,null),t=Ti(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Sm(n),e.memoizedState=xm,t):uv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return oD(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Rs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Rs(a,i):(i=Ti(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Sm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=xm,r}return i=t.child,t=i.sibling,r=Rs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function uv(t,e){return e=Ah({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _c(t,e,n,r){return r!==null&&Qg(r),Go(e,t.child,null,n),t=uv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oD(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=op(Error(B(422))),_c(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ah({mode:"visible",children:r.children},s,0,null),i=Ti(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Go(e,t.child,null,o),e.child.memoizedState=Sm(o),e.memoizedState=xm,i);if(!(e.mode&1))return _c(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=op(i,r,void 0),_c(t,e,o,r)}if(a=(o&t.childLanes)!==0,qt||a){if(r=ut,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Or(t,s),Fn(r,t,s,-1))}return mv(),r=op(Error(B(421))),_c(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=wD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,nn=Is(s.nextSibling),rn=e,Ue=!0,Nn=null,t!==null&&(fn[pn++]=Ir,fn[pn++]=Cr,fn[pn++]=Ii,Ir=t.id,Cr=t.overflow,Ii=e),e=uv(e,r.children),e.flags|=4096,e)}function q_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vm(t.return,e,n)}function ap(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function LS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ot(t,e,r.children,n),r=$e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&q_(t,n,e);else if(t.tag===19)q_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne($e,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&kd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ap(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&kd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ap(e,!0,n,null,i);break;case"together":ap(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Rs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aD(t,e,n){switch(e.tag){case 3:OS(e),Ko();break;case 5:lS(e);break;case 1:Gt(e.type)&&Id(e);break;case 4:tv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ne(Ad,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?MS(t,e,n):(Ne($e,$e.current&1),t=Mr(t,e,n),t!==null?t.sibling:null);Ne($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return LS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,NS(t,e,n)}return Mr(t,e,n)}var VS,Im,FS,jS;VS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Im=function(){};FS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,pi(rr.current);var i=null;switch(n){case"input":s=Kp(t,s),r=Kp(t,r),i=[];break;case"select":s=Be({},s,{value:void 0}),r=Be({},r,{value:void 0}),i=[];break;case"textarea":s=Yp(t,s),r=Yp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xd)}Jp(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Rl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Rl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Me("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};jS=function(t,e,n,r){n!==r&&(e.flags|=4)};function qa(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function St(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lD(t,e,n){var r=e.pendingProps;switch(Gg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(e),null;case 1:return Gt(e.type)&&Sd(),St(e),null;case 3:return r=e.stateNode,Qo(),Ve(Kt),Ve(Pt),rv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nn!==null&&(Dm(Nn),Nn=null))),Im(t,e),St(e),null;case 5:nv(e);var s=pi($l.current);if(n=e.type,t!==null&&e.stateNode!=null)FS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return St(e),null}if(t=pi(rr.current),yc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[er]=e,r[jl]=i,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(s=0;s<el.length;s++)Me(el[s],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":t_(r,i),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Me("invalid",r);break;case"textarea":r_(r,i),Me("invalid",r)}Jp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&vc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&vc(r.textContent,a,t),s=["children",""+a]):Rl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Me("scroll",r)}switch(n){case"input":uc(r),n_(r,i,!0);break;case"textarea":uc(r),s_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[er]=e,t[jl]=r,VS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zp(n,r),n){case"dialog":Me("cancel",t),Me("close",t),s=r;break;case"iframe":case"object":case"embed":Me("load",t),s=r;break;case"video":case"audio":for(s=0;s<el.length;s++)Me(el[s],t);s=r;break;case"source":Me("error",t),s=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),s=r;break;case"details":Me("toggle",t),s=r;break;case"input":t_(t,r),s=Kp(t,r),Me("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Be({},r,{value:void 0}),Me("invalid",t);break;case"textarea":r_(t,r),s=Yp(t,r),Me("invalid",t);break;default:s=r}Jp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?gx(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&px(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pl(t,l):typeof l=="number"&&Pl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Me("scroll",t):l!=null&&Dg(t,i,l,o))}switch(n){case"input":uc(t),n_(t,r,!1);break;case"textarea":uc(t),s_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?xo(t,!!r.multiple,i,!1):r.defaultValue!=null&&xo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return St(e),null;case 6:if(t&&e.stateNode!=null)jS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=pi($l.current),pi(rr.current),yc(e)){if(r=e.stateNode,n=e.memoizedProps,r[er]=e,(i=r.nodeValue!==n)&&(t=rn,t!==null))switch(t.tag){case 3:vc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[er]=e,e.stateNode=r}return St(e),null;case 13:if(Ve($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&nn!==null&&e.mode&1&&!(e.flags&128))rS(),Ko(),e.flags|=98560,i=!1;else if(i=yc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[er]=e}else Ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;St(e),i=!1}else Nn!==null&&(Dm(Nn),Nn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?st===0&&(st=3):mv())),e.updateQueue!==null&&(e.flags|=4),St(e),null);case 4:return Qo(),Im(t,e),t===null&&Vl(e.stateNode.containerInfo),St(e),null;case 10:return Jg(e.type._context),St(e),null;case 17:return Gt(e.type)&&Sd(),St(e),null;case 19:if(Ve($e),i=e.memoizedState,i===null)return St(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)qa(i,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=kd(t),o!==null){for(e.flags|=128,qa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne($e,$e.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ye()>Xo&&(e.flags|=128,r=!0,qa(i,!1),e.lanes=4194304)}else{if(!r)if(t=kd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ue)return St(e),null}else 2*Ye()-i.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,r=!0,qa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ye(),e.sibling=null,n=$e.current,Ne($e,r?n&1|2:n&1),e):(St(e),null);case 22:case 23:return pv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?en&1073741824&&(St(e),e.subtreeFlags&6&&(e.flags|=8192)):St(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function uD(t,e){switch(Gg(e),e.tag){case 1:return Gt(e.type)&&Sd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qo(),Ve(Kt),Ve(Pt),rv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nv(e),null;case 13:if(Ve($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve($e),null;case 4:return Qo(),null;case 10:return Jg(e.type._context),null;case 22:case 23:return pv(),null;case 24:return null;default:return null}}var Ec=!1,At=!1,cD=typeof WeakSet=="function"?WeakSet:Set,Y=null;function _o(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function Cm(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var K_=!1;function dD(t,e){if(um=_d,t=Wx(),qg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cm={focusedElem:t,selectionRange:n},_d=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,T=x.memoizedState,_=e.stateNode,E=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:bn(e.type,w),T);_.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(P){Ge(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return x=K_,K_=!1,x}function ml(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cm(e,n,i)}s=s.next}while(s!==r)}}function Ch(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function US(t){var e=t.alternate;e!==null&&(t.alternate=null,US(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[er],delete e[jl],delete e[fm],delete e[KN],delete e[GN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $S(t){return t.tag===5||t.tag===3||t.tag===4}function G_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$S(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Am(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xd));else if(r!==4&&(t=t.child,t!==null))for(Am(t,e,n),t=t.sibling;t!==null;)Am(t,e,n),t=t.sibling}function Rm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rm(t,e,n),t=t.sibling;t!==null;)Rm(t,e,n),t=t.sibling}var pt=null,kn=!1;function Jr(t,e,n){for(n=n.child;n!==null;)zS(t,e,n),n=n.sibling}function zS(t,e,n){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(yh,n)}catch{}switch(n.tag){case 5:At||_o(n,e);case 6:var r=pt,s=kn;pt=null,Jr(t,e,n),pt=r,kn=s,pt!==null&&(kn?(t=pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(kn?(t=pt,n=n.stateNode,t.nodeType===8?ep(t.parentNode,n):t.nodeType===1&&ep(t,n),Ol(t)):ep(pt,n.stateNode));break;case 4:r=pt,s=kn,pt=n.stateNode.containerInfo,kn=!0,Jr(t,e,n),pt=r,kn=s;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Cm(n,e,o),s=s.next}while(s!==r)}Jr(t,e,n);break;case 1:if(!At&&(_o(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,e,a)}Jr(t,e,n);break;case 21:Jr(t,e,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,Jr(t,e,n),At=r):Jr(t,e,n);break;default:Jr(t,e,n)}}function Q_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cD),e.forEach(function(r){var s=_D.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function In(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pt=a.stateNode,kn=!1;break e;case 3:pt=a.stateNode.containerInfo,kn=!0;break e;case 4:pt=a.stateNode.containerInfo,kn=!0;break e}a=a.return}if(pt===null)throw Error(B(160));zS(i,o,s),pt=null,kn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ge(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BS(e,t),e=e.sibling}function BS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(In(e,t),Kn(t),r&4){try{ml(3,t,t.return),Ch(3,t)}catch(w){Ge(t,t.return,w)}try{ml(5,t,t.return)}catch(w){Ge(t,t.return,w)}}break;case 1:In(e,t),Kn(t),r&512&&n!==null&&_o(n,n.return);break;case 5:if(In(e,t),Kn(t),r&512&&n!==null&&_o(n,n.return),t.flags&32){var s=t.stateNode;try{Pl(s,"")}catch(w){Ge(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&dx(s,i),Zp(a,o);var c=Zp(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?gx(s,h):d==="dangerouslySetInnerHTML"?px(s,h):d==="children"?Pl(s,h):Dg(s,d,h,c)}switch(a){case"input":Gp(s,i);break;case"textarea":hx(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?xo(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?xo(s,!!i.multiple,i.defaultValue,!0):xo(s,!!i.multiple,i.multiple?[]:"",!1))}s[jl]=i}catch(w){Ge(t,t.return,w)}}break;case 6:if(In(e,t),Kn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Ge(t,t.return,w)}}break;case 3:if(In(e,t),Kn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ol(e.containerInfo)}catch(w){Ge(t,t.return,w)}break;case 4:In(e,t),Kn(t);break;case 13:In(e,t),Kn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(hv=Ye())),r&4&&Q_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(At=(c=At)||d,In(e,t),At=c):In(e,t),Kn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(p=Y,m=p.child,p.tag){case 0:case 11:case 14:case 15:ml(4,p,p.return);break;case 1:_o(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(w){Ge(r,n,w)}}break;case 5:_o(p,p.return);break;case 22:if(p.memoizedState!==null){X_(h);continue}}m!==null?(m.return=p,Y=m):X_(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mx("display",o))}catch(w){Ge(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Ge(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:In(e,t),Kn(t),r&4&&Q_(t);break;case 21:break;default:In(e,t),Kn(t)}}function Kn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($S(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pl(s,""),r.flags&=-33);var i=G_(t);Rm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=G_(t);Am(t,a,o);break;default:throw Error(B(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hD(t,e,n){Y=t,WS(t)}function WS(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ec;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||At;a=Ec;var c=At;if(Ec=o,(At=l)&&!c)for(Y=s;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?J_(s):l!==null?(l.return=o,Y=l):J_(s);for(;i!==null;)Y=i,WS(i),i=i.sibling;Y=s,Ec=a,At=c}Y_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):Y_(t)}}function Y_(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||Ch(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!At)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:bn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&O_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}O_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ol(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}At||e.flags&512&&bm(e)}catch(p){Ge(e,e.return,p)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function X_(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function J_(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ch(4,e)}catch(l){Ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ge(e,s,l)}}var i=e.return;try{bm(e)}catch(l){Ge(e,i,l)}break;case 5:var o=e.return;try{bm(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var fD=Math.ceil,Od=zr.ReactCurrentDispatcher,cv=zr.ReactCurrentOwner,vn=zr.ReactCurrentBatchConfig,Te=0,ut=null,tt=null,vt=0,en=0,Eo=Qs(0),st=0,Hl=null,bi=0,bh=0,dv=0,gl=null,Ht=null,hv=0,Xo=1/0,Tr=null,Md=!1,Pm=null,bs=null,Tc=!1,ws=null,Ld=0,vl=0,km=null,Gc=-1,Qc=0;function Lt(){return Te&6?Ye():Gc!==-1?Gc:Gc=Ye()}function As(t){return t.mode&1?Te&2&&vt!==0?vt&-vt:YN.transition!==null?(Qc===0&&(Qc=Ax()),Qc):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:Mx(t.type)),t):1}function Fn(t,e,n,r){if(50<vl)throw vl=0,km=null,Error(B(185));mu(t,n,r),(!(Te&2)||t!==ut)&&(t===ut&&(!(Te&2)&&(bh|=n),st===4&&as(t,vt)),Qt(t,r),n===1&&Te===0&&!(e.mode&1)&&(Xo=Ye()+500,xh&&Ys()))}function Qt(t,e){var n=t.callbackNode;Yk(t,e);var r=wd(t,t===ut?vt:0);if(r===0)n!==null&&a_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&a_(n),e===1)t.tag===0?QN(Z_.bind(null,t)):eS(Z_.bind(null,t)),HN(function(){!(Te&6)&&Ys()}),n=null;else{switch(Rx(r)){case 1:n=Fg;break;case 4:n=Cx;break;case 16:n=yd;break;case 536870912:n=bx;break;default:n=yd}n=JS(n,HS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function HS(t,e){if(Gc=-1,Qc=0,Te&6)throw Error(B(327));var n=t.callbackNode;if(Ao()&&t.callbackNode!==n)return null;var r=wd(t,t===ut?vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vd(t,r);else{e=r;var s=Te;Te|=2;var i=KS();(ut!==t||vt!==e)&&(Tr=null,Xo=Ye()+500,Ei(t,e));do try{gD();break}catch(a){qS(t,a)}while(!0);Xg(),Od.current=i,Te=s,tt!==null?e=0:(ut=null,vt=0,e=st)}if(e!==0){if(e===2&&(s=sm(t),s!==0&&(r=s,e=Nm(t,s))),e===1)throw n=Hl,Ei(t,0),as(t,r),Qt(t,Ye()),n;if(e===6)as(t,r);else{if(s=t.current.alternate,!(r&30)&&!pD(s)&&(e=Vd(t,r),e===2&&(i=sm(t),i!==0&&(r=i,e=Nm(t,i))),e===1))throw n=Hl,Ei(t,0),as(t,r),Qt(t,Ye()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ci(t,Ht,Tr);break;case 3:if(as(t,r),(r&130023424)===r&&(e=hv+500-Ye(),10<e)){if(wd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Lt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hm(ci.bind(null,t,Ht,Tr),e);break}ci(t,Ht,Tr);break;case 4:if(as(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Vn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fD(r/1960))-r,10<r){t.timeoutHandle=hm(ci.bind(null,t,Ht,Tr),r);break}ci(t,Ht,Tr);break;case 5:ci(t,Ht,Tr);break;default:throw Error(B(329))}}}return Qt(t,Ye()),t.callbackNode===n?HS.bind(null,t):null}function Nm(t,e){var n=gl;return t.current.memoizedState.isDehydrated&&(Ei(t,e).flags|=256),t=Vd(t,e),t!==2&&(e=Ht,Ht=n,e!==null&&Dm(e)),t}function Dm(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function pD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!jn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function as(t,e){for(e&=~dv,e&=~bh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vn(e),r=1<<n;t[n]=-1,e&=~r}}function Z_(t){if(Te&6)throw Error(B(327));Ao();var e=wd(t,0);if(!(e&1))return Qt(t,Ye()),null;var n=Vd(t,e);if(t.tag!==0&&n===2){var r=sm(t);r!==0&&(e=r,n=Nm(t,r))}if(n===1)throw n=Hl,Ei(t,0),as(t,e),Qt(t,Ye()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ci(t,Ht,Tr),Qt(t,Ye()),null}function fv(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Xo=Ye()+500,xh&&Ys())}}function Ai(t){ws!==null&&ws.tag===0&&!(Te&6)&&Ao();var e=Te;Te|=1;var n=vn.transition,r=Ae;try{if(vn.transition=null,Ae=1,t)return t()}finally{Ae=r,vn.transition=n,Te=e,!(Te&6)&&Ys()}}function pv(){en=Eo.current,Ve(Eo)}function Ei(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WN(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(Gg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sd();break;case 3:Qo(),Ve(Kt),Ve(Pt),rv();break;case 5:nv(r);break;case 4:Qo();break;case 13:Ve($e);break;case 19:Ve($e);break;case 10:Jg(r.type._context);break;case 22:case 23:pv()}n=n.return}if(ut=t,tt=t=Rs(t.current,null),vt=en=e,st=0,Hl=null,dv=bh=bi=0,Ht=gl=null,fi!==null){for(e=0;e<fi.length;e++)if(n=fi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}fi=null}return t}function qS(t,e){do{var n=tt;try{if(Xg(),Hc.current=Dd,Nd){for(var r=ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Nd=!1}if(Ci=0,lt=rt=ze=null,pl=!1,zl=0,cv.current=null,n===null||n.return===null){st=1,Hl=e,tt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=U_(o);if(m!==null){m.flags&=-257,$_(m,o,a,i,e),m.mode&1&&j_(i,c,e),e=m,l=c;var x=e.updateQueue;if(x===null){var w=new Set;w.add(l),e.updateQueue=w}else x.add(l);break e}else{if(!(e&1)){j_(i,c,e),mv();break e}l=Error(B(426))}}else if(Ue&&a.mode&1){var T=U_(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),$_(T,o,a,i,e),Qg(Yo(l,a));break e}}i=l=Yo(l,a),st!==4&&(st=2),gl===null?gl=[i]:gl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=RS(i,l,e);D_(i,_);break e;case 1:a=l;var E=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(bs===null||!bs.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=PS(i,a,e);D_(i,P);break e}}i=i.return}while(i!==null)}QS(n)}catch(O){e=O,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function KS(){var t=Od.current;return Od.current=Dd,t===null?Dd:t}function mv(){(st===0||st===3||st===2)&&(st=4),ut===null||!(bi&268435455)&&!(bh&268435455)||as(ut,vt)}function Vd(t,e){var n=Te;Te|=2;var r=KS();(ut!==t||vt!==e)&&(Tr=null,Ei(t,e));do try{mD();break}catch(s){qS(t,s)}while(!0);if(Xg(),Te=n,Od.current=r,tt!==null)throw Error(B(261));return ut=null,vt=0,st}function mD(){for(;tt!==null;)GS(tt)}function gD(){for(;tt!==null&&!$k();)GS(tt)}function GS(t){var e=XS(t.alternate,t,en);t.memoizedProps=t.pendingProps,e===null?QS(t):tt=e,cv.current=null}function QS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uD(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,tt=null;return}}else if(n=lD(n,e,en),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);st===0&&(st=5)}function ci(t,e,n){var r=Ae,s=vn.transition;try{vn.transition=null,Ae=1,vD(t,e,n,r)}finally{vn.transition=s,Ae=r}return null}function vD(t,e,n,r){do Ao();while(ws!==null);if(Te&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Xk(t,i),t===ut&&(tt=ut=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tc||(Tc=!0,JS(yd,function(){return Ao(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=vn.transition,vn.transition=null;var o=Ae;Ae=1;var a=Te;Te|=4,cv.current=null,dD(t,n),BS(n,t),VN(cm),_d=!!um,cm=um=null,t.current=n,hD(n),zk(),Te=a,Ae=o,vn.transition=i}else t.current=n;if(Tc&&(Tc=!1,ws=t,Ld=s),i=t.pendingLanes,i===0&&(bs=null),Hk(n.stateNode),Qt(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Md)throw Md=!1,t=Pm,Pm=null,t;return Ld&1&&t.tag!==0&&Ao(),i=t.pendingLanes,i&1?t===km?vl++:(vl=0,km=t):vl=0,Ys(),null}function Ao(){if(ws!==null){var t=Rx(Ld),e=vn.transition,n=Ae;try{if(vn.transition=null,Ae=16>t?16:t,ws===null)var r=!1;else{if(t=ws,ws=null,Ld=0,Te&6)throw Error(B(331));var s=Te;for(Te|=4,Y=t.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Y=c;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:ml(8,d,i)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var p=d.sibling,m=d.return;if(US(d),d===c){Y=null;break}if(p!==null){p.return=m,Y=p;break}Y=m}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ml(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,Y=_;break e}Y=i.return}}var E=t.current;for(Y=E;Y!==null;){o=Y;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Y=S;else e:for(o=E;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ch(9,a)}}catch(O){Ge(a,a.return,O)}if(a===o){Y=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,Y=P;break e}Y=a.return}}if(Te=s,Ys(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(yh,t)}catch{}r=!0}return r}finally{Ae=n,vn.transition=e}}return!1}function e0(t,e,n){e=Yo(n,e),e=RS(t,e,1),t=Cs(t,e,1),e=Lt(),t!==null&&(mu(t,1,e),Qt(t,e))}function Ge(t,e,n){if(t.tag===3)e0(t,t,n);else for(;e!==null;){if(e.tag===3){e0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bs===null||!bs.has(r))){t=Yo(n,t),t=PS(e,t,1),e=Cs(e,t,1),t=Lt(),e!==null&&(mu(e,1,t),Qt(e,t));break}}e=e.return}}function yD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(vt&n)===n&&(st===4||st===3&&(vt&130023424)===vt&&500>Ye()-hv?Ei(t,0):dv|=n),Qt(t,e)}function YS(t,e){e===0&&(t.mode&1?(e=hc,hc<<=1,!(hc&130023424)&&(hc=4194304)):e=1);var n=Lt();t=Or(t,e),t!==null&&(mu(t,e,n),Qt(t,n))}function wD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),YS(t,n)}function _D(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),YS(t,n)}var XS;XS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kt.current)qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qt=!1,aD(t,e,n);qt=!!(t.flags&131072)}else qt=!1,Ue&&e.flags&1048576&&tS(e,bd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Kc(t,e),t=e.pendingProps;var s=qo(e,Pt.current);bo(e,n),s=iv(null,e,r,t,s,n);var i=ov();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(r)?(i=!0,Id(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ev(e),s.updater=Ih,e.stateNode=s,s._reactInternals=e,wm(e,r,t,n),e=Tm(null,e,r,!0,i,n)):(e.tag=0,Ue&&i&&Kg(e),Ot(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Kc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=TD(r),t=bn(r,t),s){case 0:e=Em(null,e,r,t,n);break e;case 1:e=W_(null,e,r,t,n);break e;case 11:e=z_(null,e,r,t,n);break e;case 14:e=B_(null,e,r,bn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),Em(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),W_(t,e,r,s,n);case 3:e:{if(OS(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,aS(t,e),Pd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Yo(Error(B(423)),e),e=H_(t,e,r,n,s);break e}else if(r!==s){s=Yo(Error(B(424)),e),e=H_(t,e,r,n,s);break e}else for(nn=Is(e.stateNode.containerInfo.firstChild),rn=e,Ue=!0,Nn=null,n=iS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ko(),r===s){e=Mr(t,e,n);break e}Ot(t,e,r,n)}e=e.child}return e;case 5:return lS(e),t===null&&gm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,dm(r,s)?o=null:i!==null&&dm(r,i)&&(e.flags|=32),DS(t,e),Ot(t,e,o,n),e.child;case 6:return t===null&&gm(e),null;case 13:return MS(t,e,n);case 4:return tv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Go(e,null,r,n):Ot(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),z_(t,e,r,s,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ne(Ad,r._currentValue),r._currentValue=o,i!==null)if(jn(i.value,o)){if(i.children===s.children&&!Kt.current){e=Mr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Rr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),vm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ot(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,bo(e,n),s=wn(s),r=r(s),e.flags|=1,Ot(t,e,r,n),e.child;case 14:return r=e.type,s=bn(r,e.pendingProps),s=bn(r.type,s),B_(t,e,r,s,n);case 15:return kS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),Kc(t,e),e.tag=1,Gt(r)?(t=!0,Id(e)):t=!1,bo(e,n),AS(e,r,s),wm(e,r,s,n),Tm(null,e,r,!0,t,n);case 19:return LS(t,e,n);case 22:return NS(t,e,n)}throw Error(B(156,e.tag))};function JS(t,e){return Ix(t,e)}function ED(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,r){return new ED(t,e,n,r)}function gv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TD(t){if(typeof t=="function")return gv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mg)return 11;if(t===Lg)return 14}return 2}function Rs(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")gv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case co:return Ti(n.children,s,i,e);case Og:o=8,s|=8;break;case Bp:return t=gn(12,n,e,s|2),t.elementType=Bp,t.lanes=i,t;case Wp:return t=gn(13,n,e,s),t.elementType=Wp,t.lanes=i,t;case Hp:return t=gn(19,n,e,s),t.elementType=Hp,t.lanes=i,t;case lx:return Ah(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ox:o=10;break e;case ax:o=9;break e;case Mg:o=11;break e;case Lg:o=14;break e;case ss:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=gn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ti(t,e,n,r){return t=gn(7,t,r,e),t.lanes=n,t}function Ah(t,e,n,r){return t=gn(22,t,r,e),t.elementType=lx,t.lanes=n,t.stateNode={isHidden:!1},t}function lp(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function up(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bf(0),this.expirationTimes=Bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vv(t,e,n,r,s,i,o,a,l){return t=new xD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=gn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ev(i),t}function SD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZS(t){if(!t)return Fs;t=t._reactInternals;e:{if(Vi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Gt(n))return Zx(t,n,e)}return e}function eI(t,e,n,r,s,i,o,a,l){return t=vv(n,r,!0,t,s,i,o,a,l),t.context=ZS(null),n=t.current,r=Lt(),s=As(n),i=Rr(r,s),i.callback=e??null,Cs(n,i,s),t.current.lanes=s,mu(t,s,r),Qt(t,r),t}function Rh(t,e,n,r){var s=e.current,i=Lt(),o=As(s);return n=ZS(n),e.context===null?e.context=n:e.pendingContext=n,e=Rr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Cs(s,e,o),t!==null&&(Fn(t,s,o,i),Wc(t,s,o)),o}function Fd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yv(t,e){t0(t,e),(t=t.alternate)&&t0(t,e)}function ID(){return null}var tI=typeof reportError=="function"?reportError:function(t){console.error(t)};function wv(t){this._internalRoot=t}Ph.prototype.render=wv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Rh(t,e,null,null)};Ph.prototype.unmount=wv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ai(function(){Rh(null,t,null,null)}),e[Dr]=null}};function Ph(t){this._internalRoot=t}Ph.prototype.unstable_scheduleHydration=function(t){if(t){var e=Nx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<os.length&&e!==0&&e<os[n].priority;n++);os.splice(n,0,t),n===0&&Ox(t)}};function _v(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n0(){}function CD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Fd(o);i.call(c)}}var o=eI(e,r,t,0,null,!1,!1,"",n0);return t._reactRootContainer=o,t[Dr]=o.current,Vl(t.nodeType===8?t.parentNode:t),Ai(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Fd(l);a.call(c)}}var l=vv(t,0,!1,null,null,!1,!1,"",n0);return t._reactRootContainer=l,t[Dr]=l.current,Vl(t.nodeType===8?t.parentNode:t),Ai(function(){Rh(e,l,n,r)}),l}function Nh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Fd(o);a.call(l)}}Rh(e,o,t,s)}else o=CD(n,e,t,s,r);return Fd(o)}Px=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Za(e.pendingLanes);n!==0&&(jg(e,n|1),Qt(e,Ye()),!(Te&6)&&(Xo=Ye()+500,Ys()))}break;case 13:Ai(function(){var r=Or(t,1);if(r!==null){var s=Lt();Fn(r,t,1,s)}}),yv(t,1)}};Ug=function(t){if(t.tag===13){var e=Or(t,134217728);if(e!==null){var n=Lt();Fn(e,t,134217728,n)}yv(t,134217728)}};kx=function(t){if(t.tag===13){var e=As(t),n=Or(t,e);if(n!==null){var r=Lt();Fn(n,t,e,r)}yv(t,e)}};Nx=function(){return Ae};Dx=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};tm=function(t,e,n){switch(e){case"input":if(Gp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Th(r);if(!s)throw Error(B(90));cx(r),Gp(r,s)}}}break;case"textarea":hx(t,n);break;case"select":e=n.value,e!=null&&xo(t,!!n.multiple,e,!1)}};wx=fv;_x=Ai;var bD={usingClientEntryPoint:!1,Events:[vu,mo,Th,vx,yx,fv]},Ka={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AD={bundleType:Ka.bundleType,version:Ka.version,rendererPackageName:Ka.rendererPackageName,rendererConfig:Ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xx(t),t===null?null:t.stateNode},findFiberByHostInstance:Ka.findFiberByHostInstance||ID,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{yh=xc.inject(AD),nr=xc}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bD;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_v(e))throw Error(B(200));return SD(t,e,null,n)};ln.createRoot=function(t,e){if(!_v(t))throw Error(B(299));var n=!1,r="",s=tI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=vv(t,1,!1,null,null,n,!1,r,s),t[Dr]=e.current,Vl(t.nodeType===8?t.parentNode:t),new wv(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=xx(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return Ai(t)};ln.hydrate=function(t,e,n){if(!kh(e))throw Error(B(200));return Nh(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!_v(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=tI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=eI(e,null,t,1,n??null,s,!1,i,o),t[Dr]=e.current,Vl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ph(e)};ln.render=function(t,e,n){if(!kh(e))throw Error(B(200));return Nh(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!kh(t))throw Error(B(40));return t._reactRootContainer?(Ai(function(){Nh(null,null,t,!1,function(){t._reactRootContainer=null,t[Dr]=null})}),!0):!1};ln.unstable_batchedUpdates=fv;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kh(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Nh(t,e,n,!1,r)};ln.version="18.3.1-next-f1338f8080-20240426";function nI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nI)}catch(t){console.error(t)}}nI(),nx.exports=ln;var wu=nx.exports;const rI=WT(wu);var sI,r0=wu;sI=r0.createRoot,r0.hydrateRoot;const RD=1,PD=1e6;let cp=0;function kD(){return cp=(cp+1)%Number.MAX_SAFE_INTEGER,cp.toString()}const dp=new Map,s0=t=>{if(dp.has(t))return;const e=setTimeout(()=>{dp.delete(t),yl({type:"REMOVE_TOAST",toastId:t})},PD);dp.set(t,e)},ND=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,RD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?s0(n):t.toasts.forEach(r=>{s0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Xc=[];let Jc={toasts:[]};function yl(t){Jc=ND(Jc,t),Xc.forEach(e=>{e(Jc)})}function wl({...t}){const e=kD(),n=s=>yl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>yl({type:"DISMISS_TOAST",toastId:e});return yl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function DD(){const[t,e]=g.useState(Jc);return g.useEffect(()=>(Xc.push(e),()=>{const n=Xc.indexOf(e);n>-1&&Xc.splice(n,1)}),[t]),{...t,toast:wl,dismiss:n=>yl({type:"DISMISS_TOAST",toastId:n})}}function J(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function i0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Dh(...t){return e=>{let n=!1;const r=t.map(s=>{const i=i0(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():i0(t[s],null)}}}}function ke(...t){return g.useCallback(Dh(...t),t)}function OD(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,l=g.useMemo(()=>a,Object.values(a));return v.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function hr(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const c=h=>{var _;const{scope:p,children:m,...x}=h,w=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,T=g.useMemo(()=>x,Object.values(x));return v.jsx(w.Provider,{value:T,children:m})};c.displayName=i+"Provider";function d(h,p){var w;const m=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,x=g.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,MD(s,...e)]}function MD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Jo(t){const e=VD(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),l=a.find(jD);if(l){const c=l.props.children,d=a.map(h=>h===l?g.Children.count(c)>1?g.Children.only(null):g.isValidElement(c)?c.props.children:null:h);return v.jsx(e,{...o,ref:s,children:g.isValidElement(c)?g.cloneElement(c,void 0,d):null})}return v.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var LD=Jo("Slot");function VD(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=$D(s),a=UD(i,s.props);return s.type!==g.Fragment&&(a.ref=r?Dh(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var iI=Symbol("radix.slottable");function FD(t){const e=({children:n})=>v.jsx(v.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=iI,e}function jD(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===iI}function UD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function $D(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ev(t){const e=t+"CollectionProvider",[n,r]=hr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:T,children:_}=w,E=H.useRef(null),S=H.useRef(new Map).current;return v.jsx(s,{scope:T,itemMap:S,collectionRef:E,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=Jo(a),c=H.forwardRef((w,T)=>{const{scope:_,children:E}=w,S=i(a,_),P=ke(T,S.collectionRef);return v.jsx(l,{ref:P,children:E})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=Jo(d),m=H.forwardRef((w,T)=>{const{scope:_,children:E,...S}=w,P=H.useRef(null),O=ke(T,P),M=i(d,_);return H.useEffect(()=>(M.itemMap.set(P,{ref:P,...S}),()=>void M.itemMap.delete(P))),v.jsx(p,{[h]:"",ref:O,children:E})});m.displayName=d;function x(w){const T=i(t+"CollectionConsumer",w);return H.useCallback(()=>{const E=T.collectionRef.current;if(!E)return[];const S=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(T.itemMap.values()).sort((M,C)=>S.indexOf(M.ref.current)-S.indexOf(C.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},x,r]}var zD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ge=zD.reduce((t,e)=>{const n=Jo(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Tv(t,e){t&&wu.flushSync(()=>t.dispatchEvent(e))}function Xe(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function BD(t,e=globalThis==null?void 0:globalThis.document){const n=Xe(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var WD="DismissableLayer",Om="dismissableLayer.update",HD="dismissableLayer.pointerDownOutside",qD="dismissableLayer.focusOutside",o0,oI=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_u=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=g.useContext(oI),[d,h]=g.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),x=ke(e,C=>h(C)),w=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(T),E=d?w.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,P=E>=_,O=GD(C=>{const I=C.target,A=[...c.branches].some(R=>R.contains(I));!P||A||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),M=QD(C=>{const I=C.target;[...c.branches].some(R=>R.contains(I))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return BD(C=>{E===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),g.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(o0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),a0(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=o0)}},[d,p,n,c]),g.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),a0())},[d,c]),g.useEffect(()=>{const C=()=>m({});return document.addEventListener(Om,C),()=>document.removeEventListener(Om,C)},[]),v.jsx(ge.div,{...l,ref:x,style:{pointerEvents:S?P?"auto":"none":void 0,...t.style},onFocusCapture:J(t.onFocusCapture,M.onFocusCapture),onBlurCapture:J(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:J(t.onPointerDownCapture,O.onPointerDownCapture)})});_u.displayName=WD;var KD="DismissableLayerBranch",aI=g.forwardRef((t,e)=>{const n=g.useContext(oI),r=g.useRef(null),s=ke(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),v.jsx(ge.div,{...t,ref:s})});aI.displayName=KD;function GD(t,e=globalThis==null?void 0:globalThis.document){const n=Xe(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){lI(HD,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function QD(t,e=globalThis==null?void 0:globalThis.document){const n=Xe(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&lI(qD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function a0(){const t=new CustomEvent(Om);document.dispatchEvent(t)}function lI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Tv(s,i):s.dispatchEvent(i)}var YD=_u,XD=aI,an=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},JD="Portal",Oh=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);an(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?rI.createPortal(v.jsx(ge.div,{...r,ref:e}),o):null});Oh.displayName=JD;function ZD(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Xt=t=>{const{present:e,children:n}=t,r=eO(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=ke(r.ref,tO(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Xt.displayName="Presence";function eO(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=ZD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const c=Sc(r.current);i.current=a==="mounted"?c:"none"},[a]),an(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,m=Sc(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),an(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const w=Sc(r.current).includes(m.animationName);if(m.target===e&&w&&(l("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},p=m=>{m.target===e&&(i.current=Sc(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Sc(t){return(t==null?void 0:t.animationName)||"none"}function tO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var nO=Pg[" useInsertionEffect ".trim().toString()]||an;function Eu({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=rO({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=g.useRef(t!==void 0);g.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=g.useCallback(d=>{var h;if(a){const p=sO(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else i(d)},[a,t,i,o]);return[l,c]}function rO({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),i=g.useRef(e);return nO(()=>{i.current=e},[e]),g.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function sO(t){return typeof t=="function"}var iO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oO="VisuallyHidden",Mh=g.forwardRef((t,e)=>v.jsx(ge.span,{...t,ref:e,style:{...iO,...t.style}}));Mh.displayName=oO;var aO=Mh,xv="ToastProvider",[Sv,lO,uO]=Ev("Toast"),[uI,w8]=hr("Toast",[uO]),[cO,Lh]=uI(xv),cI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=g.useState(null),[c,d]=g.useState(0),h=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${xv}\`. Expected non-empty \`string\`.`),v.jsx(Sv.Provider,{scope:e,children:v.jsx(cO,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>d(m=>m+1),[]),onToastRemove:g.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};cI.displayName=xv;var dI="ToastViewport",dO=["F8"],Mm="toast.viewportPause",Lm="toast.viewportResume",hI=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=dO,label:s="Notifications ({hotkey})",...i}=t,o=Lh(dI,n),a=lO(n),l=g.useRef(null),c=g.useRef(null),d=g.useRef(null),h=g.useRef(null),p=ke(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;g.useEffect(()=>{const T=_=>{var S;r.length!==0&&r.every(P=>_[P]||_.code===P)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),g.useEffect(()=>{const T=l.current,_=h.current;if(x&&T&&_){const E=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Mm);_.dispatchEvent(M),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Lm);_.dispatchEvent(M),o.isClosePausedRef.current=!1}},P=M=>{!T.contains(M.relatedTarget)&&S()},O=()=>{T.contains(document.activeElement)||S()};return T.addEventListener("focusin",E),T.addEventListener("focusout",P),T.addEventListener("pointermove",E),T.addEventListener("pointerleave",O),window.addEventListener("blur",E),window.addEventListener("focus",S),()=>{T.removeEventListener("focusin",E),T.removeEventListener("focusout",P),T.removeEventListener("pointermove",E),T.removeEventListener("pointerleave",O),window.removeEventListener("blur",E),window.removeEventListener("focus",S)}}},[x,o.isClosePausedRef]);const w=g.useCallback(({tabbingDirection:T})=>{const E=a().map(S=>{const P=S.ref.current,O=[P,...SO(P)];return T==="forwards"?O:O.reverse()});return(T==="forwards"?E.reverse():E).flat()},[a]);return g.useEffect(()=>{const T=h.current;if(T){const _=E=>{var O,M,C;const S=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!S){const I=document.activeElement,A=E.shiftKey;if(E.target===T&&A){(O=c.current)==null||O.focus();return}const D=w({tabbingDirection:A?"backwards":"forwards"}),k=D.findIndex(q=>q===I);hp(D.slice(k+1))?E.preventDefault():A?(M=c.current)==null||M.focus():(C=d.current)==null||C.focus()}};return T.addEventListener("keydown",_),()=>T.removeEventListener("keydown",_)}},[a,w]),v.jsxs(XD,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&v.jsx(Vm,{ref:c,onFocusFromOutsideViewport:()=>{const T=w({tabbingDirection:"forwards"});hp(T)}}),v.jsx(Sv.Slot,{scope:n,children:v.jsx(ge.ol,{tabIndex:-1,...i,ref:p})}),x&&v.jsx(Vm,{ref:d,onFocusFromOutsideViewport:()=>{const T=w({tabbingDirection:"backwards"});hp(T)}})]})});hI.displayName=dI;var fI="ToastFocusProxy",Vm=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Lh(fI,n);return v.jsx(Mh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Vm.displayName=fI;var Tu="Toast",hO="toast.swipeStart",fO="toast.swipeMove",pO="toast.swipeCancel",mO="toast.swipeEnd",pI=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Eu({prop:r,defaultProp:s??!0,onChange:i,caller:Tu});return v.jsx(Xt,{present:n||a,children:v.jsx(yO,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Xe(t.onPause),onResume:Xe(t.onResume),onSwipeStart:J(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:J(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:J(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:J(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});pI.displayName=Tu;var[gO,vO]=uI(Tu,{onClose(){}}),yO=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...x}=t,w=Lh(Tu,n),[T,_]=g.useState(null),E=ke(e,q=>_(q)),S=g.useRef(null),P=g.useRef(null),O=s||w.duration,M=g.useRef(0),C=g.useRef(O),I=g.useRef(0),{onToastAdd:A,onToastRemove:R}=w,N=Xe(()=>{var re;(T==null?void 0:T.contains(document.activeElement))&&((re=w.viewport)==null||re.focus()),o()}),D=g.useCallback(q=>{!q||q===1/0||(window.clearTimeout(I.current),M.current=new Date().getTime(),I.current=window.setTimeout(N,q))},[N]);g.useEffect(()=>{const q=w.viewport;if(q){const re=()=>{D(C.current),c==null||c()},te=()=>{const ae=new Date().getTime()-M.current;C.current=C.current-ae,window.clearTimeout(I.current),l==null||l()};return q.addEventListener(Mm,te),q.addEventListener(Lm,re),()=>{q.removeEventListener(Mm,te),q.removeEventListener(Lm,re)}}},[w.viewport,O,l,c,D]),g.useEffect(()=>{i&&!w.isClosePausedRef.current&&D(O)},[i,O,w.isClosePausedRef,D]),g.useEffect(()=>(A(),()=>R()),[A,R]);const k=g.useMemo(()=>T?EI(T):null,[T]);return w.viewport?v.jsxs(v.Fragment,{children:[k&&v.jsx(wO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),v.jsx(gO,{scope:n,onClose:N,children:wu.createPortal(v.jsx(Sv.ItemSlot,{scope:n,children:v.jsx(YD,{asChild:!0,onEscapeKeyDown:J(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||N(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:v.jsx(ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...x,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:J(t.onKeyDown,q=>{q.key==="Escape"&&(a==null||a(q.nativeEvent),q.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:J(t.onPointerDown,q=>{q.button===0&&(S.current={x:q.clientX,y:q.clientY})}),onPointerMove:J(t.onPointerMove,q=>{if(!S.current)return;const re=q.clientX-S.current.x,te=q.clientY-S.current.y,ae=!!P.current,j=["left","right"].includes(w.swipeDirection),V=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,W=j?V(0,re):0,ee=j?0:V(0,te),G=q.pointerType==="touch"?10:2,Z={x:W,y:ee},de={originalEvent:q,delta:Z};ae?(P.current=Z,Ic(fO,h,de,{discrete:!1})):l0(Z,w.swipeDirection,G)?(P.current=Z,Ic(hO,d,de,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(re)>G||Math.abs(te)>G)&&(S.current=null)}),onPointerUp:J(t.onPointerUp,q=>{const re=P.current,te=q.target;if(te.hasPointerCapture(q.pointerId)&&te.releasePointerCapture(q.pointerId),P.current=null,S.current=null,re){const ae=q.currentTarget,j={originalEvent:q,delta:re};l0(re,w.swipeDirection,w.swipeThreshold)?Ic(mO,m,j,{discrete:!0}):Ic(pO,p,j,{discrete:!0}),ae.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),wO=t=>{const{__scopeToast:e,children:n,...r}=t,s=Lh(Tu,e),[i,o]=g.useState(!1),[a,l]=g.useState(!1);return TO(()=>o(!0)),g.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:v.jsx(Oh,{asChild:!0,children:v.jsx(Mh,{...r,children:i&&v.jsxs(v.Fragment,{children:[s.label," ",n]})})})},_O="ToastTitle",mI=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(ge.div,{...r,ref:e})});mI.displayName=_O;var EO="ToastDescription",gI=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(ge.div,{...r,ref:e})});gI.displayName=EO;var vI="ToastAction",yI=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?v.jsx(_I,{altText:n,asChild:!0,children:v.jsx(Iv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${vI}\`. Expected non-empty \`string\`.`),null)});yI.displayName=vI;var wI="ToastClose",Iv=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=vO(wI,n);return v.jsx(_I,{asChild:!0,children:v.jsx(ge.button,{type:"button",...r,ref:e,onClick:J(t.onClick,s.onClose)})})});Iv.displayName=wI;var _I=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return v.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function EI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),xO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...EI(r))}}),e}function Ic(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Tv(s,i):s.dispatchEvent(i)}var l0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function TO(t=()=>{}){const e=Xe(t);an(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function xO(t){return t.nodeType===t.ELEMENT_NODE}function SO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var IO=cI,TI=hI,xI=pI,SI=mI,II=gI,CI=yI,bI=Iv;function AI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=AI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function RI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=AI(t))&&(r&&(r+=" "),r+=e);return r}const u0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,c0=RI,xu=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return c0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const p=u0(d)||u0(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(x=>{let[w,T]=x;return Array.isArray(T)?T.includes({...i,...a}[w]):{...i,...a}[w]===T})?[...c,h,p]:c},[]);return c0(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...bO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:PI("lucide",s),...a},[...o.map(([c,d])=>g.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(AO,{ref:i,iconNode:e,className:PI(`lucide-${CO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=ct("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=ct("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=ct("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=ct("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=ct("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=ct("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=ct("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=ct("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=ct("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=ct("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=ct("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=ct("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=ct("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=ct("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bv="-",UO=t=>{const e=zO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(bv);return a[0]===""&&a.length!==1&&a.shift(),MI(a,e)||$O(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},MI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?MI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(bv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},f0=/^\[(.+)\]$/,$O=t=>{if(f0.test(t)){const e=f0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},zO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return WO(Object.entries(t.classGroups),n).forEach(([i,o])=>{Fm(o,r,i,e)}),r},Fm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:p0(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(BO(s)){Fm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Fm(o,p0(e,i),n,r)})})},p0=(t,e)=>{let n=t;return e.split(bv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},BO=t=>t.isThemeGetter,WO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,HO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},LI="!",qO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let T=0;T<a.length;T++){let _=a[T];if(c===0){if(_===s&&(r||a.slice(T,T+i)===e)){l.push(a.slice(d,T)),d=T+i;continue}if(_==="/"){h=T;continue}}_==="["?c++:_==="]"&&c--}const p=l.length===0?a:a.substring(d),m=p.startsWith(LI),x=m?p.substring(1):p,w=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},KO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},GO=t=>({cache:HO(t.cacheSize),parseClassName:qO(t),...UO(t)}),QO=/\s+/,YO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(QO);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let x=!!m,w=r(x?p.substring(0,m):p);if(!w){if(!x){a=c+(a.length>0?" "+a:a);continue}if(w=r(p),!w){a=c+(a.length>0?" "+a:a);continue}x=!1}const T=KO(d).join(":"),_=h?T+LI:T,E=_+w;if(i.includes(E))continue;i.push(E);const S=s(w,x);for(let P=0;P<S.length;++P){const O=S[P];i.push(_+O)}a=c+(a.length>0?" "+a:a)}return a};function XO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=VI(e))&&(r&&(r+=" "),r+=n);return r}const VI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=VI(t[r]))&&(n&&(n+=" "),n+=e);return n};function JO(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=GO(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=YO(l,n);return s(l,d),d}return function(){return i(XO.apply(null,arguments))}}const Oe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},FI=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZO=/^\d+\/\d+$/,e2=new Set(["px","full","screen"]),t2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,n2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,r2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,s2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,i2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_r=t=>Ro(t)||e2.has(t)||ZO.test(t),Zr=t=>ma(t,"length",f2),Ro=t=>!!t&&!Number.isNaN(Number(t)),fp=t=>ma(t,"number",Ro),Ga=t=>!!t&&Number.isInteger(Number(t)),o2=t=>t.endsWith("%")&&Ro(t.slice(0,-1)),pe=t=>FI.test(t),es=t=>t2.test(t),a2=new Set(["length","size","percentage"]),l2=t=>ma(t,a2,jI),u2=t=>ma(t,"position",jI),c2=new Set(["image","url"]),d2=t=>ma(t,c2,m2),h2=t=>ma(t,"",p2),Qa=()=>!0,ma=(t,e,n)=>{const r=FI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},f2=t=>n2.test(t)&&!r2.test(t),jI=()=>!1,p2=t=>s2.test(t),m2=t=>i2.test(t),g2=()=>{const t=Oe("colors"),e=Oe("spacing"),n=Oe("blur"),r=Oe("brightness"),s=Oe("borderColor"),i=Oe("borderRadius"),o=Oe("borderSpacing"),a=Oe("borderWidth"),l=Oe("contrast"),c=Oe("grayscale"),d=Oe("hueRotate"),h=Oe("invert"),p=Oe("gap"),m=Oe("gradientColorStops"),x=Oe("gradientColorStopPositions"),w=Oe("inset"),T=Oe("margin"),_=Oe("opacity"),E=Oe("padding"),S=Oe("saturate"),P=Oe("scale"),O=Oe("sepia"),M=Oe("skew"),C=Oe("space"),I=Oe("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",pe,e],D=()=>[pe,e],k=()=>["",_r,Zr],q=()=>["auto",Ro,pe],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",pe],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Ro,pe];return{cacheSize:500,separator:":",theme:{colors:[Qa],spacing:[_r,Zr],blur:["none","",es,pe],brightness:ee(),borderColor:[t],borderRadius:["none","","full",es,pe],borderSpacing:D(),borderWidth:k(),contrast:ee(),grayscale:V(),hueRotate:ee(),invert:V(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[o2,Zr],inset:N(),margin:N(),opacity:ee(),padding:D(),saturate:ee(),scale:ee(),sepia:V(),skew:ee(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[es]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),pe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ga,pe]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Ga,pe]}],"grid-cols":[{"grid-cols":[Qa]}],"col-start-end":[{col:["auto",{span:["full",Ga,pe]},pe]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Qa]}],"row-start-end":[{row:["auto",{span:[Ga,pe]},pe]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,e]}],"min-w":[{"min-w":[pe,e,"min","max","fit"]}],"max-w":[{"max-w":[pe,e,"none","full","min","max","fit","prose",{screen:[es]},es]}],h:[{h:[pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",es,Zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fp]}],"font-family":[{font:[Qa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",Ro,fp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_r,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_r,Zr]}],"underline-offset":[{"underline-offset":["auto",_r,pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),u2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",l2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},d2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[_r,pe]}],"outline-w":[{outline:[_r,Zr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[_r,Zr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",es,h2]}],"shadow-color":[{shadow:[Qa]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",es,pe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Ga,pe]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_r,Zr,fp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},v2=JO(g2);function oe(...t){return v2(RI(t))}const y2=IO,UI=g.forwardRef(({className:t,...e},n)=>v.jsx(TI,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));UI.displayName=TI.displayName;const w2=xu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$I=g.forwardRef(({className:t,variant:e,...n},r)=>v.jsx(xI,{ref:r,className:oe(w2({variant:e}),t),...n}));$I.displayName=xI.displayName;const _2=g.forwardRef(({className:t,...e},n)=>v.jsx(CI,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));_2.displayName=CI.displayName;const zI=g.forwardRef(({className:t,...e},n)=>v.jsx(bI,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:v.jsx(OI,{className:"h-4 w-4"})}));zI.displayName=bI.displayName;const BI=g.forwardRef(({className:t,...e},n)=>v.jsx(SI,{ref:n,className:oe("text-sm font-semibold",t),...e}));BI.displayName=SI.displayName;const WI=g.forwardRef(({className:t,...e},n)=>v.jsx(II,{ref:n,className:oe("text-sm opacity-90",t),...e}));WI.displayName=II.displayName;function E2(){const{toasts:t}=DD();return v.jsxs(y2,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return v.jsxs($I,{...i,children:[v.jsxs("div",{className:"grid gap-1",children:[n&&v.jsx(BI,{children:n}),r&&v.jsx(WI,{children:r})]}),s,v.jsx(zI,{})]},e)}),v.jsx(UI,{})]})}var m0=["light","dark"],T2="(prefers-color-scheme: dark)",x2=g.createContext(void 0),S2={setTheme:t=>{},themes:[]},I2=()=>{var t;return(t=g.useContext(x2))!=null?t:S2};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?m0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(x,w=!1,T=!0)=>{let _=o?o[x]:x,E=w?x+"|| ''":`'${_}'`,S="";return s&&T&&!w&&m0.includes(x)&&(S+=`d.style.colorScheme = '${x}';`),n==="class"?w||_?S+=`c.add(${E})`:S+="null":_&&(S+=`d[s](n,${E})`),S},m=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${T2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return g.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var C2=t=>{switch(t){case"success":return R2;case"info":return k2;case"warning":return P2;case"error":return N2;default:return null}},b2=Array(12).fill(0),A2=({visible:t,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},H.createElement("div",{className:"sonner-spinner"},b2.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),R2=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),P2=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),k2=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),N2=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),D2=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),O2=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},jm=1,M2=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:jm++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],H.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(V2(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:d})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:d})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:d})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||jm++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Bt=new M2,L2=(t,e)=>{let n=(e==null?void 0:e.id)||jm++;return Bt.addToast({title:t,...e,id:n}),n},V2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",F2=L2,j2=()=>Bt.toasts,U2=()=>Bt.getActiveToasts();Object.assign(F2,{success:Bt.success,info:Bt.info,warning:Bt.warning,error:Bt.error,custom:Bt.custom,message:Bt.message,promise:Bt.promise,dismiss:Bt.dismiss,loading:Bt.loading},{getHistory:j2,getToasts:U2});function $2(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}$2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Cc(t){return t.label!==void 0}var z2=3,B2="32px",W2="16px",g0=4e3,H2=356,q2=14,K2=20,G2=200;function Cn(...t){return t.filter(Boolean).join(" ")}function Q2(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var Y2=t=>{var e,n,r,s,i,o,a,l,c,d,h;let{invert:p,toast:m,unstyled:x,interacting:w,setHeights:T,visibleToasts:_,heights:E,index:S,toasts:P,expanded:O,removeToast:M,defaultRichColors:C,closeButton:I,style:A,cancelButtonStyle:R,actionButtonStyle:N,className:D="",descriptionClassName:k="",duration:q,position:re,gap:te,loadingIcon:ae,expandByDefault:j,classNames:V,icons:W,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:G}=t,[Z,de]=H.useState(null),[Ce,Fe]=H.useState(null),[he,Tn]=H.useState(!1),[Ze,Nt]=H.useState(!1),[Jt,Hn]=H.useState(!1),[cn,Hr]=H.useState(!1),[ei,ti]=H.useState(!1),[ba,ni]=H.useState(0),[mr,Ki]=H.useState(0),qr=H.useRef(m.duration||q||g0),Bu=H.useRef(null),xn=H.useRef(null),Aa=S===0,Wu=S+1<=_,be=m.type,He=m.dismissible!==!1,Gi=m.className||"",Hu=m.descriptionClassName||"",ri=H.useMemo(()=>E.findIndex(le=>le.toastId===m.id)||0,[E,m.id]),xf=H.useMemo(()=>{var le;return(le=m.closeButton)!=null?le:I},[m.closeButton,I]),Kr=H.useMemo(()=>m.duration||q||g0,[m.duration,q]),Qi=H.useRef(0),gr=H.useRef(0),Yi=H.useRef(0),Gr=H.useRef(null),[Sf,Ra]=re.split("-"),Pa=H.useMemo(()=>E.reduce((le,Ee,Re)=>Re>=ri?le:le+Ee.height,0),[E,ri]),ka=O2(),si=m.invert||p,ii=be==="loading";gr.current=H.useMemo(()=>ri*te+Pa,[ri,Pa]),H.useEffect(()=>{qr.current=Kr},[Kr]),H.useEffect(()=>{Tn(!0)},[]),H.useEffect(()=>{let le=xn.current;if(le){let Ee=le.getBoundingClientRect().height;return Ki(Ee),T(Re=>[{toastId:m.id,height:Ee,position:m.position},...Re]),()=>T(Re=>Re.filter(dt=>dt.toastId!==m.id))}},[T,m.id]),H.useLayoutEffect(()=>{if(!he)return;let le=xn.current,Ee=le.style.height;le.style.height="auto";let Re=le.getBoundingClientRect().height;le.style.height=Ee,Ki(Re),T(dt=>dt.find($t=>$t.toastId===m.id)?dt.map($t=>$t.toastId===m.id?{...$t,height:Re}:$t):[{toastId:m.id,height:Re,position:m.position},...dt])},[he,m.title,m.description,T,m.id]);let dn=H.useCallback(()=>{Nt(!0),ni(gr.current),T(le=>le.filter(Ee=>Ee.toastId!==m.id)),setTimeout(()=>{M(m)},G2)},[m,M,T,gr]);H.useEffect(()=>{if(m.promise&&be==="loading"||m.duration===1/0||m.type==="loading")return;let le;return O||w||G&&ka?(()=>{if(Yi.current<Qi.current){let Ee=new Date().getTime()-Qi.current;qr.current=qr.current-Ee}Yi.current=new Date().getTime()})():qr.current!==1/0&&(Qi.current=new Date().getTime(),le=setTimeout(()=>{var Ee;(Ee=m.onAutoClose)==null||Ee.call(m,m),dn()},qr.current)),()=>clearTimeout(le)},[O,w,m,be,G,ka,dn]),H.useEffect(()=>{m.delete&&dn()},[dn,m.delete]);function vr(){var le,Ee,Re;return W!=null&&W.loading?H.createElement("div",{className:Cn(V==null?void 0:V.loader,(le=m==null?void 0:m.classNames)==null?void 0:le.loader,"sonner-loader"),"data-visible":be==="loading"},W.loading):ae?H.createElement("div",{className:Cn(V==null?void 0:V.loader,(Ee=m==null?void 0:m.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":be==="loading"},ae):H.createElement(A2,{className:Cn(V==null?void 0:V.loader,(Re=m==null?void 0:m.classNames)==null?void 0:Re.loader),visible:be==="loading"})}return H.createElement("li",{tabIndex:0,ref:xn,className:Cn(D,Gi,V==null?void 0:V.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[be],(n=m==null?void 0:m.classNames)==null?void 0:n[be]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:C,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":he,"data-promise":!!m.promise,"data-swiped":ei,"data-removed":Ze,"data-visible":Wu,"data-y-position":Sf,"data-x-position":Ra,"data-index":S,"data-front":Aa,"data-swiping":Jt,"data-dismissible":He,"data-type":be,"data-invert":si,"data-swipe-out":cn,"data-swipe-direction":Ce,"data-expanded":!!(O||j&&he),style:{"--index":S,"--toasts-before":S,"--z-index":P.length-S,"--offset":`${Ze?ba:gr.current}px`,"--initial-height":j?"auto":`${mr}px`,...A,...m.style},onDragEnd:()=>{Hn(!1),de(null),Gr.current=null},onPointerDown:le=>{ii||!He||(Bu.current=new Date,ni(gr.current),le.target.setPointerCapture(le.pointerId),le.target.tagName!=="BUTTON"&&(Hn(!0),Gr.current={x:le.clientX,y:le.clientY}))},onPointerUp:()=>{var le,Ee,Re,dt;if(cn||!He)return;Gr.current=null;let $t=Number(((le=xn.current)==null?void 0:le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),je=Number(((Ee=xn.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qn=new Date().getTime()-((Re=Bu.current)==null?void 0:Re.getTime()),ht=Z==="x"?$t:je,zt=Math.abs(ht)/qn;if(Math.abs(ht)>=K2||zt>.11){ni(gr.current),(dt=m.onDismiss)==null||dt.call(m,m),Fe(Z==="x"?$t>0?"right":"left":je>0?"down":"up"),dn(),Hr(!0),ti(!1);return}Hn(!1),de(null)},onPointerMove:le=>{var Ee,Re,dt,$t;if(!Gr.current||!He||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;let je=le.clientY-Gr.current.y,qn=le.clientX-Gr.current.x,ht=(Re=t.swipeDirections)!=null?Re:Q2(re);!Z&&(Math.abs(qn)>1||Math.abs(je)>1)&&de(Math.abs(qn)>Math.abs(je)?"x":"y");let zt={x:0,y:0};Z==="y"?(ht.includes("top")||ht.includes("bottom"))&&(ht.includes("top")&&je<0||ht.includes("bottom")&&je>0)&&(zt.y=je):Z==="x"&&(ht.includes("left")||ht.includes("right"))&&(ht.includes("left")&&qn<0||ht.includes("right")&&qn>0)&&(zt.x=qn),(Math.abs(zt.x)>0||Math.abs(zt.y)>0)&&ti(!0),(dt=xn.current)==null||dt.style.setProperty("--swipe-amount-x",`${zt.x}px`),($t=xn.current)==null||$t.style.setProperty("--swipe-amount-y",`${zt.y}px`)}},xf&&!m.jsx?H.createElement("button",{"aria-label":ee,"data-disabled":ii,"data-close-button":!0,onClick:ii||!He?()=>{}:()=>{var le;dn(),(le=m.onDismiss)==null||le.call(m,m)},className:Cn(V==null?void 0:V.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=W==null?void 0:W.close)!=null?i:D2):null,m.jsx||g.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:H.createElement(H.Fragment,null,be||m.icon||m.promise?H.createElement("div",{"data-icon":"",className:Cn(V==null?void 0:V.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||vr():null,m.type!=="loading"?m.icon||(W==null?void 0:W[be])||C2(be):null):null,H.createElement("div",{"data-content":"",className:Cn(V==null?void 0:V.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:Cn(V==null?void 0:V.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?H.createElement("div",{"data-description":"",className:Cn(k,Hu,V==null?void 0:V.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),g.isValidElement(m.cancel)?m.cancel:m.cancel&&Cc(m.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:le=>{var Ee,Re;Cc(m.cancel)&&He&&((Re=(Ee=m.cancel).onClick)==null||Re.call(Ee,le),dn())},className:Cn(V==null?void 0:V.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,g.isValidElement(m.action)?m.action:m.action&&Cc(m.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||N,onClick:le=>{var Ee,Re;Cc(m.action)&&((Re=(Ee=m.action).onClick)==null||Re.call(Ee,le),!le.defaultPrevented&&dn())},className:Cn(V==null?void 0:V.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function v0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function X2(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?W2:B2;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var J2=g.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:h,duration:p,style:m,visibleToasts:x=z2,toastOptions:w,dir:T=v0(),gap:_=q2,loadingIcon:E,icons:S,containerAriaLabel:P="Notifications",pauseWhenPageIsHidden:O}=t,[M,C]=H.useState([]),I=H.useMemo(()=>Array.from(new Set([r].concat(M.filter(G=>G.position).map(G=>G.position)))),[M,r]),[A,R]=H.useState([]),[N,D]=H.useState(!1),[k,q]=H.useState(!1),[re,te]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ae=H.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=H.useRef(null),W=H.useRef(!1),ee=H.useCallback(G=>{C(Z=>{var de;return(de=Z.find(Ce=>Ce.id===G.id))!=null&&de.delete||Bt.dismiss(G.id),Z.filter(({id:Ce})=>Ce!==G.id)})},[]);return H.useEffect(()=>Bt.subscribe(G=>{if(G.dismiss){C(Z=>Z.map(de=>de.id===G.id?{...de,delete:!0}:de));return}setTimeout(()=>{rI.flushSync(()=>{C(Z=>{let de=Z.findIndex(Ce=>Ce.id===G.id);return de!==-1?[...Z.slice(0,de),{...Z[de],...G},...Z.slice(de+1)]:[G,...Z]})})})}),[]),H.useEffect(()=>{if(d!=="system"){te(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:Z})=>{te(Z?"dark":"light")})}catch{G.addListener(({matches:de})=>{try{te(de?"dark":"light")}catch(Ce){console.error(Ce)}})}},[d]),H.useEffect(()=>{M.length<=1&&D(!1)},[M]),H.useEffect(()=>{let G=Z=>{var de,Ce;s.every(Fe=>Z[Fe]||Z.code===Fe)&&(D(!0),(de=ae.current)==null||de.focus()),Z.code==="Escape"&&(document.activeElement===ae.current||(Ce=ae.current)!=null&&Ce.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[s]),H.useEffect(()=>{if(ae.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,W.current=!1)}},[ae.current]),H.createElement("section",{ref:e,"aria-label":`${P} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((G,Z)=>{var de;let[Ce,Fe]=G.split("-");return M.length?H.createElement("ol",{key:G,dir:T==="auto"?v0():T,tabIndex:-1,ref:ae,className:a,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":Ce,"data-lifted":N&&M.length>1&&!i,"data-x-position":Fe,style:{"--front-toast-height":`${((de=A[0])==null?void 0:de.height)||0}px`,"--width":`${H2}px`,"--gap":`${_}px`,...m,...X2(l,c)},onBlur:he=>{W.current&&!he.currentTarget.contains(he.relatedTarget)&&(W.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||W.current||(W.current=!0,V.current=he.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{k||D(!1)},onDragEnd:()=>D(!1),onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},M.filter(he=>!he.position&&Z===0||he.position===G).map((he,Tn)=>{var Ze,Nt;return H.createElement(Y2,{key:he.id,icons:S,index:Tn,toast:he,defaultRichColors:h,duration:(Ze=w==null?void 0:w.duration)!=null?Ze:p,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:x,closeButton:(Nt=w==null?void 0:w.closeButton)!=null?Nt:o,interacting:k,position:G,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:ee,toasts:M.filter(Jt=>Jt.position==he.position),heights:A.filter(Jt=>Jt.position==he.position),setHeights:R,expandByDefault:i,gap:_,loadingIcon:E,expanded:N,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const Z2=({...t})=>{const{theme:e="system"}=I2();return v.jsx(J2,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var eM=Pg[" useId ".trim().toString()]||(()=>{}),tM=0;function xi(t){const[e,n]=g.useState(eM());return an(()=>{n(r=>r??String(tM++))},[t]),e?`radix-${e}`:""}const nM=["top","right","bottom","left"],js=Math.min,tn=Math.max,jd=Math.round,bc=Math.floor,sr=t=>({x:t,y:t}),rM={left:"right",right:"left",bottom:"top",top:"bottom"},sM={start:"end",end:"start"};function Um(t,e,n){return tn(t,js(e,n))}function Lr(t,e){return typeof t=="function"?t(e):t}function Vr(t){return t.split("-")[0]}function ga(t){return t.split("-")[1]}function Av(t){return t==="x"?"y":"x"}function Rv(t){return t==="y"?"height":"width"}function Pr(t){return["top","bottom"].includes(Vr(t))?"y":"x"}function Pv(t){return Av(Pr(t))}function iM(t,e,n){n===void 0&&(n=!1);const r=ga(t),s=Pv(t),i=Rv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ud(o)),[o,Ud(o)]}function oM(t){const e=Ud(t);return[$m(t),e,$m(e)]}function $m(t){return t.replace(/start|end/g,e=>sM[e])}function aM(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function lM(t,e,n,r){const s=ga(t);let i=aM(Vr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map($m)))),i}function Ud(t){return t.replace(/left|right|bottom|top/g,e=>rM[e])}function uM(t){return{top:0,right:0,bottom:0,left:0,...t}}function HI(t){return typeof t!="number"?uM(t):{top:t,right:t,bottom:t,left:t}}function $d(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function y0(t,e,n){let{reference:r,floating:s}=t;const i=Pr(e),o=Pv(e),a=Rv(o),l=Vr(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(ga(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const cM=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=y0(c,r,l),p=r,m={},x=0;for(let w=0;w<a.length;w++){const{name:T,fn:_}=a[w],{x:E,y:S,data:P,reset:O}=await _({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=E??d,h=S??h,m={...m,[T]:{...m[T],...P}},O&&x<=50&&(x++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:h}=y0(c,p,l)),w=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:m}};async function ql(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Lr(e,t),x=HI(m),T=a[p?h==="floating"?"reference":"floating":h],_=$d(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),E=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),P=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},O=$d(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:S,strategy:l}):E);return{top:(_.top-O.top+x.top)/P.y,bottom:(O.bottom-_.bottom+x.bottom)/P.y,left:(_.left-O.left+x.left)/P.x,right:(O.right-_.right+x.right)/P.x}}const dM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Lr(t,e)||{};if(c==null)return{};const h=HI(d),p={x:n,y:r},m=Pv(s),x=Rv(m),w=await o.getDimensions(c),T=m==="y",_=T?"top":"left",E=T?"bottom":"right",S=T?"clientHeight":"clientWidth",P=i.reference[x]+i.reference[m]-p[m]-i.floating[x],O=p[m]-i.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=M?M[S]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=a.floating[S]||i.floating[x]);const I=P/2-O/2,A=C/2-w[x]/2-1,R=js(h[_],A),N=js(h[E],A),D=R,k=C-w[x]-N,q=C/2-w[x]/2+I,re=Um(D,q,k),te=!l.arrow&&ga(s)!=null&&q!==re&&i.reference[x]/2-(q<D?R:N)-w[x]/2<0,ae=te?q<D?q-D:q-k:0;return{[m]:p[m]+ae,data:{[m]:re,centerOffset:q-re-ae,...te&&{alignmentOffset:ae}},reset:te}}}),hM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:w=!0,...T}=Lr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Vr(s),E=Pr(a),S=Vr(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=p||(S||!w?[Ud(a)]:oM(a)),M=x!=="none";!p&&M&&O.push(...lM(a,w,x,P));const C=[a,...O],I=await ql(e,T),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(I[_]),h){const re=iM(s,o,P);A.push(I[re[0]],I[re[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(re=>re<=0)){var N,D;const re=(((N=i.flip)==null?void 0:N.index)||0)+1,te=C[re];if(te){var k;const j=h==="alignment"?E!==Pr(te):!1,V=((k=R[0])==null?void 0:k.overflows[0])>0;if(!j||V)return{data:{index:re,overflows:R},reset:{placement:te}}}let ae=(D=R.filter(j=>j.overflows[0]<=0).sort((j,V)=>j.overflows[1]-V.overflows[1])[0])==null?void 0:D.placement;if(!ae)switch(m){case"bestFit":{var q;const j=(q=R.filter(V=>{if(M){const W=Pr(V.placement);return W===E||W==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(W=>W>0).reduce((W,ee)=>W+ee,0)]).sort((V,W)=>V[1]-W[1])[0])==null?void 0:q[0];j&&(ae=j);break}case"initialPlacement":ae=a;break}if(s!==ae)return{reset:{placement:ae}}}return{}}}};function w0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function _0(t){return nM.some(e=>t[e]>=0)}const fM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Lr(t,e);switch(r){case"referenceHidden":{const i=await ql(e,{...s,elementContext:"reference"}),o=w0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:_0(o)}}}case"escaped":{const i=await ql(e,{...s,altBoundary:!0}),o=w0(i,n.floating);return{data:{escapedOffsets:o,escaped:_0(o)}}}default:return{}}}}};async function pM(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Vr(n),a=ga(n),l=Pr(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=Lr(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof x=="number"&&(m=a==="end"?x*-1:x),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const mM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await pM(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},gM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:_,y:E}=T;return{x:_,y:E}}},...l}=Lr(t,e),c={x:n,y:r},d=await ql(e,l),h=Pr(Vr(s)),p=Av(h);let m=c[p],x=c[h];if(i){const T=p==="y"?"top":"left",_=p==="y"?"bottom":"right",E=m+d[T],S=m-d[_];m=Um(E,m,S)}if(o){const T=h==="y"?"top":"left",_=h==="y"?"bottom":"right",E=x+d[T],S=x-d[_];x=Um(E,x,S)}const w=a.fn({...e,[p]:m,[h]:x});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:i,[h]:o}}}}}},vM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Lr(t,e),d={x:n,y:r},h=Pr(s),p=Av(h);let m=d[p],x=d[h];const w=Lr(a,e),T=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const S=p==="y"?"height":"width",P=i.reference[p]-i.floating[S]+T.mainAxis,O=i.reference[p]+i.reference[S]-T.mainAxis;m<P?m=P:m>O&&(m=O)}if(c){var _,E;const S=p==="y"?"width":"height",P=["top","left"].includes(Vr(s)),O=i.reference[h]-i.floating[S]+(P&&((_=o.offset)==null?void 0:_[h])||0)+(P?0:T.crossAxis),M=i.reference[h]+i.reference[S]+(P?0:((E=o.offset)==null?void 0:E[h])||0)-(P?T.crossAxis:0);x<O?x=O:x>M&&(x=M)}return{[p]:m,[h]:x}}}},yM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Lr(t,e),d=await ql(e,c),h=Vr(s),p=ga(s),m=Pr(s)==="y",{width:x,height:w}=i.floating;let T,_;h==="top"||h==="bottom"?(T=h,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,T=p==="end"?"top":"bottom");const E=w-d.top-d.bottom,S=x-d.left-d.right,P=js(w-d[T],E),O=js(x-d[_],S),M=!e.middlewareData.shift;let C=P,I=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=E),M&&!p){const R=tn(d.left,0),N=tn(d.right,0),D=tn(d.top,0),k=tn(d.bottom,0);m?I=x-2*(R!==0||N!==0?R+N:tn(d.left,d.right)):C=w-2*(D!==0||k!==0?D+k:tn(d.top,d.bottom))}await l({...e,availableWidth:I,availableHeight:C});const A=await o.getDimensions(a.floating);return x!==A.width||w!==A.height?{reset:{rects:!0}}:{}}}};function Vh(){return typeof window<"u"}function va(t){return qI(t)?(t.nodeName||"").toLowerCase():"#document"}function sn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fr(t){var e;return(e=(qI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function qI(t){return Vh()?t instanceof Node||t instanceof sn(t).Node:!1}function Un(t){return Vh()?t instanceof Element||t instanceof sn(t).Element:!1}function cr(t){return Vh()?t instanceof HTMLElement||t instanceof sn(t).HTMLElement:!1}function E0(t){return!Vh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof sn(t).ShadowRoot}function Su(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=$n(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function wM(t){return["table","td","th"].includes(va(t))}function Fh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function kv(t){const e=Nv(),n=Un(t)?$n(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _M(t){let e=Us(t);for(;cr(e)&&!Zo(e);){if(kv(e))return e;if(Fh(e))return null;e=Us(e)}return null}function Nv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zo(t){return["html","body","#document"].includes(va(t))}function $n(t){return sn(t).getComputedStyle(t)}function jh(t){return Un(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Us(t){if(va(t)==="html")return t;const e=t.assignedSlot||t.parentNode||E0(t)&&t.host||fr(t);return E0(e)?e.host:e}function KI(t){const e=Us(t);return Zo(e)?t.ownerDocument?t.ownerDocument.body:t.body:cr(e)&&Su(e)?e:KI(e)}function Kl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=KI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=sn(s);if(i){const a=zm(o);return e.concat(o,o.visualViewport||[],Su(s)?s:[],a&&n?Kl(a):[])}return e.concat(s,Kl(s,[],n))}function zm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function GI(t){const e=$n(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=cr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=jd(n)!==i||jd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Dv(t){return Un(t)?t:t.contextElement}function Po(t){const e=Dv(t);if(!cr(e))return sr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=GI(e);let o=(i?jd(n.width):n.width)/r,a=(i?jd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const EM=sr(0);function QI(t){const e=sn(t);return!Nv()||!e.visualViewport?EM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function TM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==sn(t)?!1:e}function Ri(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Dv(t);let o=sr(1);e&&(r?Un(r)&&(o=Po(r)):o=Po(t));const a=TM(i,n,r)?QI(i):sr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=sn(i),m=r&&Un(r)?sn(r):r;let x=p,w=zm(x);for(;w&&r&&m!==x;){const T=Po(w),_=w.getBoundingClientRect(),E=$n(w),S=_.left+(w.clientLeft+parseFloat(E.paddingLeft))*T.x,P=_.top+(w.clientTop+parseFloat(E.paddingTop))*T.y;l*=T.x,c*=T.y,d*=T.x,h*=T.y,l+=S,c+=P,x=sn(w),w=zm(x)}}return $d({width:d,height:h,x:l,y:c})}function Ov(t,e){const n=jh(t).scrollLeft;return e?e.left+n:Ri(fr(t)).left+n}function YI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Ov(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function xM(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=fr(r),a=e?Fh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=sr(1);const d=sr(0),h=cr(r);if((h||!h&&!i)&&((va(r)!=="body"||Su(o))&&(l=jh(r)),cr(r))){const m=Ri(r);c=Po(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=o&&!h&&!i?YI(o,l,!0):sr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function SM(t){return Array.from(t.getClientRects())}function IM(t){const e=fr(t),n=jh(t),r=t.ownerDocument.body,s=tn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=tn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ov(t);const a=-n.scrollTop;return $n(r).direction==="rtl"&&(o+=tn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function CM(t,e){const n=sn(t),r=fr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Nv();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function bM(t,e){const n=Ri(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=cr(t)?Po(t):sr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function T0(t,e,n){let r;if(e==="viewport")r=CM(t,n);else if(e==="document")r=IM(fr(t));else if(Un(e))r=bM(e,n);else{const s=QI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return $d(r)}function XI(t,e){const n=Us(t);return n===e||!Un(n)||Zo(n)?!1:$n(n).position==="fixed"||XI(n,e)}function AM(t,e){const n=e.get(t);if(n)return n;let r=Kl(t,[],!1).filter(a=>Un(a)&&va(a)!=="body"),s=null;const i=$n(t).position==="fixed";let o=i?Us(t):t;for(;Un(o)&&!Zo(o);){const a=$n(o),l=kv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Su(o)&&!l&&XI(t,o))?r=r.filter(d=>d!==o):s=a,o=Us(o)}return e.set(t,r),r}function RM(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Fh(e)?[]:AM(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=T0(e,d,s);return c.top=tn(h.top,c.top),c.right=js(h.right,c.right),c.bottom=js(h.bottom,c.bottom),c.left=tn(h.left,c.left),c},T0(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function PM(t){const{width:e,height:n}=GI(t);return{width:e,height:n}}function kM(t,e,n){const r=cr(e),s=fr(e),i=n==="fixed",o=Ri(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=sr(0);function c(){l.x=Ov(s)}if(r||!r&&!i)if((va(e)!=="body"||Su(s))&&(a=jh(e)),r){const m=Ri(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?YI(s,a):sr(0),h=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function pp(t){return $n(t).position==="static"}function x0(t,e){if(!cr(t)||$n(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return fr(t)===n&&(n=n.ownerDocument.body),n}function JI(t,e){const n=sn(t);if(Fh(t))return n;if(!cr(t)){let s=Us(t);for(;s&&!Zo(s);){if(Un(s)&&!pp(s))return s;s=Us(s)}return n}let r=x0(t,e);for(;r&&wM(r)&&pp(r);)r=x0(r,e);return r&&Zo(r)&&pp(r)&&!kv(r)?n:r||_M(t)||n}const NM=async function(t){const e=this.getOffsetParent||JI,n=this.getDimensions,r=await n(t.floating);return{reference:kM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function DM(t){return $n(t).direction==="rtl"}const OM={convertOffsetParentRelativeRectToViewportRelativeRect:xM,getDocumentElement:fr,getClippingRect:RM,getOffsetParent:JI,getElementRects:NM,getClientRects:SM,getDimensions:PM,getScale:Po,isElement:Un,isRTL:DM};function ZI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function MM(t,e){let n=null,r;const s=fr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=c;if(a||e(),!p||!m)return;const x=bc(h),w=bc(s.clientWidth-(d+p)),T=bc(s.clientHeight-(h+m)),_=bc(d),S={rootMargin:-x+"px "+-w+"px "+-T+"px "+-_+"px",threshold:tn(0,js(1,l))||1};let P=!0;function O(M){const C=M[0].intersectionRatio;if(C!==l){if(!P)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!ZI(c,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(O,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,S)}n.observe(t)}return o(!0),i}function LM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Dv(t),d=s||i?[...c?Kl(c):[],...Kl(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const h=c&&a?MM(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(_=>{let[E]=_;E&&E.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let x,w=l?Ri(t):null;l&&T();function T(){const _=Ri(t);w&&!ZI(w,_)&&n(),w=_,x=requestAnimationFrame(T)}return n(),()=>{var _;d.forEach(E=>{s&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),h==null||h(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(x)}}const VM=mM,FM=gM,jM=hM,UM=yM,$M=fM,S0=dM,zM=vM,BM=(t,e,n)=>{const r=new Map,s={platform:OM,...n},i={...s.platform,_c:r};return cM(t,e,{...s,platform:i})};var Zc=typeof document<"u"?g.useLayoutEffect:g.useEffect;function zd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!zd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!zd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function eC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function I0(t,e){const n=eC(t);return Math.round(e*n)/n}function mp(t){const e=g.useRef(t);return Zc(()=>{e.current=t}),e}function WM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=g.useState(r);zd(p,r)||m(r);const[x,w]=g.useState(null),[T,_]=g.useState(null),E=g.useCallback(j=>{j!==M.current&&(M.current=j,w(j))},[]),S=g.useCallback(j=>{j!==C.current&&(C.current=j,_(j))},[]),P=i||x,O=o||T,M=g.useRef(null),C=g.useRef(null),I=g.useRef(d),A=l!=null,R=mp(l),N=mp(s),D=mp(c),k=g.useCallback(()=>{if(!M.current||!C.current)return;const j={placement:e,strategy:n,middleware:p};N.current&&(j.platform=N.current),BM(M.current,C.current,j).then(V=>{const W={...V,isPositioned:D.current!==!1};q.current&&!zd(I.current,W)&&(I.current=W,wu.flushSync(()=>{h(W)}))})},[p,e,n,N,D]);Zc(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const q=g.useRef(!1);Zc(()=>(q.current=!0,()=>{q.current=!1}),[]),Zc(()=>{if(P&&(M.current=P),O&&(C.current=O),P&&O){if(R.current)return R.current(P,O,k);k()}},[P,O,k,R,A]);const re=g.useMemo(()=>({reference:M,floating:C,setReference:E,setFloating:S}),[E,S]),te=g.useMemo(()=>({reference:P,floating:O}),[P,O]),ae=g.useMemo(()=>{const j={position:n,left:0,top:0};if(!te.floating)return j;const V=I0(te.floating,d.x),W=I0(te.floating,d.y);return a?{...j,transform:"translate("+V+"px, "+W+"px)",...eC(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:W}},[n,a,te.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:k,refs:re,elements:te,floatingStyles:ae}),[d,k,re,te,ae])}const HM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?S0({element:r.current,padding:s}).fn(n):{}:r?S0({element:r,padding:s}).fn(n):{}}}},qM=(t,e)=>({...VM(t),options:[t,e]}),KM=(t,e)=>({...FM(t),options:[t,e]}),GM=(t,e)=>({...zM(t),options:[t,e]}),QM=(t,e)=>({...jM(t),options:[t,e]}),YM=(t,e)=>({...UM(t),options:[t,e]}),XM=(t,e)=>({...$M(t),options:[t,e]}),JM=(t,e)=>({...HM(t),options:[t,e]});var ZM="Arrow",tC=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return v.jsx(ge.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});tC.displayName=ZM;var eL=tC;function tL(t){const[e,n]=g.useState(void 0);return an(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Mv="Popper",[nC,Uh]=hr(Mv),[nL,rC]=nC(Mv),sC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return v.jsx(nL,{scope:e,anchor:r,onAnchorChange:s,children:n})};sC.displayName=Mv;var iC="PopperAnchor",oC=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=rC(iC,n),o=g.useRef(null),a=ke(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:v.jsx(ge.div,{...s,ref:a})});oC.displayName=iC;var Lv="PopperContent",[rL,sL]=nC(Lv),aC=g.forwardRef((t,e)=>{var he,Tn,Ze,Nt,Jt,Hn;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:x,...w}=t,T=rC(Lv,n),[_,E]=g.useState(null),S=ke(e,cn=>E(cn)),[P,O]=g.useState(null),M=tL(P),C=(M==null?void 0:M.width)??0,I=(M==null?void 0:M.height)??0,A=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],D=N.length>0,k={padding:R,boundary:N.filter(oL),altBoundary:D},{refs:q,floatingStyles:re,placement:te,isPositioned:ae,middlewareData:j}=WM({strategy:"fixed",placement:A,whileElementsMounted:(...cn)=>LM(...cn,{animationFrame:m==="always"}),elements:{reference:T.anchor},middleware:[qM({mainAxis:s+I,alignmentAxis:o}),l&&KM({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?GM():void 0,...k}),l&&QM({...k}),YM({...k,apply:({elements:cn,rects:Hr,availableWidth:ei,availableHeight:ti})=>{const{width:ba,height:ni}=Hr.reference,mr=cn.floating.style;mr.setProperty("--radix-popper-available-width",`${ei}px`),mr.setProperty("--radix-popper-available-height",`${ti}px`),mr.setProperty("--radix-popper-anchor-width",`${ba}px`),mr.setProperty("--radix-popper-anchor-height",`${ni}px`)}}),P&&JM({element:P,padding:a}),aL({arrowWidth:C,arrowHeight:I}),p&&XM({strategy:"referenceHidden",...k})]}),[V,W]=cC(te),ee=Xe(x);an(()=>{ae&&(ee==null||ee())},[ae,ee]);const G=(he=j.arrow)==null?void 0:he.x,Z=(Tn=j.arrow)==null?void 0:Tn.y,de=((Ze=j.arrow)==null?void 0:Ze.centerOffset)!==0,[Ce,Fe]=g.useState();return an(()=>{_&&Fe(window.getComputedStyle(_).zIndex)},[_]),v.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:ae?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[(Nt=j.transformOrigin)==null?void 0:Nt.x,(Jt=j.transformOrigin)==null?void 0:Jt.y].join(" "),...((Hn=j.hide)==null?void 0:Hn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:v.jsx(rL,{scope:n,placedSide:V,onArrowChange:O,arrowX:G,arrowY:Z,shouldHideArrow:de,children:v.jsx(ge.div,{"data-side":V,"data-align":W,...w,ref:S,style:{...w.style,animation:ae?void 0:"none"}})})})});aC.displayName=Lv;var lC="PopperArrow",iL={top:"bottom",right:"left",bottom:"top",left:"right"},uC=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=sL(lC,r),o=iL[i.placedSide];return v.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:v.jsx(eL,{...s,ref:n,style:{...s.style,display:"block"}})})});uC.displayName=lC;function oL(t){return t!==null}var aL=t=>({name:"transformOrigin",options:t,fn(e){var T,_,E;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=cC(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,m=(((E=s.arrow)==null?void 0:E.y)??0)+l/2;let x="",w="";return c==="bottom"?(x=o?h:`${p}px`,w=`${-l}px`):c==="top"?(x=o?h:`${p}px`,w=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,w=o?h:`${m}px`):c==="left"&&(x=`${r.floating.width+l}px`,w=o?h:`${m}px`),{data:{x,y:w}}}});function cC(t){const[e,n="center"]=t.split("-");return[e,n]}var dC=sC,hC=oC,fC=aC,pC=uC,[$h,_8]=hr("Tooltip",[Uh]),zh=Uh(),mC="TooltipProvider",lL=700,Bm="tooltip.open",[uL,Vv]=$h(mC),gC=t=>{const{__scopeTooltip:e,delayDuration:n=lL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=g.useRef(!0),a=g.useRef(!1),l=g.useRef(0);return g.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),v.jsx(uL,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};gC.displayName=mC;var Gl="Tooltip",[cL,Bh]=$h(Gl),vC=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=Vv(Gl,t.__scopeTooltip),c=zh(e),[d,h]=g.useState(null),p=xi(),m=g.useRef(0),x=o??l.disableHoverableContent,w=a??l.delayDuration,T=g.useRef(!1),[_,E]=Eu({prop:r,defaultProp:s??!1,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(Bm))):l.onClose(),i==null||i(C)},caller:Gl}),S=g.useMemo(()=>_?T.current?"delayed-open":"instant-open":"closed",[_]),P=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,T.current=!1,E(!0)},[E]),O=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,E(!1)},[E]),M=g.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{T.current=!0,E(!0),m.current=0},w)},[w,E]);return g.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),v.jsx(dC,{...c,children:v.jsx(cL,{scope:e,contentId:p,open:_,stateAttribute:S,trigger:d,onTriggerChange:h,onTriggerEnter:g.useCallback(()=>{l.isOpenDelayedRef.current?M():P()},[l.isOpenDelayedRef,M,P]),onTriggerLeave:g.useCallback(()=>{x?O():(window.clearTimeout(m.current),m.current=0)},[O,x]),onOpen:P,onClose:O,disableHoverableContent:x,children:n})})};vC.displayName=Gl;var Wm="TooltipTrigger",yC=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Bh(Wm,n),i=Vv(Wm,n),o=zh(n),a=g.useRef(null),l=ke(e,a,s.onTriggerChange),c=g.useRef(!1),d=g.useRef(!1),h=g.useCallback(()=>c.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),v.jsx(hC,{asChild:!0,...o,children:v.jsx(ge.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:J(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:J(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:J(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:J(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:J(t.onBlur,s.onClose),onClick:J(t.onClick,s.onClose)})})});yC.displayName=Wm;var dL="TooltipPortal",[E8,hL]=$h(dL,{forceMount:void 0}),ea="TooltipContent",wC=g.forwardRef((t,e)=>{const n=hL(ea,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Bh(ea,t.__scopeTooltip);return v.jsx(Xt,{present:r||o.open,children:o.disableHoverableContent?v.jsx(_C,{side:s,...i,ref:e}):v.jsx(fL,{side:s,...i,ref:e})})}),fL=g.forwardRef((t,e)=>{const n=Bh(ea,t.__scopeTooltip),r=Vv(ea,t.__scopeTooltip),s=g.useRef(null),i=ke(e,s),[o,a]=g.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,p=g.useCallback(()=>{a(null),h(!1)},[h]),m=g.useCallback((x,w)=>{const T=x.currentTarget,_={x:x.clientX,y:x.clientY},E=yL(_,T.getBoundingClientRect()),S=wL(_,E),P=_L(w.getBoundingClientRect()),O=TL([...S,...P]);a(O),h(!0)},[h]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(l&&d){const x=T=>m(T,d),w=T=>m(T,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",w)}}},[l,d,m,p]),g.useEffect(()=>{if(o){const x=w=>{const T=w.target,_={x:w.clientX,y:w.clientY},E=(l==null?void 0:l.contains(T))||(d==null?void 0:d.contains(T)),S=!EL(_,o);E?p():S&&(p(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,o,c,p]),v.jsx(_C,{...t,ref:i})}),[pL,mL]=$h(Gl,{isInside:!1}),gL=FD("TooltipContent"),_C=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Bh(ea,n),c=zh(n),{onClose:d}=l;return g.useEffect(()=>(document.addEventListener(Bm,d),()=>document.removeEventListener(Bm,d)),[d]),g.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),v.jsx(_u,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:v.jsxs(fC,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(gL,{children:r}),v.jsx(pL,{scope:n,isInside:!0,children:v.jsx(aO,{id:l.contentId,role:"tooltip",children:s||r})})]})})});wC.displayName=ea;var EC="TooltipArrow",vL=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=zh(n);return mL(EC,n).isInside?null:v.jsx(pC,{...s,...r,ref:e})});vL.displayName=EC;function yL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function wL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function _L(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function EL(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function TL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),xL(e)}function xL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var SL=gC,IL=vC,CL=yC,TC=wC;const xC=SL,bL=IL,AL=CL,SC=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>v.jsx(TC,{ref:r,sideOffset:e,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));SC.displayName=TC.displayName;var Wh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hh=typeof window>"u"||"Deno"in globalThis;function An(){}function RL(t,e){return typeof t=="function"?t(e):t}function PL(t){return typeof t=="number"&&t>=0&&t!==1/0}function kL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function C0(t,e){return typeof t=="function"?t(e):t}function NL(t,e){return typeof t=="function"?t(e):t}function b0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Fv(o,e.options))return!1}else if(!Yl(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function A0(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ql(e.options.mutationKey)!==Ql(i))return!1}else if(!Yl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Fv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ql)(t)}function Ql(t){return JSON.stringify(t,(e,n)=>Hm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Yl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Yl(t[n],e[n])):!1}function IC(t,e){if(t===e)return t;const n=R0(t)&&R0(e);if(n||Hm(t)&&Hm(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=IC(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function R0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hm(t){if(!P0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!P0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function P0(t){return Object.prototype.toString.call(t)==="[object Object]"}function DL(t){return new Promise(e=>{setTimeout(e,t)})}function OL(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?IC(t,e):e}function ML(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function LL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var jv=Symbol();function CC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===jv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var gi,fs,Lo,LT,VL=(LT=class extends Wh{constructor(){super();Se(this,gi);Se(this,fs);Se(this,Lo);fe(this,Lo,e=>{if(!Hh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,fs)||this.setEventListener(U(this,Lo))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,fs))==null||e.call(this),fe(this,fs,void 0))}setEventListener(e){var n;fe(this,Lo,e),(n=U(this,fs))==null||n.call(this),fe(this,fs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,gi)!==e&&(fe(this,gi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,gi)=="boolean"?U(this,gi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},gi=new WeakMap,fs=new WeakMap,Lo=new WeakMap,LT),bC=new VL,Vo,ps,Fo,VT,FL=(VT=class extends Wh{constructor(){super();Se(this,Vo,!0);Se(this,ps);Se(this,Fo);fe(this,Fo,e=>{if(!Hh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,ps)||this.setEventListener(U(this,Fo))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,ps))==null||e.call(this),fe(this,ps,void 0))}setEventListener(e){var n;fe(this,Fo,e),(n=U(this,ps))==null||n.call(this),fe(this,ps,e(this.setOnline.bind(this)))}setOnline(e){U(this,Vo)!==e&&(fe(this,Vo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Vo)}},Vo=new WeakMap,ps=new WeakMap,Fo=new WeakMap,VT),Bd=new FL;function jL(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function UL(t){return Math.min(1e3*2**t,3e4)}function AC(t){return(t??"online")==="online"?Bd.isOnline():!0}var RC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function gp(t){return t instanceof RC}function PC(t){let e=!1,n=0,r=!1,s;const i=jL(),o=w=>{var T;r||(p(new RC(w)),(T=t.abort)==null||T.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>bC.isFocused()&&(t.networkMode==="always"||Bd.isOnline())&&t.canRun(),d=()=>AC(t.networkMode)&&t.canRun(),h=w=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,w),s==null||s(),i.resolve(w))},p=w=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,w),s==null||s(),i.reject(w))},m=()=>new Promise(w=>{var T;s=_=>{(r||c())&&w(_)},(T=t.onPause)==null||T.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),x=()=>{if(r)return;let w;const T=n===0?t.initialPromise:void 0;try{w=T??t.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(h).catch(_=>{var M;if(r)return;const E=t.retry??(Hh?0:3),S=t.retryDelay??UL,P=typeof S=="function"?S(n,_):S,O=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,_);if(e||!O){p(_);return}n++,(M=t.onFail)==null||M.call(t,n,_),DL(P).then(()=>c()?void 0:m()).then(()=>{e?p(_):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?x():m().then(x),i)}}var $L=t=>setTimeout(t,0);function zL(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=$L;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Mt=zL(),vi,FT,kC=(FT=class{constructor(){Se(this,vi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),PL(this.gcTime)&&fe(this,vi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Hh?1/0:5*60*1e3))}clearGcTimeout(){U(this,vi)&&(clearTimeout(U(this,vi)),fe(this,vi,void 0))}},vi=new WeakMap,FT),jo,Uo,hn,yi,Ct,hu,wi,Rn,Er,jT,BL=(jT=class extends kC{constructor(n){super();Se(this,Rn);Se(this,jo);Se(this,Uo);Se(this,hn);Se(this,yi);Se(this,Ct);Se(this,hu);Se(this,wi);fe(this,wi,!1),fe(this,hu,n.defaultOptions),this.setOptions(n.options),this.observers=[],fe(this,yi,n.client),fe(this,hn,U(this,yi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,fe(this,jo,HL(this.options)),this.state=n.state??U(this,jo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Ct))==null?void 0:n.promise}setOptions(n){this.options={...U(this,hu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,hn).remove(this)}setData(n,r){const s=OL(this.state.data,n,this.options);return Tt(this,Rn,Er).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Tt(this,Rn,Er).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,Ct))==null?void 0:s.promise;return(i=U(this,Ct))==null||i.cancel(n),r?r.then(An).catch(An):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,jo))}isActive(){return this.observers.some(n=>NL(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!kL(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Ct))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Ct))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,hn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Ct)&&(U(this,wi)?U(this,Ct).cancel({revert:!0}):U(this,Ct).cancelRetry()),this.scheduleGc()),U(this,hn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Tt(this,Rn,Er).call(this,{type:"invalidate"})}fetch(n,r){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Ct))return U(this,Ct).continueRetry(),U(this,Ct).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(fe(this,wi,!0),s.signal)})},o=()=>{const p=CC(this.options,r),m={client:U(this,yi),queryKey:this.queryKey,meta:this.meta};return i(m),fe(this,wi,!1),this.options.persister?this.options.persister(p,m,this):p(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,yi),state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),fe(this,Uo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Tt(this,Rn,Er).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=p=>{var m,x,w,T;gp(p)&&p.silent||Tt(this,Rn,Er).call(this,{type:"error",error:p}),gp(p)||((x=(m=U(this,hn).config).onError)==null||x.call(m,p,this),(T=(w=U(this,hn).config).onSettled)==null||T.call(w,this.state.data,p,this)),this.scheduleGc()};return fe(this,Ct,PC({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var m,x,w,T;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(_){l(_);return}(x=(m=U(this,hn).config).onSuccess)==null||x.call(m,p,this),(T=(w=U(this,hn).config).onSettled)==null||T.call(w,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,m)=>{Tt(this,Rn,Er).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{Tt(this,Rn,Er).call(this,{type:"pause"})},onContinue:()=>{Tt(this,Rn,Er).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,Ct).start()}},jo=new WeakMap,Uo=new WeakMap,hn=new WeakMap,yi=new WeakMap,Ct=new WeakMap,hu=new WeakMap,wi=new WeakMap,Rn=new WeakSet,Er=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...WL(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return gp(i)&&i.revert&&U(this,Uo)?{...U(this,Uo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Mt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,hn).notify({query:this,type:"updated",action:n})})},jT);function WL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:AC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function HL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Yn,UT,qL=(UT=class extends Wh{constructor(e={}){super();Se(this,Yn);this.config=e,fe(this,Yn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Fv(s,n);let o=this.get(i);return o||(o=new BL({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,Yn).has(e.queryHash)||(U(this,Yn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,Yn).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,Yn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Yn).get(e)}getAll(){return[...U(this,Yn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>b0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>b0(e,r)):n}notify(e){Mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Yn=new WeakMap,UT),Xn,Dt,_i,Jn,ns,$T,KL=($T=class extends kC{constructor(n){super();Se(this,Jn);Se(this,Xn);Se(this,Dt);Se(this,_i);this.mutationId=n.mutationId,fe(this,Dt,n.mutationCache),fe(this,Xn,[]),this.state=n.state||GL(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,Xn).includes(n)||(U(this,Xn).push(n),this.clearGcTimeout(),U(this,Dt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){fe(this,Xn,U(this,Xn).filter(r=>r!==n)),this.scheduleGc(),U(this,Dt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,Xn).length||(this.state.status==="pending"?this.scheduleGc():U(this,Dt).remove(this))}continue(){var n;return((n=U(this,_i))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,c,d,h,p,m,x,w,T,_,E,S,P,O,M,C,I,A;const r=()=>{Tt(this,Jn,ns).call(this,{type:"continue"})};fe(this,_i,PC({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,N)=>{Tt(this,Jn,ns).call(this,{type:"failed",failureCount:R,error:N})},onPause:()=>{Tt(this,Jn,ns).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Dt).canRun(this)}));const s=this.state.status==="pending",i=!U(this,_i).canStart();try{if(s)r();else{Tt(this,Jn,ns).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=U(this,Dt).config).onMutate)==null?void 0:a.call(o,n,this));const N=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));N!==this.state.context&&Tt(this,Jn,ns).call(this,{type:"pending",context:N,variables:n,isPaused:i})}const R=await U(this,_i).start();return await((h=(d=U(this,Dt).config).onSuccess)==null?void 0:h.call(d,R,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,R,n,this.state.context)),await((w=(x=U(this,Dt).config).onSettled)==null?void 0:w.call(x,R,null,this.state.variables,this.state.context,this)),await((_=(T=this.options).onSettled)==null?void 0:_.call(T,R,null,n,this.state.context)),Tt(this,Jn,ns).call(this,{type:"success",data:R}),R}catch(R){try{throw await((S=(E=U(this,Dt).config).onError)==null?void 0:S.call(E,R,n,this.state.context,this)),await((O=(P=this.options).onError)==null?void 0:O.call(P,R,n,this.state.context)),await((C=(M=U(this,Dt).config).onSettled)==null?void 0:C.call(M,void 0,R,this.state.variables,this.state.context,this)),await((A=(I=this.options).onSettled)==null?void 0:A.call(I,void 0,R,n,this.state.context)),R}finally{Tt(this,Jn,ns).call(this,{type:"error",error:R})}}finally{U(this,Dt).runNext(this)}}},Xn=new WeakMap,Dt=new WeakMap,_i=new WeakMap,Jn=new WeakSet,ns=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Mt.batch(()=>{U(this,Xn).forEach(s=>{s.onMutationUpdate(n)}),U(this,Dt).notify({mutation:this,type:"updated",action:n})})},$T);function GL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sr,Pn,fu,zT,QL=(zT=class extends Wh{constructor(e={}){super();Se(this,Sr);Se(this,Pn);Se(this,fu);this.config=e,fe(this,Sr,new Set),fe(this,Pn,new Map),fe(this,fu,0)}build(e,n,r){const s=new KL({mutationCache:this,mutationId:++oc(this,fu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){U(this,Sr).add(e);const n=Ac(e);if(typeof n=="string"){const r=U(this,Pn).get(n);r?r.push(e):U(this,Pn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,Sr).delete(e)){const n=Ac(e);if(typeof n=="string"){const r=U(this,Pn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&U(this,Pn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Ac(e);if(typeof n=="string"){const r=U(this,Pn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Ac(e);if(typeof n=="string"){const s=(r=U(this,Pn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Mt.batch(()=>{U(this,Sr).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,Sr).clear(),U(this,Pn).clear()})}getAll(){return Array.from(U(this,Sr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>A0(n,r))}findAll(e={}){return this.getAll().filter(n=>A0(e,n))}notify(e){Mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Mt.batch(()=>Promise.all(e.map(n=>n.continue().catch(An))))}},Sr=new WeakMap,Pn=new WeakMap,fu=new WeakMap,zT);function Ac(t){var e;return(e=t.options.scope)==null?void 0:e.id}function k0(t){return{onFetch:(e,n)=>{var d,h,p,m,x;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let w=!1;const T=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},_=CC(e.options,e.fetchOptions),E=async(S,P,O)=>{if(w)return Promise.reject();if(P==null&&S.pages.length)return Promise.resolve(S);const M={client:e.client,queryKey:e.queryKey,pageParam:P,direction:O?"backward":"forward",meta:e.options.meta};T(M);const C=await _(M),{maxPages:I}=e.options,A=O?LL:ML;return{pages:A(S.pages,C,I),pageParams:A(S.pageParams,P,I)}};if(s&&i.length){const S=s==="backward",P=S?YL:N0,O={pages:i,pageParams:o},M=P(r,O);a=await E(O,M,S)}else{const S=t??i.length;do{const P=l===0?o[0]??r.initialPageParam:N0(r,a);if(l>0&&P==null)break;a=await E(a,P),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var w,T;return(T=(w=e.options).persister)==null?void 0:T.call(w,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function N0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function YL(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ke,ms,gs,$o,zo,vs,Bo,Wo,BT,XL=(BT=class{constructor(t={}){Se(this,Ke);Se(this,ms);Se(this,gs);Se(this,$o);Se(this,zo);Se(this,vs);Se(this,Bo);Se(this,Wo);fe(this,Ke,t.queryCache||new qL),fe(this,ms,t.mutationCache||new QL),fe(this,gs,t.defaultOptions||{}),fe(this,$o,new Map),fe(this,zo,new Map),fe(this,vs,0)}mount(){oc(this,vs)._++,U(this,vs)===1&&(fe(this,Bo,bC.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Ke).onFocus())})),fe(this,Wo,Bd.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Ke).onOnline())})))}unmount(){var t,e;oc(this,vs)._--,U(this,vs)===0&&((t=U(this,Bo))==null||t.call(this),fe(this,Bo,void 0),(e=U(this,Wo))==null||e.call(this),fe(this,Wo,void 0))}isFetching(t){return U(this,Ke).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,ms).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Ke).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,Ke).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(C0(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,Ke).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,Ke).get(r.queryHash),i=s==null?void 0:s.state.data,o=RL(e,i);if(o!==void 0)return U(this,Ke).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Mt.batch(()=>U(this,Ke).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Ke).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,Ke);Mt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,Ke);return Mt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Mt.batch(()=>U(this,Ke).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(An).catch(An)}invalidateQueries(t,e={}){return Mt.batch(()=>(U(this,Ke).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Mt.batch(()=>U(this,Ke).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(An)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(An)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,Ke).build(this,e);return n.isStaleByTime(C0(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(An).catch(An)}fetchInfiniteQuery(t){return t.behavior=k0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(An).catch(An)}ensureInfiniteQueryData(t){return t.behavior=k0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Bd.isOnline()?U(this,ms).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Ke)}getMutationCache(){return U(this,ms)}getDefaultOptions(){return U(this,gs)}setDefaultOptions(t){fe(this,gs,t)}setQueryDefaults(t,e){U(this,$o).set(Ql(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,$o).values()],n={};return e.forEach(r=>{Yl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,zo).set(Ql(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,zo).values()],n={};return e.forEach(r=>{Yl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,gs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Fv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===jv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,gs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Ke).clear(),U(this,ms).clear()}},Ke=new WeakMap,ms=new WeakMap,gs=new WeakMap,$o=new WeakMap,zo=new WeakMap,vs=new WeakMap,Bo=new WeakMap,Wo=new WeakMap,BT),JL=g.createContext(void 0),ZL=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),v.jsx(JL.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}var _s;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_s||(_s={}));const D0="popstate";function eV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return qm("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Wd(s)}return nV(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function NC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tV(){return Math.random().toString(36).substr(2,8)}function O0(t,e){return{usr:t.state,key:t.key,idx:e}}function qm(t,e,n,r){return n===void 0&&(n=null),Xl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ya(e):e,{state:n,key:e&&e.key||r||tV()})}function Wd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ya(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=_s.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Xl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=_s.Pop;let T=d(),_=T==null?null:T-c;c=T,l&&l({action:a,location:w.location,delta:_})}function p(T,_){a=_s.Push;let E=qm(w.location,T,_);c=d()+1;let S=O0(E,c),P=w.createHref(E);try{o.pushState(S,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(P)}i&&l&&l({action:a,location:w.location,delta:1})}function m(T,_){a=_s.Replace;let E=qm(w.location,T,_);c=d();let S=O0(E,c),P=w.createHref(E);o.replaceState(S,"",P),i&&l&&l({action:a,location:w.location,delta:0})}function x(T){let _=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof T=="string"?T:Wd(T);return E=E.replace(/ $/,"%20"),Je(_,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,_)}let w={get action(){return a},get location(){return t(s,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(D0,h),l=T,()=>{s.removeEventListener(D0,h),l=null}},createHref(T){return e(s,T)},createURL:x,encodeLocation(T){let _=x(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:m,go(T){return o.go(T)}};return w}var M0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(M0||(M0={}));function rV(t,e,n){return n===void 0&&(n="/"),sV(t,e,n)}function sV(t,e,n,r){let s=typeof e=="string"?ya(e):e,i=Uv(s.pathname||"/",n);if(i==null)return null;let o=DC(t);iV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=vV(i);a=pV(o[l],c)}return a}function DC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Je(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ps([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Je(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),DC(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:hV(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of OC(i.path))s(i,o,l)}),e}function OC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=OC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function iV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oV=/^:[\w-]+$/,aV=3,lV=2,uV=1,cV=10,dV=-2,L0=t=>t==="*";function hV(t,e){let n=t.split("/"),r=n.length;return n.some(L0)&&(r+=dV),e&&(r+=lV),n.filter(s=>!L0(s)).reduce((s,i)=>s+(oV.test(i)?aV:i===""?uV:cV),r)}function fV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function pV(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=mV({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ps([i,h.pathname]),pathnameBase:EV(Ps([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Ps([i,h.pathnameBase]))}return o}function mV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const x=a[h];return m&&!x?c[p]=void 0:c[p]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function gV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),NC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function vV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return NC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Uv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ya(t):t;return{pathname:n?n.startsWith("/")?n:wV(n,e):e,search:TV(r),hash:xV(s)}}function wV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _V(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $v(t,e){let n=_V(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function zv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ya(t):(s=Xl({},t),Je(!s.pathname||!s.pathname.includes("?"),vp("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),vp("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),vp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=yV(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ps=t=>t.join("/").replace(/\/\/+/g,"/"),EV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const MC=["post","put","patch","delete"];new Set(MC);const IV=["get",...MC];new Set(IV);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(this,arguments)}const Bv=g.createContext(null),CV=g.createContext(null),Xs=g.createContext(null),qh=g.createContext(null),Br=g.createContext({outlet:null,matches:[],isDataRoute:!1}),LC=g.createContext(null);function bV(t,e){let{relative:n}=e===void 0?{}:e;wa()||Je(!1);let{basename:r,navigator:s}=g.useContext(Xs),{hash:i,pathname:o,search:a}=FC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ps([r,o])),s.createHref({pathname:l,search:a,hash:i})}function wa(){return g.useContext(qh)!=null}function Js(){return wa()||Je(!1),g.useContext(qh).location}function VC(t){g.useContext(Xs).static||g.useLayoutEffect(t)}function Wv(){let{isDataRoute:t}=g.useContext(Br);return t?zV():AV()}function AV(){wa()||Je(!1);let t=g.useContext(Bv),{basename:e,future:n,navigator:r}=g.useContext(Xs),{matches:s}=g.useContext(Br),{pathname:i}=Js(),o=JSON.stringify($v(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return VC(()=>{a.current=!0}),g.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=zv(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ps([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}const RV=g.createContext(null);function PV(t){let e=g.useContext(Br).outlet;return e&&g.createElement(RV.Provider,{value:t},e)}function FC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(Xs),{matches:s}=g.useContext(Br),{pathname:i}=Js(),o=JSON.stringify($v(s,r.v7_relativeSplatPath));return g.useMemo(()=>zv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function kV(t,e){return NV(t,e)}function NV(t,e,n,r){wa()||Je(!1);let{navigator:s,static:i}=g.useContext(Xs),{matches:o}=g.useContext(Br),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=Js(),h;if(e){var p;let _=typeof e=="string"?ya(e):e;c==="/"||(p=_.pathname)!=null&&p.startsWith(c)||Je(!1),h=_}else h=d;let m=h.pathname||"/",x=m;if(c!=="/"){let _=c.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=rV(t,{pathname:x}),T=VV(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Ps([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Ps([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&T?g.createElement(qh.Provider,{value:{location:Jl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:_s.Pop}},T):T}function DV(){let t=$V(),e=SV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const OV=g.createElement(DV,null);class MV extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Br.Provider,{value:this.props.routeContext},g.createElement(LC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LV(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(Bv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Br.Provider,{value:e},r)}function VV(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Je(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=n,x=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,x=!1,w=null,T=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||OV,l&&(c<0&&p===0?(BV("route-fallback"),x=!0,T=null):c===p&&(x=!0,T=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),E=()=>{let S;return m?S=w:x?S=T:h.route.Component?S=g.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,g.createElement(LV,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?g.createElement(MV,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}var jC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jC||{}),UC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(UC||{});function FV(t){let e=g.useContext(Bv);return e||Je(!1),e}function jV(t){let e=g.useContext(CV);return e||Je(!1),e}function UV(t){let e=g.useContext(Br);return e||Je(!1),e}function $C(t){let e=UV(),n=e.matches[e.matches.length-1];return n.route.id||Je(!1),n.route.id}function $V(){var t;let e=g.useContext(LC),n=jV(),r=$C();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zV(){let{router:t}=FV(jC.UseNavigateStable),e=$C(UC.UseNavigateStable),n=g.useRef(!1);return VC(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Jl({fromRouteId:e},i)))},[t,e])}const V0={};function BV(t,e,n){V0[t]||(V0[t]=!0)}function WV(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function zC(t){let{to:e,replace:n,state:r,relative:s}=t;wa()||Je(!1);let{future:i,static:o}=g.useContext(Xs),{matches:a}=g.useContext(Br),{pathname:l}=Js(),c=Wv(),d=zv(e,$v(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return g.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function HV(t){return PV(t.context)}function io(t){Je(!1)}function qV(t){let{basename:e="/",children:n=null,location:r,navigationType:s=_s.Pop,navigator:i,static:o=!1,future:a}=t;wa()&&Je(!1);let l=e.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:i,static:o,future:Jl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ya(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:x="default"}=r,w=g.useMemo(()=>{let T=Uv(d,l);return T==null?null:{location:{pathname:T,search:h,hash:p,state:m,key:x},navigationType:s}},[l,d,h,p,m,x,s]);return w==null?null:g.createElement(Xs.Provider,{value:c},g.createElement(qh.Provider,{children:n,value:w}))}function KV(t){let{children:e,location:n}=t;return kV(Km(e),n)}new Promise(()=>{});function Km(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,Km(r.props.children,i));return}r.type!==io&&Je(!1),!r.props.index||!r.props.children||Je(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Km(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gm(){return Gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gm.apply(this,arguments)}function GV(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function QV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YV(t,e){return t.button===0&&(!e||e==="_self")&&!QV(t)}const XV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JV="6";try{window.__reactRouterVersion=JV}catch{}const ZV="startTransition",F0=Pg[ZV];function eF(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=eV({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=g.useCallback(h=>{c&&F0?F0(()=>l(h)):l(h)},[l,c]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>WV(r),[r]),g.createElement(qV,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const tF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BC=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=GV(e,XV),{basename:m}=g.useContext(Xs),x,w=!1;if(typeof c=="string"&&nF.test(c)&&(x=c,tF))try{let S=new URL(window.location.href),P=c.startsWith("//")?new URL(S.protocol+c):new URL(c),O=Uv(P.pathname,m);P.origin===S.origin&&O!=null?c=O+P.search+P.hash:w=!0}catch{}let T=bV(c,{relative:s}),_=rF(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function E(S){r&&r(S),S.defaultPrevented||_(S)}return g.createElement("a",Gm({},p,{href:x||T,onClick:w||i?r:E,ref:n,target:l}))});var j0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(j0||(j0={}));var U0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(U0||(U0={}));function rF(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Wv(),c=Js(),d=FC(t,{relative:o});return g.useCallback(h=>{if(YV(h,n)){h.preventDefault();let p=r!==void 0?r:Wd(c)===Wd(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const sF=()=>{};var $0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},iF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},HC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new oF;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const x=c<<6&192|h;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aF=function(t){const e=WC(t);return HC.encodeByteArray(e,!0)},Hd=function(t){return aF(t).replace(/\./g,"")},qC=function(t){try{return HC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=()=>lF().__FIREBASE_DEFAULTS__,cF=()=>{if(typeof process>"u"||typeof $0>"u")return;const t=$0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qC(t[1]);return e&&JSON.parse(e)},Kh=()=>{try{return sF()||uF()||cF()||dF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KC=t=>{var e,n;return(n=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hF=t=>{const e=KC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},GC=()=>{var t;return(t=Kh())===null||t===void 0?void 0:t.config},QC=t=>{var e;return(e=Kh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hd(JSON.stringify(n)),Hd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function gF(){var t;const e=(t=Kh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _F(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EF(){return!gF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TF(){try{return typeof indexedDB=="object"}catch{return!1}}function xF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF="FirebaseError";class Wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SF,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?IF(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Wr(s,a,r)}}function IF(t,e){return t.replace(CF,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const CF=/\{\$([^}]+)}/g;function bF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(z0(i)&&z0(o)){if(!Pi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function z0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function nl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AF(t,e){const n=new RF(t,e);return n.subscribe.bind(n)}class RF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=yp),s.error===void 0&&(s.error=yp),s.complete===void 0&&(s.complete=yp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class ki{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DF(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NF(t){return t===di?void 0:t}function DF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const MF={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},LF=ye.INFO,VF={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},FF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=VF[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hv{constructor(e){this.name=e,this._logLevel=LF,this._logHandler=FF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const jF=(t,e)=>e.some(n=>t instanceof n);let B0,W0;function UF(){return B0||(B0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $F(){return W0||(W0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YC=new WeakMap,Qm=new WeakMap,XC=new WeakMap,wp=new WeakMap,qv=new WeakMap;function zF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ks(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YC.set(n,t)}).catch(()=>{}),qv.set(e,t),e}function BF(t){if(Qm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Qm.set(t,e)}let Ym={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WF(t){Ym=t(Ym)}function HF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_p(this),e,...n);return XC.set(r,e.sort?e.sort():[e]),ks(r)}:$F().includes(t)?function(...e){return t.apply(_p(this),e),ks(YC.get(this))}:function(...e){return ks(t.apply(_p(this),e))}}function qF(t){return typeof t=="function"?HF(t):(t instanceof IDBTransaction&&BF(t),jF(t,UF())?new Proxy(t,Ym):t)}function ks(t){if(t instanceof IDBRequest)return zF(t);if(wp.has(t))return wp.get(t);const e=qF(t);return e!==t&&(wp.set(t,e),qv.set(e,t)),e}const _p=t=>qv.get(t);function KF(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ks(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ks(o.result),l.oldVersion,l.newVersion,ks(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const GF=["get","getKey","getAll","getAllKeys","count"],QF=["put","add","delete","clear"],Ep=new Map;function H0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ep.get(e))return Ep.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=QF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||GF.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Ep.set(e,i),i}WF(t=>({...t,get:(e,n,r)=>H0(e,n)||t.get(e,n,r),has:(e,n)=>!!H0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xm="@firebase/app",q0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Hv("@firebase/app"),JF="@firebase/app-compat",ZF="@firebase/analytics-compat",ej="@firebase/analytics",tj="@firebase/app-check-compat",nj="@firebase/app-check",rj="@firebase/auth",sj="@firebase/auth-compat",ij="@firebase/database",oj="@firebase/data-connect",aj="@firebase/database-compat",lj="@firebase/functions",uj="@firebase/functions-compat",cj="@firebase/installations",dj="@firebase/installations-compat",hj="@firebase/messaging",fj="@firebase/messaging-compat",pj="@firebase/performance",mj="@firebase/performance-compat",gj="@firebase/remote-config",vj="@firebase/remote-config-compat",yj="@firebase/storage",wj="@firebase/storage-compat",_j="@firebase/firestore",Ej="@firebase/vertexai",Tj="@firebase/firestore-compat",xj="firebase",Sj="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="[DEFAULT]",Ij={[Xm]:"fire-core",[JF]:"fire-core-compat",[ej]:"fire-analytics",[ZF]:"fire-analytics-compat",[nj]:"fire-app-check",[tj]:"fire-app-check-compat",[rj]:"fire-auth",[sj]:"fire-auth-compat",[ij]:"fire-rtdb",[oj]:"fire-data-connect",[aj]:"fire-rtdb-compat",[lj]:"fire-fn",[uj]:"fire-fn-compat",[cj]:"fire-iid",[dj]:"fire-iid-compat",[hj]:"fire-fcm",[fj]:"fire-fcm-compat",[pj]:"fire-perf",[mj]:"fire-perf-compat",[gj]:"fire-rc",[vj]:"fire-rc-compat",[yj]:"fire-gcs",[wj]:"fire-gcs-compat",[_j]:"fire-fst",[Tj]:"fire-fst-compat",[Ej]:"fire-vertex","fire-js":"fire-js",[xj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new Map,Cj=new Map,Zm=new Map;function K0(t,e){try{t.container.addComponent(e)}catch(n){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ta(t){const e=t.name;if(Zm.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,t);for(const n of qd.values())K0(n,t);for(const n of Cj.values())K0(n,t);return!0}function Kv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new Iu("app","Firebase",bj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=Sj;function JC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ns.create("bad-app-name",{appName:String(s)});if(n||(n=GC()),!n)throw Ns.create("no-options");const i=qd.get(s);if(i){if(Pi(n,i.options)&&Pi(r,i.config))return i;throw Ns.create("duplicate-app",{appName:s})}const o=new OF(s);for(const l of Zm.values())o.addComponent(l);const a=new Aj(n,r,o);return qd.set(s,a),a}function ZC(t=Jm){const e=qd.get(t);if(!e&&t===Jm&&GC())return JC();if(!e)throw Ns.create("no-app",{appName:t});return e}function Ds(t,e,n){var r;let s=(r=Ij[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(a.join(" "));return}ta(new ki(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="firebase-heartbeat-database",Pj=1,Zl="firebase-heartbeat-store";let Tp=null;function eb(){return Tp||(Tp=KF(Rj,Pj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ns.create("idb-open",{originalErrorMessage:t.message})})),Tp}async function kj(t){try{const n=(await eb()).transaction(Zl),r=await n.objectStore(Zl).get(tb(t));return await n.done,r}catch(e){if(e instanceof Wr)Fr.warn(e.message);else{const n=Ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(n.message)}}}async function G0(t,e){try{const r=(await eb()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,tb(t)),await r.done}catch(n){if(n instanceof Wr)Fr.warn(n.message);else{const r=Ns.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fr.warn(r.message)}}}function tb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=1024,Dj=30;class Oj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Q0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>Dj){const o=Vj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Q0(),{heartbeatsToSend:r,unsentEntries:s}=Mj(this._heartbeatsCache.heartbeats),i=Hd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Fr.warn(n),""}}}function Q0(){return new Date().toISOString().substring(0,10)}function Mj(t,e=Nj){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Y0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Y0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Lj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TF()?xF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return G0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return G0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Y0(t){return Hd(JSON.stringify({version:2,heartbeats:t})).length}function Vj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t){ta(new ki("platform-logger",e=>new YF(e),"PRIVATE")),ta(new ki("heartbeat",e=>new Oj(e),"PRIVATE")),Ds(Xm,q0,t),Ds(Xm,q0,"esm2017"),Ds("fire-js","")}Fj("");var tr=function(){return tr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tr.apply(this,arguments)};function bu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function jj(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function nb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Uj=nb,rb=new Iu("auth","Firebase",nb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new Hv("@firebase/auth");function $j(t,...e){Kd.logLevel<=ye.WARN&&Kd.warn(`Auth (${_a}): ${t}`,...e)}function ed(t,...e){Kd.logLevel<=ye.ERROR&&Kd.error(`Auth (${_a}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,...e){throw Gv(t,...e)}function ir(t,...e){return Gv(t,...e)}function sb(t,e,n){const r=Object.assign(Object.assign({},Uj()),{[e]:n});return new Iu("auth","Firebase",r).create(e,{appName:t.name})}function Os(t){return sb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rb.create(t,...e)}function se(t,e,...n){if(!t)throw Gv(e,...n)}function br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ed(e),new Error(e)}function jr(t,e){t||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zj(){return X0()==="http:"||X0()==="https:"}function X0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zj()||yF()||"connection"in navigator)?navigator.onLine:!0}function Wj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=mF()||wF()}get(){return Bj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t,e){jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Kj=new Au(3e4,6e4);function Fi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zs(t,e,n,r,s={}){return ob(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Cu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return vF()||(c.referrerPolicy="no-referrer"),ib.fetch()(await ab(t,t.config.apiHost,n,a),c)})}async function ob(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Hj),e);try{const s=new Qj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Rc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Rc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Rc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw sb(t,d,c);zn(t,d)}}catch(s){if(s instanceof Wr)throw s;zn(t,"network-request-failed",{message:String(s)})}}async function Gh(t,e,n,r,s={}){const i=await Zs(t,e,n,r,s);return"mfaPendingCredential"in i&&zn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function ab(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Qv(t.config,s):`${t.config.apiScheme}://${s}`;return qj.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function Gj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ir(this.auth,"network-request-failed")),Kj.get())})}}function Rc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ir(t,e,r);return s.customData._tokenResponse=n,s}function J0(t){return t!==void 0&&t.enterprise!==void 0}class Yj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Gj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Xj(t,e){return Zs(t,"GET","/v2/recaptchaConfig",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t,e){return Zs(t,"POST","/v1/accounts:delete",e)}async function Gd(t,e){return Zs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Zj(t,e=!1){const n=Vt(t),r=await n.getIdToken(e),s=Yv(r);se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:_l(xp(s.auth_time)),issuedAtTime:_l(xp(s.iat)),expirationTime:_l(xp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function xp(t){return Number(t)*1e3}function Yv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ed("JWT malformed, contained fewer than 3 sections"),null;try{const s=qC(n);return s?JSON.parse(s):(ed("Failed to decode base64 JWT payload"),null)}catch(s){return ed("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Z0(t){const e=Yv(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wr&&e4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await eu(t,Gd(n,{idToken:r}));se(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?lb(i.providerUserInfo):[],a=r4(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new tg(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function n4(t){const e=Vt(t);await Qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function lb(t){return t.map(e=>{var{providerId:n}=e,r=bu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(t,e){const n=await ob(t,{},async()=>{const r=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await ab(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ib.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i4(t,e){return Zs(t,"POST","/v2/accounts:revokeToken",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=Z0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await s4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ko;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(se(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(se(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class On{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=bu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await eu(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Zj(this,e)}reload(){return n4(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new On(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Os(this.auth));const e=await this.getIdToken();return await eu(this,Jj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:P,isAnonymous:O,providerData:M,stsTokenManager:C}=n;se(S&&C,e,"internal-error");const I=ko.fromJSON(this.name,C);se(typeof S=="string",e,"internal-error"),ts(h,e.name),ts(p,e.name),se(typeof P=="boolean",e,"internal-error"),se(typeof O=="boolean",e,"internal-error"),ts(m,e.name),ts(x,e.name),ts(w,e.name),ts(T,e.name),ts(_,e.name),ts(E,e.name);const A=new On({uid:S,auth:e,email:p,emailVerified:P,displayName:h,isAnonymous:O,photoURL:x,phoneNumber:m,tenantId:w,stsTokenManager:I,createdAt:_,lastLoginAt:E});return M&&Array.isArray(M)&&(A.providerData=M.map(R=>Object.assign({},R))),T&&(A._redirectEventId=T),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new ko;s.updateFromServerResponse(n);const i=new On({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Qd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];se(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?lb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ko;a.updateFromIdToken(r);const l=new On({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new tg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;function Ar(t){jr(t instanceof Function,"Expected a class definition");let e=eE.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ub.type="NONE";const tE=ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t,e,n){return`firebase:${t}:${e}:${n}`}class No{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=td(this.userKey,s.apiKey,i),this.fullPersistenceKey=td("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gd(this.auth,{idToken:e}).catch(()=>{});return n?On._fromGetAccountInfoResponse(this.auth,n,e):null}return On._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new No(Ar(tE),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Ar(tE);const o=td(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const p=await Gd(e,{idToken:d}).catch(()=>{});if(!p)break;h=await On._fromGetAccountInfoResponse(e,p,d)}else h=On._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new No(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new No(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mb(e))return"Blackberry";if(gb(e))return"Webos";if(db(e))return"Safari";if((e.includes("chrome/")||hb(e))&&!e.includes("edge/"))return"Chrome";if(pb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cb(t=kt()){return/firefox\//i.test(t)}function db(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hb(t=kt()){return/crios\//i.test(t)}function fb(t=kt()){return/iemobile/i.test(t)}function pb(t=kt()){return/android/i.test(t)}function mb(t=kt()){return/blackberry/i.test(t)}function gb(t=kt()){return/webos/i.test(t)}function Xv(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o4(t=kt()){var e;return Xv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a4(){return _F()&&document.documentMode===10}function vb(t=kt()){return Xv(t)||pb(t)||gb(t)||mb(t)||/windows phone/i.test(t)||fb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t,e=[]){let n;switch(t){case"Browser":n=nE(kt());break;case"Worker":n=`${nE(kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_a}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(t,e={}){return Zs(t,"GET","/v2/passwordPolicy",Fi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=6;class d4{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:c4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rE(this),this.idTokenSubscription=new rE(this),this.beforeStateQueue=new l4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gd(this,{idToken:e}),r=await On._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Dn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Wj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Os(this));const n=e?Vt(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u4(this),n=new d4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Iu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await i4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ar(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$j(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ea(t){return Vt(t)}class rE{constructor(e){this.auth=e,this.observer=null,this.addObserver=AF(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f4(t){Qh=t}function wb(t){return Qh.loadJS(t)}function p4(){return Qh.recaptchaEnterpriseScript}function m4(){return Qh.gapiScript}function g4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class v4{constructor(){this.enterprise=new y4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class y4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const w4="recaptcha-enterprise",_b="NO_RECAPTCHA";class _4{constructor(e){this.type=w4,this.auth=Ea(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Xj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Yj(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;J0(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(_b)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new v4().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&J0(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=p4();l.length!==0&&(l+=a),wb(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function sE(t,e,n,r=!1,s=!1){const i=new _4(t);let o;if(s)o=_b;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function iE(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await sE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await sE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t,e){const n=Kv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Pi(i,e??{}))return s;zn(s,"already-initialized")}return n.initialize({options:e})}function T4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function x4(t,e,n){const r=Ea(t);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Eb(e),{host:o,port:a}=S4(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(Pi(c,r.config.emulator)&&Pi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,I4()}function Eb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S4(t){const e=Eb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:oE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:oE(o)}}}function oE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function C4(t,e){return Zs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(t,e){return Gh(t,"POST","/v1/accounts:signInWithPassword",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e){return Gh(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))}async function R4(t,e){return Gh(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends Jv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new tu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iE(e,n,"signInWithPassword",b4);case"emailLink":return A4(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iE(e,r,"signUpPassword",C4);case"emailLink":return R4(e,{idToken:n,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t,e){return Gh(t,"POST","/v1/accounts:signInWithIdp",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="http://localhost";class Ni extends Jv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=bu(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ni(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Do(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Do(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Do(e,n)}buildRequest(){const e={requestUri:P4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N4(t){const e=tl(nl(t)).link,n=e?tl(nl(e)).deep_link_id:null,r=tl(nl(t)).deep_link_id;return(r?tl(nl(r)).link:null)||r||n||e||t}class Zv{constructor(e){var n,r,s,i,o,a;const l=tl(nl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=k4((s=l.mode)!==null&&s!==void 0?s:null);se(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=N4(e);try{return new Zv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.providerId=Ta.PROVIDER_ID}static credential(e,n){return tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zv.parseLink(n);return se(r,"argument-error"),tu._fromEmailAndCode(e,r.code,r.tenantId)}}Ta.PROVIDER_ID="password";Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends Tb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Ru{constructor(){super("facebook.com")}static credential(e){return Ni._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ni._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return us.credential(n,r)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Ru{constructor(){super("github.com")}static credential(e){return Ni._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Ru{constructor(){super("twitter.com")}static credential(e,n){return Ni._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ds.credential(n,r)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await On._fromIdTokenResponse(e,r,s),o=aE(r);return new na({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=aE(r);return new na({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function aE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends Wr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Yd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Yd(e,n,r,s)}}function xb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Yd._fromErrorAndOperation(t,i,e,r):i})}async function D4(t,e,n=!1){const r=await eu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return na._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(t,e,n=!1){const{auth:r}=t;if(Dn(r.app))return Promise.reject(Os(r));const s="reauthenticate";try{const i=await eu(t,xb(r,s,e,t),n);se(i.idToken,r,"internal-error");const o=Yv(i.idToken);se(o,r,"internal-error");const{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),na._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&zn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(t,e,n=!1){if(Dn(t.app))return Promise.reject(Os(t));const r="signIn",s=await xb(t,r,e),i=await na._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function M4(t,e){return Sb(Ea(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(t){const e=Ea(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function V4(t,e,n){return Dn(t.app)?Promise.reject(Os(t)):M4(Vt(t),Ta.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&L4(t),r})}function F4(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function j4(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}function U4(t,e,n,r){return Vt(t).onAuthStateChanged(e,n,r)}function $4(t){return Vt(t).signOut()}const Xd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xd,"1"),this.storage.removeItem(Xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=1e3,B4=10;class Cb extends Ib{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);a4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,B4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cb.type="LOCAL";const W4=Cb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb extends Ib{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bb.type="SESSION";const Ab=bb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await H4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=ey("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return window}function K4(t){or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function G4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Y4(){return Rb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firebaseLocalStorageDb",X4=1,Jd="firebaseLocalStorage",kb="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(t,e){return t.transaction([Jd],e?"readwrite":"readonly").objectStore(Jd)}function J4(){const t=indexedDB.deleteDatabase(Pb);return new Pu(t).toPromise()}function ng(){const t=indexedDB.open(Pb,X4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jd,{keyPath:kb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jd)?e(r):(r.close(),await J4(),e(await ng()))})})}async function lE(t,e,n){const r=Xh(t,!0).put({[kb]:e,value:n});return new Pu(r).toPromise()}async function Z4(t,e){const n=Xh(t,!1).get(e),r=await new Pu(n).toPromise();return r===void 0?null:r.value}function uE(t,e){const n=Xh(t,!0).delete(e);return new Pu(n).toPromise()}const eU=800,tU=3;class Nb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ng(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(Y4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await G4(),!this.activeServiceWorker)return;this.sender=new q4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ng();return await lE(e,Xd,"1"),await uE(e,Xd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Z4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Xh(s,!1).getAll();return new Pu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Nb.type="LOCAL";const nU=Nb;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t,e){return e?Ar(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Jv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Do(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sU(t){return Sb(t.auth,new ty(t),t.bypassAuthState)}function iU(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),O4(n,new ty(t),t.bypassAuthState)}async function oU(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),D4(n,new ty(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sU;case"linkViaPopup":case"linkViaRedirect":return oU;case"reauthViaPopup":case"reauthViaRedirect":return iU;default:zn(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=new Au(2e3,1e4);class To extends Db{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aU.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU="pendingRedirect",nd=new Map;class uU extends Db{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nd.get(this.auth._key());if(!e){try{const r=await cU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nd.set(this.auth._key(),e)}return this.bypassAuthState||nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cU(t,e){const n=fU(e),r=hU(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function dU(t,e){nd.set(t._key(),e)}function hU(t){return Ar(t._redirectPersistence)}function fU(t){return td(lU,t.config.apiKey,t.name)}async function pU(t,e,n=!1){if(Dn(t.app))return Promise.reject(Os(t));const r=Ea(t),s=rU(r,e),o=await new uU(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=10*60*1e3;class gU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ob(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ir(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mU&&this.cachedEventUids.clear(),this.cachedEventUids.has(cE(e))}saveEventToCache(e){this.cachedEventUids.add(cE(e)),this.lastProcessedEventTime=Date.now()}}function cE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ob({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ob(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(t,e={}){return Zs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_U=/^https?/;async function EU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yU(t);for(const n of e)try{if(TU(n))return}catch{}zn(t,"unauthorized-domain")}function TU(t){const e=eg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_U.test(n))return!1;if(wU.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=new Au(3e4,6e4);function dE(){const t=or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SU(t){return new Promise((e,n)=>{var r,s,i;function o(){dE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dE(),n(ir(t,"network-request-failed"))},timeout:xU.get()})}if(!((s=(r=or().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=or().gapi)===null||i===void 0)&&i.load)o();else{const a=g4("iframefcb");return or()[a]=()=>{gapi.load?o():n(ir(t,"network-request-failed"))},wb(`${m4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw rd=null,e})}let rd=null;function IU(t){return rd=rd||SU(t),rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=new Au(5e3,15e3),bU="__/auth/iframe",AU="emulator/auth/iframe",RU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kU(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qv(e,AU):`https://${t.config.authDomain}/${bU}`,r={apiKey:e.apiKey,appName:t.name,v:_a},s=PU.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Cu(r).slice(1)}`}async function NU(t){const e=await IU(t),n=or().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:kU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RU,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ir(t,"network-request-failed"),a=or().setTimeout(()=>{i(o)},CU.get());function l(){or().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OU=500,MU=600,LU="_blank",VU="http://localhost";class hE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FU(t,e,n,r=OU,s=MU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},DU),{width:r.toString(),height:s.toString(),top:i,left:o}),c=kt().toLowerCase();n&&(a=hb(c)?LU:n),cb(c)&&(e=e||VU,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,x])=>`${p}${m}=${x},`,"");if(o4(c)&&a!=="_self")return jU(e||"",a),new hE(null);const h=window.open(e||"",a,d);se(h,t,"popup-blocked");try{h.focus()}catch{}return new hE(h)}function jU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU="__/auth/handler",$U="emulator/auth/handler",zU=encodeURIComponent("fac");async function fE(t,e,n,r,s,i){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_a,eventId:s};if(e instanceof Tb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Ru){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${zU}=${encodeURIComponent(l)}`:"";return`${BU(t)}?${Cu(a).slice(1)}${c}`}function BU({config:t}){return t.emulator?Qv(t,$U):`https://${t.authDomain}/${UU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="webStorageSupport";class WU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ab,this._completeRedirectFn=pU,this._overrideRedirectResult=dU}async _openPopup(e,n,r,s){var i;jr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await fE(e,n,r,eg(),s);return FU(e,o,ey())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await fE(e,n,r,eg(),s);return K4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(jr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await NU(e),r=new gU(e);return n.register("authEvent",s=>(se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sp,{type:Sp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Sp];o!==void 0&&n(!!o),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vb()||db()||Xv()}}const HU=WU;var pE="@firebase/auth",mE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GU(t){ta(new ki("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yb(t)},c=new h4(r,s,i,l);return T4(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ta(new ki("auth-internal",e=>{const n=Ea(e.getProvider("auth").getImmediate());return(r=>new qU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ds(pE,mE,KU(t)),Ds(pE,mE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=5*60,YU=QC("authIdTokenMaxAge")||QU;let gE=null;const XU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YU)return;const s=n==null?void 0:n.token;gE!==s&&(gE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function JU(t=ZC()){const e=Kv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=E4(t,{popupRedirectResolver:HU,persistence:[nU,W4,Ab]}),r=QC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=XU(i.toString());j4(n,o,()=>o(n.currentUser)),F4(n,a=>o(a))}}const s=KC("auth");return s&&x4(n,`http://${s}`),n}function ZU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}f4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ir("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",ZU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GU("Browser");var e3="firebase",t3="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(e3,t3,"app");var vE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,Mb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function A(){}A.prototype=I.prototype,C.D=I.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(R,N,D){for(var k=Array(arguments.length-2),q=2;q<arguments.length;q++)k[q-2]=arguments[q];return I.prototype[N].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,I,A){A||(A=0);var R=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)R[N]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(N=0;16>N;++N)R[N]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=C.g[0],A=C.g[1],N=C.g[2];var D=C.g[3],k=I+(D^A&(N^D))+R[0]+3614090360&4294967295;I=A+(k<<7&4294967295|k>>>25),k=D+(N^I&(A^N))+R[1]+3905402710&4294967295,D=I+(k<<12&4294967295|k>>>20),k=N+(A^D&(I^A))+R[2]+606105819&4294967295,N=D+(k<<17&4294967295|k>>>15),k=A+(I^N&(D^I))+R[3]+3250441966&4294967295,A=N+(k<<22&4294967295|k>>>10),k=I+(D^A&(N^D))+R[4]+4118548399&4294967295,I=A+(k<<7&4294967295|k>>>25),k=D+(N^I&(A^N))+R[5]+1200080426&4294967295,D=I+(k<<12&4294967295|k>>>20),k=N+(A^D&(I^A))+R[6]+2821735955&4294967295,N=D+(k<<17&4294967295|k>>>15),k=A+(I^N&(D^I))+R[7]+4249261313&4294967295,A=N+(k<<22&4294967295|k>>>10),k=I+(D^A&(N^D))+R[8]+1770035416&4294967295,I=A+(k<<7&4294967295|k>>>25),k=D+(N^I&(A^N))+R[9]+2336552879&4294967295,D=I+(k<<12&4294967295|k>>>20),k=N+(A^D&(I^A))+R[10]+4294925233&4294967295,N=D+(k<<17&4294967295|k>>>15),k=A+(I^N&(D^I))+R[11]+2304563134&4294967295,A=N+(k<<22&4294967295|k>>>10),k=I+(D^A&(N^D))+R[12]+1804603682&4294967295,I=A+(k<<7&4294967295|k>>>25),k=D+(N^I&(A^N))+R[13]+4254626195&4294967295,D=I+(k<<12&4294967295|k>>>20),k=N+(A^D&(I^A))+R[14]+2792965006&4294967295,N=D+(k<<17&4294967295|k>>>15),k=A+(I^N&(D^I))+R[15]+1236535329&4294967295,A=N+(k<<22&4294967295|k>>>10),k=I+(N^D&(A^N))+R[1]+4129170786&4294967295,I=A+(k<<5&4294967295|k>>>27),k=D+(A^N&(I^A))+R[6]+3225465664&4294967295,D=I+(k<<9&4294967295|k>>>23),k=N+(I^A&(D^I))+R[11]+643717713&4294967295,N=D+(k<<14&4294967295|k>>>18),k=A+(D^I&(N^D))+R[0]+3921069994&4294967295,A=N+(k<<20&4294967295|k>>>12),k=I+(N^D&(A^N))+R[5]+3593408605&4294967295,I=A+(k<<5&4294967295|k>>>27),k=D+(A^N&(I^A))+R[10]+38016083&4294967295,D=I+(k<<9&4294967295|k>>>23),k=N+(I^A&(D^I))+R[15]+3634488961&4294967295,N=D+(k<<14&4294967295|k>>>18),k=A+(D^I&(N^D))+R[4]+3889429448&4294967295,A=N+(k<<20&4294967295|k>>>12),k=I+(N^D&(A^N))+R[9]+568446438&4294967295,I=A+(k<<5&4294967295|k>>>27),k=D+(A^N&(I^A))+R[14]+3275163606&4294967295,D=I+(k<<9&4294967295|k>>>23),k=N+(I^A&(D^I))+R[3]+4107603335&4294967295,N=D+(k<<14&4294967295|k>>>18),k=A+(D^I&(N^D))+R[8]+1163531501&4294967295,A=N+(k<<20&4294967295|k>>>12),k=I+(N^D&(A^N))+R[13]+2850285829&4294967295,I=A+(k<<5&4294967295|k>>>27),k=D+(A^N&(I^A))+R[2]+4243563512&4294967295,D=I+(k<<9&4294967295|k>>>23),k=N+(I^A&(D^I))+R[7]+1735328473&4294967295,N=D+(k<<14&4294967295|k>>>18),k=A+(D^I&(N^D))+R[12]+2368359562&4294967295,A=N+(k<<20&4294967295|k>>>12),k=I+(A^N^D)+R[5]+4294588738&4294967295,I=A+(k<<4&4294967295|k>>>28),k=D+(I^A^N)+R[8]+2272392833&4294967295,D=I+(k<<11&4294967295|k>>>21),k=N+(D^I^A)+R[11]+1839030562&4294967295,N=D+(k<<16&4294967295|k>>>16),k=A+(N^D^I)+R[14]+4259657740&4294967295,A=N+(k<<23&4294967295|k>>>9),k=I+(A^N^D)+R[1]+2763975236&4294967295,I=A+(k<<4&4294967295|k>>>28),k=D+(I^A^N)+R[4]+1272893353&4294967295,D=I+(k<<11&4294967295|k>>>21),k=N+(D^I^A)+R[7]+4139469664&4294967295,N=D+(k<<16&4294967295|k>>>16),k=A+(N^D^I)+R[10]+3200236656&4294967295,A=N+(k<<23&4294967295|k>>>9),k=I+(A^N^D)+R[13]+681279174&4294967295,I=A+(k<<4&4294967295|k>>>28),k=D+(I^A^N)+R[0]+3936430074&4294967295,D=I+(k<<11&4294967295|k>>>21),k=N+(D^I^A)+R[3]+3572445317&4294967295,N=D+(k<<16&4294967295|k>>>16),k=A+(N^D^I)+R[6]+76029189&4294967295,A=N+(k<<23&4294967295|k>>>9),k=I+(A^N^D)+R[9]+3654602809&4294967295,I=A+(k<<4&4294967295|k>>>28),k=D+(I^A^N)+R[12]+3873151461&4294967295,D=I+(k<<11&4294967295|k>>>21),k=N+(D^I^A)+R[15]+530742520&4294967295,N=D+(k<<16&4294967295|k>>>16),k=A+(N^D^I)+R[2]+3299628645&4294967295,A=N+(k<<23&4294967295|k>>>9),k=I+(N^(A|~D))+R[0]+4096336452&4294967295,I=A+(k<<6&4294967295|k>>>26),k=D+(A^(I|~N))+R[7]+1126891415&4294967295,D=I+(k<<10&4294967295|k>>>22),k=N+(I^(D|~A))+R[14]+2878612391&4294967295,N=D+(k<<15&4294967295|k>>>17),k=A+(D^(N|~I))+R[5]+4237533241&4294967295,A=N+(k<<21&4294967295|k>>>11),k=I+(N^(A|~D))+R[12]+1700485571&4294967295,I=A+(k<<6&4294967295|k>>>26),k=D+(A^(I|~N))+R[3]+2399980690&4294967295,D=I+(k<<10&4294967295|k>>>22),k=N+(I^(D|~A))+R[10]+4293915773&4294967295,N=D+(k<<15&4294967295|k>>>17),k=A+(D^(N|~I))+R[1]+2240044497&4294967295,A=N+(k<<21&4294967295|k>>>11),k=I+(N^(A|~D))+R[8]+1873313359&4294967295,I=A+(k<<6&4294967295|k>>>26),k=D+(A^(I|~N))+R[15]+4264355552&4294967295,D=I+(k<<10&4294967295|k>>>22),k=N+(I^(D|~A))+R[6]+2734768916&4294967295,N=D+(k<<15&4294967295|k>>>17),k=A+(D^(N|~I))+R[13]+1309151649&4294967295,A=N+(k<<21&4294967295|k>>>11),k=I+(N^(A|~D))+R[4]+4149444226&4294967295,I=A+(k<<6&4294967295|k>>>26),k=D+(A^(I|~N))+R[11]+3174756917&4294967295,D=I+(k<<10&4294967295|k>>>22),k=N+(I^(D|~A))+R[2]+718787259&4294967295,N=D+(k<<15&4294967295|k>>>17),k=A+(D^(N|~I))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var A=I-this.blockSize,R=this.B,N=this.h,D=0;D<I;){if(N==0)for(;D<=A;)s(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<I;)if(R[N++]=C.charCodeAt(D++),N==this.blockSize){s(this,R),N=0;break}}else for(;D<I;)if(R[N++]=C[D++],N==this.blockSize){s(this,R),N=0;break}}this.h=N,this.o+=I},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var A=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.u(C),C=Array(16),I=A=0;4>I;++I)for(var R=0;32>R;R+=8)C[A++]=this.g[I]>>>R&255;return C};function i(C,I){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=I(C)}function o(C,I){this.h=I;for(var A=[],R=!0,N=C.length-1;0<=N;N--){var D=C[N]|0;R&&D==I||(A[N]=D,R=!1)}this.g=A}var a={};function l(C){return-128<=C&&128>C?i(C,function(I){return new o([I|0],0>I?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return T(c(-C));for(var I=[],A=1,R=0;C>=A;R++)I[R]=C/A|0,A*=4294967296;return new o(I,0)}function d(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return T(d(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(I,8)),R=h,N=0;N<C.length;N+=8){var D=Math.min(8,C.length-N),k=parseInt(C.substring(N,N+D),I);8>D?(D=c(Math.pow(I,D)),R=R.j(D).add(c(k))):(R=R.j(A),R=R.add(c(k)))}return R}var h=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-T(this).m();for(var C=0,I=1,A=0;A<this.g.length;A++){var R=this.i(A);C+=(0<=R?R:4294967296+R)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(w(this))return"-"+T(this).toString(C);for(var I=c(Math.pow(C,6)),A=this,R="";;){var N=P(A,I).g;A=_(A,N.j(I));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=N,x(A))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function w(C){return C.h==-1}t.l=function(C){return C=_(this,C),w(C)?-1:x(C)?0:1};function T(C){for(var I=C.g.length,A=[],R=0;R<I;R++)A[R]=~C.g[R];return new o(A,~C.h).add(p)}t.abs=function(){return w(this)?T(this):this},t.add=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],R=0,N=0;N<=I;N++){var D=R+(this.i(N)&65535)+(C.i(N)&65535),k=(D>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);R=k>>>16,D&=65535,k&=65535,A[N]=k<<16|D}return new o(A,A[A.length-1]&-2147483648?-1:0)};function _(C,I){return C.add(T(I))}t.j=function(C){if(x(this)||x(C))return h;if(w(this))return w(C)?T(this).j(T(C)):T(T(this).j(C));if(w(C))return T(this.j(T(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var I=this.g.length+C.g.length,A=[],R=0;R<2*I;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<C.g.length;N++){var D=this.i(R)>>>16,k=this.i(R)&65535,q=C.i(N)>>>16,re=C.i(N)&65535;A[2*R+2*N]+=k*re,E(A,2*R+2*N),A[2*R+2*N+1]+=D*re,E(A,2*R+2*N+1),A[2*R+2*N+1]+=k*q,E(A,2*R+2*N+1),A[2*R+2*N+2]+=D*q,E(A,2*R+2*N+2)}for(R=0;R<I;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=I;R<2*I;R++)A[R]=0;return new o(A,0)};function E(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function S(C,I){this.g=C,this.h=I}function P(C,I){if(x(I))throw Error("division by zero");if(x(C))return new S(h,h);if(w(C))return I=P(T(C),I),new S(T(I.g),T(I.h));if(w(I))return I=P(C,T(I)),new S(T(I.g),I.h);if(30<C.g.length){if(w(C)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var A=p,R=I;0>=R.l(C);)A=O(A),R=O(R);var N=M(A,1),D=M(R,1);for(R=M(R,2),A=M(A,2);!x(R);){var k=D.add(R);0>=k.l(C)&&(N=N.add(A),D=k),R=M(R,1),A=M(A,1)}return I=_(C,N.j(I)),new S(N,I)}for(N=h;0<=C.l(I);){for(A=Math.max(1,Math.floor(C.m()/I.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=c(A),k=D.j(I);w(k)||0<k.l(C);)A-=R,D=c(A),k=D.j(I);x(D)&&(D=p),N=N.add(D),C=_(C,k)}return new S(N,C)}t.A=function(C){return P(this,C).h},t.and=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],R=0;R<I;R++)A[R]=this.i(R)&C.i(R);return new o(A,this.h&C.h)},t.or=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],R=0;R<I;R++)A[R]=this.i(R)|C.i(R);return new o(A,this.h|C.h)},t.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],R=0;R<I;R++)A[R]=this.i(R)^C.i(R);return new o(A,this.h^C.h)};function O(C){for(var I=C.g.length+1,A=[],R=0;R<I;R++)A[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(A,C.h)}function M(C,I){var A=I>>5;I%=32;for(var R=C.g.length-A,N=[],D=0;D<R;D++)N[D]=0<I?C.i(D+A)>>>I|C.i(D+A+1)<<32-I:C.i(D+A);return new o(N,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Mb=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ms=o}).apply(typeof vE<"u"?vE:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lb,rl,Vb,sd,rg,Fb,jb,Ub;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,y){return u==Array.prototype||u==Object.prototype||(u[f]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var f=0;f<u.length;++f){var y=u[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(u,f){if(f)e:{var y=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in y))break e;y=y[L]}u=u[u.length-1],b=y[u],f=f(b),f!=b&&f!=null&&e(y,u,{configurable:!0,writable:!0,value:f})}}function i(u,f){u instanceof String&&(u+="");var y=0,b=!1,L={next:function(){if(!b&&y<u.length){var F=y++;return{value:f(F,u[F]),done:!1}}return b=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return i(this,function(f,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,y){return u.call.apply(u.bind,arguments)}function h(u,f,y){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,b),u.apply(f,L)}}return function(){return u.apply(f,arguments)}}function p(u,f,y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function m(u,f){var y=Array.prototype.slice.call(arguments,1);return function(){var b=y.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function x(u,f){function y(){}y.prototype=f.prototype,u.aa=f.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(b,L,F){for(var K=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)K[Pe-2]=arguments[Pe];return f.prototype[L].apply(b,K)}}function w(u){const f=u.length;if(0<f){const y=Array(f);for(let b=0;b<f;b++)y[b]=u[b];return y}return[]}function T(u,f){for(let y=1;y<arguments.length;y++){const b=arguments[y];if(l(b)){const L=u.length||0,F=b.length||0;u.length=L+F;for(let K=0;K<F;K++)u[L+K]=b[K]}else u.push(b)}}class _{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function E(u){return/^[\s\xa0]*$/.test(u)}function S(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var O=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function M(u,f,y){for(const b in u)f.call(y,u[b],b,u)}function C(u,f){for(const y in u)f.call(void 0,u[y],y,u)}function I(u){const f={};for(const y in u)f[y]=u[y];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,f){let y,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(y in b)u[y]=b[y];for(let F=0;F<A.length;F++)y=A[F],Object.prototype.hasOwnProperty.call(b,y)&&(u[y]=b[y])}}function N(u){var f=1;u=u.split(":");const y=[];for(;0<f&&u.length;)y.push(u.shift()),f--;return u.length&&y.push(u.join(":")),y}function D(u){a.setTimeout(()=>{throw u},0)}function k(){var u=V;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class q{constructor(){this.h=this.g=null}add(f,y){const b=re.get();b.set(f,y),this.h?this.h.next=b:this.g=b,this.h=b}}var re=new _(()=>new te,u=>u.reset());class te{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,j=!1,V=new q,W=()=>{const u=a.Promise.resolve(void 0);ae=()=>{u.then(ee)}};var ee=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(y){D(y)}var f=re;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}j=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};a.addEventListener("test",y,f),a.removeEventListener("test",y,f)}catch{}return u}();function Ce(u,f){if(Z.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(O){e:{try{P(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else y=="mouseover"?f=u.fromElement:y=="mouseout"&&(f=u.toElement);this.relatedTarget=f,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Fe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}x(Ce,Z);var Fe={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Tn=0;function Ze(u,f,y,b,L){this.listener=u,this.proxy=null,this.src=f,this.type=y,this.capture=!!b,this.ha=L,this.key=++Tn,this.da=this.fa=!1}function Nt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Jt(u){this.src=u,this.g={},this.h=0}Jt.prototype.add=function(u,f,y,b,L){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var K=cn(u,f,b,L);return-1<K?(f=u[K],y||(f.fa=!1)):(f=new Ze(f,this.src,F,!!b,L),f.fa=y,u.push(f)),f};function Hn(u,f){var y=f.type;if(y in u.g){var b=u.g[y],L=Array.prototype.indexOf.call(b,f,void 0),F;(F=0<=L)&&Array.prototype.splice.call(b,L,1),F&&(Nt(f),u.g[y].length==0&&(delete u.g[y],u.h--))}}function cn(u,f,y,b){for(var L=0;L<u.length;++L){var F=u[L];if(!F.da&&F.listener==f&&F.capture==!!y&&F.ha==b)return L}return-1}var Hr="closure_lm_"+(1e6*Math.random()|0),ei={};function ti(u,f,y,b,L){if(Array.isArray(f)){for(var F=0;F<f.length;F++)ti(u,f[F],y,b,L);return null}return y=Wu(y),u&&u[he]?u.K(f,y,c(b)?!!b.capture:!1,L):ba(u,f,y,!1,b,L)}function ba(u,f,y,b,L,F){if(!f)throw Error("Invalid event type");var K=c(L)?!!L.capture:!!L,Pe=xn(u);if(Pe||(u[Hr]=Pe=new Jt(u)),y=Pe.add(f,y,b,K,F),y.proxy)return y;if(b=ni(),y.proxy=b,b.src=u,b.listener=y,u.addEventListener)de||(L=K),L===void 0&&(L=!1),u.addEventListener(f.toString(),b,L);else if(u.attachEvent)u.attachEvent(qr(f.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ni(){function u(y){return f.call(u.src,u.listener,y)}const f=Bu;return u}function mr(u,f,y,b,L){if(Array.isArray(f))for(var F=0;F<f.length;F++)mr(u,f[F],y,b,L);else b=c(b)?!!b.capture:!!b,y=Wu(y),u&&u[he]?(u=u.i,f=String(f).toString(),f in u.g&&(F=u.g[f],y=cn(F,y,b,L),-1<y&&(Nt(F[y]),Array.prototype.splice.call(F,y,1),F.length==0&&(delete u.g[f],u.h--)))):u&&(u=xn(u))&&(f=u.g[f.toString()],u=-1,f&&(u=cn(f,y,b,L)),(y=-1<u?f[u]:null)&&Ki(y))}function Ki(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[he])Hn(f.i,u);else{var y=u.type,b=u.proxy;f.removeEventListener?f.removeEventListener(y,b,u.capture):f.detachEvent?f.detachEvent(qr(y),b):f.addListener&&f.removeListener&&f.removeListener(b),(y=xn(f))?(Hn(y,u),y.h==0&&(y.src=null,f[Hr]=null)):Nt(u)}}}function qr(u){return u in ei?ei[u]:ei[u]="on"+u}function Bu(u,f){if(u.da)u=!0;else{f=new Ce(f,this);var y=u.listener,b=u.ha||u.src;u.fa&&Ki(u),u=y.call(b,f)}return u}function xn(u){return u=u[Hr],u instanceof Jt?u:null}var Aa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wu(u){return typeof u=="function"?u:(u[Aa]||(u[Aa]=function(f){return u.handleEvent(f)}),u[Aa])}function be(){G.call(this),this.i=new Jt(this),this.M=this,this.F=null}x(be,G),be.prototype[he]=!0,be.prototype.removeEventListener=function(u,f,y,b){mr(this,u,f,y,b)};function He(u,f){var y,b=u.F;if(b)for(y=[];b;b=b.F)y.push(b);if(u=u.M,b=f.type||f,typeof f=="string")f=new Z(f,u);else if(f instanceof Z)f.target=f.target||u;else{var L=f;f=new Z(b,u),R(f,L)}if(L=!0,y)for(var F=y.length-1;0<=F;F--){var K=f.g=y[F];L=Gi(K,b,!0,f)&&L}if(K=f.g=u,L=Gi(K,b,!0,f)&&L,L=Gi(K,b,!1,f)&&L,y)for(F=0;F<y.length;F++)K=f.g=y[F],L=Gi(K,b,!1,f)&&L}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var y=u.g[f],b=0;b<y.length;b++)Nt(y[b]);delete u.g[f],u.h--}}this.F=null},be.prototype.K=function(u,f,y,b){return this.i.add(String(u),f,!1,y,b)},be.prototype.L=function(u,f,y,b){return this.i.add(String(u),f,!0,y,b)};function Gi(u,f,y,b){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,F=0;F<f.length;++F){var K=f[F];if(K&&!K.da&&K.capture==y){var Pe=K.listener,ft=K.ha||K.src;K.fa&&Hn(u.i,K),L=Pe.call(ft,b)!==!1&&L}}return L&&!b.defaultPrevented}function Hu(u,f,y){if(typeof u=="function")y&&(u=p(u,y));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function ri(u){u.g=Hu(()=>{u.g=null,u.i&&(u.i=!1,ri(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class xf extends G{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ri(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(u){G.call(this),this.h=u,this.g={}}x(Kr,G);var Qi=[];function gr(u){M(u.g,function(f,y){this.g.hasOwnProperty(y)&&Ki(f)},u),u.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),gr(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yi=a.JSON.stringify,Gr=a.JSON.parse,Sf=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Ra(){}Ra.prototype.h=null;function Pa(u){return u.h||(u.h=u.i())}function ka(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ii(){Z.call(this,"d")}x(ii,Z);function dn(){Z.call(this,"c")}x(dn,Z);var vr={},le=null;function Ee(){return le=le||new be}vr.La="serverreachability";function Re(u){Z.call(this,vr.La,u)}x(Re,Z);function dt(u){const f=Ee();He(f,new Re(f))}vr.STAT_EVENT="statevent";function $t(u,f){Z.call(this,vr.STAT_EVENT,u),this.stat=f}x($t,Z);function je(u){const f=Ee();He(f,new $t(f,u))}vr.Ma="timingevent";function qn(u,f){Z.call(this,vr.Ma,u),this.size=f}x(qn,Z);function ht(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function zt(){this.g=!0}zt.prototype.xa=function(){this.g=!1};function O1(u,f,y,b,L,F){u.info(function(){if(u.g)if(F)for(var K="",Pe=F.split("&"),ft=0;ft<Pe.length;ft++){var xe=Pe[ft].split("=");if(1<xe.length){var _t=xe[0];xe=xe[1];var Et=_t.split("_");K=2<=Et.length&&Et[1]=="type"?K+(_t+"="+xe+"&"):K+(_t+"=redacted&")}}else K=null;else K=F;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+f+`
`+y+`
`+K})}function M1(u,f,y,b,L,F,K){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+f+`
`+y+`
`+F+" "+K})}function Xi(u,f,y,b){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+V1(u,y)+(b?" "+b:"")})}function L1(u,f){u.info(function(){return"TIMEOUT: "+f})}zt.prototype.info=function(){};function V1(u,f){if(!u.g)return f;if(!f)return null;try{var y=JSON.parse(f);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var b=y[u];if(!(2>b.length)){var L=b[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var K=1;K<L.length;K++)L[K]=""}}}}return Yi(y)}catch{return f}}var qu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},If;function Ku(){}x(Ku,Ra),Ku.prototype.g=function(){return new XMLHttpRequest},Ku.prototype.i=function(){return{}},If=new Ku;function Qr(u,f,y,b){this.j=u,this.i=f,this.l=y,this.R=b||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cw}function cw(){this.i=null,this.g="",this.h=!1}var dw={},Cf={};function bf(u,f,y){u.L=1,u.v=Xu(yr(f)),u.m=y,u.P=!0,hw(u,null)}function hw(u,f){u.F=Date.now(),Gu(u),u.A=yr(u.v);var y=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),Cw(y.i,"t",b),u.C=0,y=u.j.J,u.h=new cw,u.g=Ww(u.j,y?f:null,!u.m),0<u.O&&(u.M=new xf(p(u.Y,u,u.g),u.O)),f=u.U,y=u.g,b=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Qi[0]=L.toString()),L=Qi);for(var F=0;F<L.length;F++){var K=ti(y,L[F],b||f.handleEvent,!1,f.h||f);if(!K)break;f.g[K.key]=K}f=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),dt(),O1(u.i,u.u,u.A,u.l,u.R,u.m)}Qr.prototype.ca=function(u){u=u.target;const f=this.M;f&&wr(u)==3?f.j():this.Y(u)},Qr.prototype.Y=function(u){try{if(u==this.g)e:{const Et=wr(this.g);var f=this.g.Ba();const eo=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Dw(this.g)))){this.J||Et!=4||f==7||(f==8||0>=eo?dt(3):dt(2)),Af(this);var y=this.g.Z();this.X=y;t:if(fw(this)){var b=Dw(this.g);u="";var L=b.length,F=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oi(this),Na(this);var K="";break t}this.h.i=new a.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,u+=this.h.i.decode(b[f],{stream:!(F&&f==L-1)});b.length=0,this.h.g+=u,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=y==200,M1(this.i,this.u,this.A,this.l,this.R,Et,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,ft=this.g;if((Pe=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Pe)){var xe=Pe;break t}}xe=null}if(y=xe)Xi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rf(this,y);else{this.o=!1,this.s=3,je(12),oi(this),Na(this);break e}}if(this.P){y=!0;let Sn;for(;!this.J&&this.C<K.length;)if(Sn=F1(this,K),Sn==Cf){Et==4&&(this.s=4,je(14),y=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==dw){this.s=4,je(15),Xi(this.i,this.l,K,"[Invalid Chunk]"),y=!1;break}else Xi(this.i,this.l,Sn,null),Rf(this,Sn);if(fw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||K.length!=0||this.h.h||(this.s=1,je(16),y=!1),this.o=this.o&&y,!y)Xi(this.i,this.l,K,"[Invalid Chunked Response]"),oi(this),Na(this);else if(0<K.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Mf(_t),_t.M=!0,je(11))}}else Xi(this.i,this.l,K,null),Rf(this,K);Et==4&&oi(this),this.o&&!this.J&&(Et==4?Uw(this.j,this):(this.o=!1,Gu(this)))}else tk(this.g),y==400&&0<K.indexOf("Unknown SID")?(this.s=3,je(12)):(this.s=0,je(13)),oi(this),Na(this)}}}catch{}finally{}};function fw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function F1(u,f){var y=u.C,b=f.indexOf(`
`,y);return b==-1?Cf:(y=Number(f.substring(y,b)),isNaN(y)?dw:(b+=1,b+y>f.length?Cf:(f=f.slice(b,b+y),u.C=b+y,f)))}Qr.prototype.cancel=function(){this.J=!0,oi(this)};function Gu(u){u.S=Date.now()+u.I,pw(u,u.I)}function pw(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ht(p(u.ba,u),f)}function Af(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Qr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(L1(this.i,this.A),this.L!=2&&(dt(),je(17)),oi(this),this.s=2,Na(this)):pw(this,this.S-u)};function Na(u){u.j.G==0||u.J||Uw(u.j,u)}function oi(u){Af(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,gr(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function Rf(u,f){try{var y=u.j;if(y.G!=0&&(y.g==u||Pf(y.h,u))){if(!u.K&&Pf(y.h,u)&&y.G==3){try{var b=y.Da.g.parse(f)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)rc(y),tc(y);else break e;Of(y),je(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=ht(p(y.Za,y),6e3));if(1>=vw(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else li(y,11)}else if((u.K||y.g==u)&&rc(y),!E(f))for(L=y.Da.g.parse(f),f=0;f<L.length;f++){let xe=L[f];if(y.T=xe[0],xe=xe[1],y.G==2)if(xe[0]=="c"){y.K=xe[1],y.ia=xe[2];const _t=xe[3];_t!=null&&(y.la=_t,y.j.info("VER="+y.la));const Et=xe[4];Et!=null&&(y.Aa=Et,y.j.info("SVER="+y.Aa));const eo=xe[5];eo!=null&&typeof eo=="number"&&0<eo&&(b=1.5*eo,y.L=b,y.j.info("backChannelRequestTimeoutMs_="+b)),b=y;const Sn=u.g;if(Sn){const ic=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ic){var F=b.h;F.g||ic.indexOf("spdy")==-1&&ic.indexOf("quic")==-1&&ic.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(kf(F,F.h),F.h=null))}if(b.D){const Lf=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Lf&&(b.ya=Lf,De(b.I,b.D,Lf))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),b=y;var K=u;if(b.qa=Bw(b,b.J?b.ia:null,b.W),K.K){yw(b.h,K);var Pe=K,ft=b.L;ft&&(Pe.I=ft),Pe.B&&(Af(Pe),Gu(Pe)),b.g=K}else Fw(b);0<y.i.length&&nc(y)}else xe[0]!="stop"&&xe[0]!="close"||li(y,7);else y.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?li(y,7):Df(y):xe[0]!="noop"&&y.l&&y.l.ta(xe),y.v=0)}}dt(4)}catch{}}var j1=class{constructor(u,f){this.g=u,this.map=f}};function mw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vw(u){return u.h?1:u.g?u.g.size:0}function Pf(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function kf(u,f){u.g?u.g.add(f):u.h=f}function yw(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}mw.prototype.cancel=function(){if(this.i=ww(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ww(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const y of u.g.values())f=f.concat(y.D);return f}return w(u.i)}function U1(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],y=u.length,b=0;b<y;b++)f.push(u[b]);return f}f=[],y=0;for(b in u)f[y++]=u[b];return f}function $1(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var y=0;y<u;y++)f.push(y);return f}f=[],y=0;for(const b in u)f[y++]=b;return f}}}function _w(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var y=$1(u),b=U1(u),L=b.length,F=0;F<L;F++)f.call(void 0,b[F],y&&y[F],u)}var Ew=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function z1(u,f){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var b=u[y].indexOf("="),L=null;if(0<=b){var F=u[y].substring(0,b);L=u[y].substring(b+1)}else F=u[y];f(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ai(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ai){this.h=u.h,Qu(this,u.j),this.o=u.o,this.g=u.g,Yu(this,u.s),this.l=u.l;var f=u.i,y=new Ma;y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),Tw(this,y),this.m=u.m}else u&&(f=String(u).match(Ew))?(this.h=!1,Qu(this,f[1]||"",!0),this.o=Da(f[2]||""),this.g=Da(f[3]||"",!0),Yu(this,f[4]),this.l=Da(f[5]||"",!0),Tw(this,f[6]||"",!0),this.m=Da(f[7]||"")):(this.h=!1,this.i=new Ma(null,this.h))}ai.prototype.toString=function(){var u=[],f=this.j;f&&u.push(Oa(f,xw,!0),":");var y=this.g;return(y||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Oa(f,xw,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Oa(y,y.charAt(0)=="/"?H1:W1,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Oa(y,K1)),u.join("")};function yr(u){return new ai(u)}function Qu(u,f,y){u.j=y?Da(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function Yu(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function Tw(u,f,y){f instanceof Ma?(u.i=f,G1(u.i,u.h)):(y||(f=Oa(f,q1)),u.i=new Ma(f,u.h))}function De(u,f,y){u.i.set(f,y)}function Xu(u){return De(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Da(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Oa(u,f,y){return typeof u=="string"?(u=encodeURI(u).replace(f,B1),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function B1(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xw=/[#\/\?@]/g,W1=/[#\?:]/g,H1=/[#\?]/g,q1=/[#\?@]/g,K1=/#/g;function Ma(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Yr(u){u.g||(u.g=new Map,u.h=0,u.i&&z1(u.i,function(f,y){u.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}t=Ma.prototype,t.add=function(u,f){Yr(this),this.i=null,u=Ji(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(f),this.h+=1,this};function Sw(u,f){Yr(u),f=Ji(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function Iw(u,f){return Yr(u),f=Ji(u,f),u.g.has(f)}t.forEach=function(u,f){Yr(this),this.g.forEach(function(y,b){y.forEach(function(L){u.call(f,L,b,this)},this)},this)},t.na=function(){Yr(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),y=[];for(let b=0;b<f.length;b++){const L=u[b];for(let F=0;F<L.length;F++)y.push(f[b])}return y},t.V=function(u){Yr(this);let f=[];if(typeof u=="string")Iw(this,u)&&(f=f.concat(this.g.get(Ji(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)f=f.concat(u[y])}return f},t.set=function(u,f){return Yr(this),this.i=null,u=Ji(this,u),Iw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function Cw(u,f,y){Sw(u,f),0<y.length&&(u.i=null,u.g.set(Ji(u,f),w(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var y=0;y<f.length;y++){var b=f[y];const F=encodeURIComponent(String(b)),K=this.V(b);for(b=0;b<K.length;b++){var L=F;K[b]!==""&&(L+="="+encodeURIComponent(String(K[b]))),u.push(L)}}return this.i=u.join("&")};function Ji(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function G1(u,f){f&&!u.j&&(Yr(u),u.i=null,u.g.forEach(function(y,b){var L=b.toLowerCase();b!=L&&(Sw(this,b),Cw(this,L,y))},u)),u.j=f}function Q1(u,f){const y=new zt;if(a.Image){const b=new Image;b.onload=m(Xr,y,"TestLoadImage: loaded",!0,f,b),b.onerror=m(Xr,y,"TestLoadImage: error",!1,f,b),b.onabort=m(Xr,y,"TestLoadImage: abort",!1,f,b),b.ontimeout=m(Xr,y,"TestLoadImage: timeout",!1,f,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else f(!1)}function Y1(u,f){const y=new zt,b=new AbortController,L=setTimeout(()=>{b.abort(),Xr(y,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:b.signal}).then(F=>{clearTimeout(L),F.ok?Xr(y,"TestPingServer: ok",!0,f):Xr(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),Xr(y,"TestPingServer: error",!1,f)})}function Xr(u,f,y,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(y)}catch{}}function X1(){this.g=new Sf}function J1(u,f,y){const b=y||"";try{_w(u,function(L,F){let K=L;c(L)&&(K=Yi(L)),f.push(b+F+"="+encodeURIComponent(K))})}catch(L){throw f.push(b+"type="+encodeURIComponent("_badmap")),L}}function Ju(u){this.l=u.Ub||null,this.j=u.eb||!1}x(Ju,Ra),Ju.prototype.g=function(){return new Zu(this.l,this.j)},Ju.prototype.i=function(u){return function(){return u}}({});function Zu(u,f){be.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Zu,be),t=Zu.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,Va(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,La(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Va(this)),this.g&&(this.readyState=3,Va(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function bw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?La(this):Va(this),this.readyState==3&&bw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,La(this))},t.Qa=function(u){this.g&&(this.response=u,La(this))},t.ga=function(){this.g&&La(this)};function La(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Va(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=f.next();return u.join(`\r
`)};function Va(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Zu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Aw(u){let f="";return M(u,function(y,b){f+=b,f+=":",f+=y,f+=`\r
`}),f}function Nf(u,f,y){e:{for(b in y){var b=!1;break e}b=!0}b||(y=Aw(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):De(u,f,y))}function qe(u){be.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(qe,be);var Z1=/^https?$/i,ek=["POST","PUT"];t=qe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,y,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():If.g(),this.v=this.o?Pa(this.o):Pa(If),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(F){Rw(this,F);return}if(u=y||"",y=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)y.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())y.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(y.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ek,f,void 0))||b||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,K]of y)this.g.setRequestHeader(F,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nw(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Rw(this,F)}};function Rw(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,Pw(u),ec(u)}function Pw(u){u.A||(u.A=!0,He(u,"complete"),He(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,He(this,"complete"),He(this,"abort"),ec(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ec(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?kw(this):this.bb())},t.bb=function(){kw(this)};function kw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||wr(u)!=4||u.Z()!=2)){if(u.u&&wr(u)==4)Hu(u.Ea,0,u);else if(He(u,"readystatechange"),wr(u)==4){u.h=!1;try{const K=u.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var b;if(b=K===0){var L=String(u.D).match(Ew)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),b=!Z1.test(L?L.toLowerCase():"")}y=b}if(y)He(u,"complete"),He(u,"success");else{u.m=6;try{var F=2<wr(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Pw(u)}}finally{ec(u)}}}}function ec(u,f){if(u.g){Nw(u);const y=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||He(u,"ready");try{y.onreadystatechange=b}catch{}}}function Nw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function wr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),Gr(f)}};function Dw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function tk(u){const f={};u=(u.g&&2<=wr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(E(u[b]))continue;var y=N(u[b]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const F=f[L]||[];f[L]=F,F.push(y)}C(f,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(u,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||f}function Ow(u){this.Aa=0,this.i=[],this.j=new zt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fa("baseRetryDelayMs",5e3,u),this.cb=Fa("retryDelaySeedMs",1e4,u),this.Wa=Fa("forwardChannelMaxRetries",2,u),this.wa=Fa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new mw(u&&u.concurrentRequestLimit),this.Da=new X1,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ow.prototype,t.la=8,t.G=1,t.connect=function(u,f,y,b){je(0),this.W=u,this.H=f||{},y&&b!==void 0&&(this.H.OSID=y,this.H.OAID=b),this.F=this.X,this.I=Bw(this,null,this.W),nc(this)};function Df(u){if(Mw(u),u.G==3){var f=u.U++,y=yr(u.I);if(De(y,"SID",u.K),De(y,"RID",f),De(y,"TYPE","terminate"),ja(u,y),f=new Qr(u,u.j,f),f.L=2,f.v=Xu(yr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=f.v,y=!0),y||(f.g=Ww(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Gu(f)}zw(u)}function tc(u){u.g&&(Mf(u),u.g.cancel(),u.g=null)}function Mw(u){tc(u),u.u&&(a.clearTimeout(u.u),u.u=null),rc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function nc(u){if(!gw(u.h)&&!u.s){u.s=!0;var f=u.Ga;ae||W(),j||(ae(),j=!0),V.add(f,u),u.B=0}}function nk(u,f){return vw(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ht(p(u.Ga,u,f),$w(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Qr(this,this.j,u);let F=this.o;if(this.S&&(F?(F=I(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var b=this.i[y];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(f+=b,4096<f){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=Vw(this,L,f),y=yr(this.I),De(y,"RID",u),De(y,"CVER",22),this.D&&De(y,"X-HTTP-Session-Id",this.D),ja(this,y),F&&(this.O?f="headers="+encodeURIComponent(String(Aw(F)))+"&"+f:this.m&&Nf(y,this.m,F)),kf(this.h,L),this.Ua&&De(y,"TYPE","init"),this.P?(De(y,"$req",f),De(y,"SID","null"),L.T=!0,bf(L,y,null)):bf(L,y,f),this.G=2}}else this.G==3&&(u?Lw(this,u):this.i.length==0||gw(this.h)||Lw(this))};function Lw(u,f){var y;f?y=f.l:y=u.U++;const b=yr(u.I);De(b,"SID",u.K),De(b,"RID",y),De(b,"AID",u.T),ja(u,b),u.m&&u.o&&Nf(b,u.m,u.o),y=new Qr(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),f&&(u.i=f.D.concat(u.i)),f=Vw(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),kf(u.h,y),bf(y,b,f)}function ja(u,f){u.H&&M(u.H,function(y,b){De(f,b,y)}),u.l&&_w({},function(y,b){De(f,b,y)})}function Vw(u,f,y){y=Math.min(u.i.length,y);var b=u.l?p(u.l.Na,u.l,u):null;e:{var L=u.i;let F=-1;for(;;){const K=["count="+y];F==-1?0<y?(F=L[0].g,K.push("ofs="+F)):F=0:K.push("ofs="+F);let Pe=!0;for(let ft=0;ft<y;ft++){let xe=L[ft].g;const _t=L[ft].map;if(xe-=F,0>xe)F=Math.max(0,L[ft].g-100),Pe=!1;else try{J1(_t,K,"req"+xe+"_")}catch{b&&b(_t)}}if(Pe){b=K.join("&");break e}}}return u=u.i.splice(0,y),f.D=u,b}function Fw(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;ae||W(),j||(ae(),j=!0),V.add(f,u),u.v=0}}function Of(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ht(p(u.Fa,u),$w(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,jw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ht(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,je(10),tc(this),jw(this))};function Mf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function jw(u){u.g=new Qr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=yr(u.qa);De(f,"RID","rpc"),De(f,"SID",u.K),De(f,"AID",u.T),De(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&De(f,"TO",u.ja),De(f,"TYPE","xmlhttp"),ja(u,f),u.m&&u.o&&Nf(f,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Xu(yr(f)),y.m=null,y.P=!0,hw(y,u)}t.Za=function(){this.C!=null&&(this.C=null,tc(this),Of(this),je(19))};function rc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Uw(u,f){var y=null;if(u.g==f){rc(u),Mf(u),u.g=null;var b=2}else if(Pf(u.h,f))y=f.D,yw(u.h,f),b=1;else return;if(u.G!=0){if(f.o)if(b==1){y=f.m?f.m.length:0,f=Date.now()-f.F;var L=u.B;b=Ee(),He(b,new qn(b,y)),nc(u)}else Fw(u);else if(L=f.s,L==3||L==0&&0<f.X||!(b==1&&nk(u,f)||b==2&&Of(u)))switch(y&&0<y.length&&(f=u.h,f.i=f.i.concat(y)),L){case 1:li(u,5);break;case 4:li(u,10);break;case 3:li(u,6);break;default:li(u,2)}}}function $w(u,f){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*f}function li(u,f){if(u.j.info("Error code "+f),f==2){var y=p(u.fb,u),b=u.Xa;const L=!b;b=new ai(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qu(b,"https"),Xu(b),L?Q1(b.toString(),y):Y1(b.toString(),y)}else je(2);u.G=0,u.l&&u.l.sa(f),zw(u),Mw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))};function zw(u){if(u.G=0,u.ka=[],u.l){const f=ww(u.h);(f.length!=0||u.i.length!=0)&&(T(u.ka,f),T(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function Bw(u,f,y){var b=y instanceof ai?yr(y):new ai(y);if(b.g!="")f&&(b.g=f+"."+b.g),Yu(b,b.s);else{var L=a.location;b=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var F=new ai(null);b&&Qu(F,b),f&&(F.g=f),L&&Yu(F,L),y&&(F.l=y),b=F}return y=u.D,f=u.ya,y&&f&&De(b,y,f),De(b,"VER",u.la),ja(u,b),b}function Ww(u,f,y){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new qe(new Ju({eb:y})):new qe(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hw(){}t=Hw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function sc(){}sc.prototype.g=function(u,f){return new Zt(u,f)};function Zt(u,f){be.call(this),this.g=new Ow(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!E(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!E(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new Zi(this)}x(Zt,be),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Df(this.g)},Zt.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Yi(u),u=y);f.i.push(new j1(f.Ya++,u)),f.G==3&&nc(f)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Df(this.g),delete this.g,Zt.aa.N.call(this)};function qw(u){ii.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const y in f){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}x(qw,ii);function Kw(){dn.call(this),this.status=1}x(Kw,dn);function Zi(u){this.g=u}x(Zi,Hw),Zi.prototype.ua=function(){He(this.g,"a")},Zi.prototype.ta=function(u){He(this.g,new qw(u))},Zi.prototype.sa=function(u){He(this.g,new Kw)},Zi.prototype.ra=function(){He(this.g,"b")},sc.prototype.createWebChannel=sc.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,Ub=function(){return new sc},jb=function(){return Ee()},Fb=vr,rg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qu.NO_ERROR=0,qu.TIMEOUT=8,qu.HTTP_ERROR=6,sd=qu,uw.COMPLETE="complete",Vb=uw,ka.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",be.prototype.listen=be.prototype.K,rl=ka,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,Lb=qe}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const yE="@firebase/firestore",wE="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Hv("@firebase/firestore");function oo(){return Di.logLevel}function Q(t,...e){if(Di.logLevel<=ye.DEBUG){const n=e.map(ny);Di.debug(`Firestore (${xa}): ${t}`,...n)}}function Ur(t,...e){if(Di.logLevel<=ye.ERROR){const n=e.map(ny);Di.error(`Firestore (${xa}): ${t}`,...n)}}function ra(t,...e){if(Di.logLevel<=ye.WARN){const n=e.map(ny);Di.warn(`Firestore (${xa}): ${t}`,...n)}}function ny(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,$b(t,r,n)}function $b(t,e,n){let r=`FIRESTORE (${xa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ur(r),new Error(r)}function Ie(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||$b(e,s,r)}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class r3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class s3{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ar,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ar)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new zb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new bt(e)}}class i3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new i3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _E{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _E(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _E(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=l3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function sg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return me(r,s);{const i=Bb(),o=u3(i.encode(EE(t,n)),i.encode(EE(e,n)));return o!==0?o:me(r,s)}}n+=r>65535?2:1}return me(t.length,e.length)}function EE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function u3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return me(t[n],e[n]);return me(t.length,e.length)}function sa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=-62135596800,xE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*xE);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<TE)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xE}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-TE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new it(0,0))}static max(){return new ce(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="__name__";class Qn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Qn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return me(e.length,n.length)}static compareSegments(e,n){const r=Qn.isNumericId(e),s=Qn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Qn.extractNumericId(e).compare(Qn.extractNumericId(n)):sg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class Le extends Qn{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const c3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gt extends Qn{construct(e,n,r){return new gt(e,n,r)}static isValidIdentifier(e){return c3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SE}static keyField(){return new gt([SE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gt(n)}static emptyPath(){return new gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Le.fromString(e))}static fromName(e){return new ne(Le.fromString(e).popFirst(5))}static empty(){return new ne(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Le(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function d3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new $s(s,ne.empty(),e)}function h3(t){return new $s(t.readTime,t.key,nu)}class $s{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $s(ce.min(),ne.empty(),nu)}static max(){return new $s(ce.max(),ne.empty(),nu)}}function f3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==p3)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function g3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ia(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Jh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=-1;function Zh(t){return t==null}function Zd(t){return t===0&&1/t==-1/0}function v3(t){return typeof t=="number"&&Number.isInteger(t)&&!Zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="";function y3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=IE(e)),e=w3(t.get(n),e);return IE(e)}function w3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Hb:n+="";break;default:n+=i}}return n}function IE(t){return t+Hb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ji(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _3(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function qb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??mt.RED,this.left=s??mt.EMPTY,this.right=i??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new mt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return mt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bE(this.data.getIterator())}getIteratorFrom(e){return new bE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class bE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new ot(gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Kb("Invalid base64 string: "+i):i}}(e);return new wt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const E3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=E3.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bs(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="server_timestamp",Qb="__type__",Yb="__previous_value__",Xb="__local_write_time__";function sy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Qb])===null||n===void 0?void 0:n.stringValue)===Gb}function ef(t){const e=t.mapValue.fields[Yb];return sy(e)?ef(e):e}function ru(t){const e=zs(t.mapValue.fields[Xb].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const eh="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||eh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="__type__",x3="__max__",Nc={mapValue:{}},Zb="__vector__",th="value";function Ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sy(t)?4:I3(t)?9007199254740991:S3(t)?10:11:ie(28295,{value:t})}function dr(t,e){if(t===e)return!0;const n=Ws(t);if(n!==Ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ru(t).isEqual(ru(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=zs(s.timestampValue),a=zs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Bs(s.bytesValue).isEqual(Bs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Qe(s.geoPointValue.latitude)===Qe(i.geoPointValue.latitude)&&Qe(s.geoPointValue.longitude)===Qe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Qe(s.integerValue)===Qe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Qe(s.doubleValue),a=Qe(i.doubleValue);return o===a?Zd(o)===Zd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return sa(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(CE(o)!==CE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!dr(o[l],a[l])))return!1;return!0}(t,e);default:return ie(52216,{left:t})}}function iu(t,e){return(t.values||[]).find(n=>dr(n,e))!==void 0}function ia(t,e){if(t===e)return 0;const n=Ws(t),r=Ws(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Qe(i.integerValue||i.doubleValue),l=Qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return AE(t.timestampValue,e.timestampValue);case 4:return AE(ru(t),ru(e));case 5:return sg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Bs(i),l=Bs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=me(a[c],l[c]);if(d!==0)return d}return me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=me(Qe(i.latitude),Qe(o.latitude));return a!==0?a:me(Qe(i.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return RE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const h=i.fields||{},p=o.fields||{},m=(a=h[th])===null||a===void 0?void 0:a.arrayValue,x=(l=p[th])===null||l===void 0?void 0:l.arrayValue,w=me(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:RE(m,x)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Nc.mapValue&&o===Nc.mapValue)return 0;if(i===Nc.mapValue)return 1;if(o===Nc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=sg(l[h],d[h]);if(p!==0)return p;const m=ia(a[l[h]],c[d[h]]);if(m!==0)return m}return me(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ie(23264,{Pe:n})}}function AE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=zs(t),r=zs(e),s=me(n.seconds,r.seconds);return s!==0?s:me(n.nanos,r.nanos)}function RE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ia(n[s],r[s]);if(i)return i}return me(n.length,r.length)}function oa(t){return ig(t)}function ig(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ig(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ig(n.fields[o])}`;return s+"}"}(t.mapValue):ie(61005,{value:t})}function id(t){switch(Ws(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ef(t);return e?16+id(e):16;case 5:return 2*t.stringValue.length;case 6:return Bs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+id(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ji(r.fields,(i,o)=>{s+=i.length+id(o)}),s}(t.mapValue);default:throw ie(13486,{value:t})}}function PE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function og(t){return!!t&&"integerValue"in t}function iy(t){return!!t&&"arrayValue"in t}function kE(t){return!!t&&"nullValue"in t}function NE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function od(t){return!!t&&"mapValue"in t}function S3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Jb])===null||n===void 0?void 0:n.stringValue)===Zb}function El(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ji(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=El(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=El(t.arrayValue.values[n]);return e}return Object.assign({},t)}function I3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===x3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!od(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(n)}setAll(e){let n=gt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=El(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());od(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];od(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ji(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new mn(El(this.value))}}function eA(t){const e=[];return ji(t.fields,(n,r)=>{const s=new gt([n]);if(od(r)){const i=eA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Rt(e,0,ce.min(),ce.min(),ce.min(),mn.empty(),0)}static newFoundDocument(e,n,r,s){return new Rt(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new Rt(e,2,n,ce.min(),ce.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,ce.min(),ce.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.position=e,this.inclusive=n}}function DE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=ia(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function OE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n="asc"){this.field=e,this.dir=n}}function C3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{}class nt extends tA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new A3(e,n,r):n==="array-contains"?new k3(e,r):n==="in"?new N3(e,r):n==="not-in"?new D3(e,r):n==="array-contains-any"?new O3(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new R3(e,r):new P3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ia(n,this.value)):n!==null&&Ws(this.value)===Ws(n)&&this.matchesComparison(ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends tA{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Bn(e,n)}matches(e){return nA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function nA(t){return t.op==="and"}function rA(t){return b3(t)&&nA(t)}function b3(t){for(const e of t.filters)if(e instanceof Bn)return!1;return!0}function ag(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+oa(t.value);if(rA(t))return t.filters.map(e=>ag(e)).join(",");{const e=t.filters.map(n=>ag(n)).join(",");return`${t.op}(${e})`}}function sA(t,e){return t instanceof nt?function(r,s){return s instanceof nt&&r.op===s.op&&r.field.isEqual(s.field)&&dr(r.value,s.value)}(t,e):t instanceof Bn?function(r,s){return s instanceof Bn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&sA(o,s.filters[a]),!0):!1}(t,e):void ie(19439)}function iA(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${oa(n.value)}`}(t):t instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(iA).join(" ,")+"}"}(t):"Filter"}class A3 extends nt{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class R3 extends nt{constructor(e,n){super(e,"in",n),this.keys=oA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class P3 extends nt{constructor(e,n){super(e,"not-in",n),this.keys=oA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class k3 extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return iy(n)&&iu(n.arrayValue,this.value)}}class N3 extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class D3 extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!iu(this.value.arrayValue,n)}}class O3 extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!iy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>iu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function ME(t,e=null,n=[],r=[],s=null,i=null,o=null){return new M3(t,e,n,r,s,i,o)}function oy(t){const e=ue(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ag(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oa(r)).join(",")),e.Ie=n}return e.Ie}function ay(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!C3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OE(t.startAt,e.startAt)&&OE(t.endAt,e.endAt)}function lg(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function L3(t,e,n,r,s,i,o,a){return new ku(t,e,n,r,s,i,o,a)}function ly(t){return new ku(t)}function LE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aA(t){return t.collectionGroup!==null}function Tl(t){const e=ue(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ot(gt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new rh(i,r))}),n.has(gt.keyField().canonicalString())||e.Ee.push(new rh(gt.keyField(),r))}return e.Ee}function lr(t){const e=ue(t);return e.de||(e.de=lA(e,Tl(t))),e.de}function V3(t){const e=ue(t);return e.Ae||(e.Ae=lA(e,t.explicitOrderBy)),e.Ae}function lA(t,e){if(t.limitType==="F")return ME(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new rh(s.field,i)});const n=t.endAt?new nh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nh(t.startAt.position,t.startAt.inclusive):null;return ME(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ug(t,e){const n=t.filters.concat([e]);return new ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sh(t,e,n){return new ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tf(t,e){return ay(lr(t),lr(e))&&t.limitType===e.limitType}function uA(t){return`${oy(lr(t))}|lt:${t.limitType}`}function ao(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>iA(s)).join(", ")}]`),Zh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>oa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>oa(s)).join(",")),`Target(${r})`}(lr(t))}; limitType=${t.limitType})`}function nf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Tl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=DE(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Tl(r),s)||r.endAt&&!function(o,a,l){const c=DE(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Tl(r),s))}(t,e)}function F3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cA(t){return(e,n)=>{let r=!1;for(const s of Tl(t)){const i=j3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function j3(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?ia(l,c):ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ji(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return qb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=new We(ne.comparator);function $r(){return U3}const dA=new We(ne.comparator);function sl(...t){let e=dA;for(const n of t)e=e.insert(n.key,n);return e}function hA(t){let e=dA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mi(){return xl()}function fA(){return xl()}function xl(){return new Ui(t=>t.toString(),(t,e)=>t.isEqual(e))}const $3=new We(ne.comparator),z3=new ot(ne.comparator);function we(...t){let e=z3;for(const n of t)e=e.add(n);return e}const B3=new ot(me);function W3(){return B3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(e)?"-0":e}}function pA(t){return{integerValue:""+t}}function H3(t,e){return v3(e)?pA(e):uy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this._=void 0}}function q3(t,e,n){return t instanceof ou?function(s,i){const o={fields:{[Qb]:{stringValue:Gb},[Xb]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&sy(i)&&(i=ef(i)),i&&(o.fields[Yb]=i),{mapValue:o}}(n,e):t instanceof au?gA(t,e):t instanceof lu?vA(t,e):function(s,i){const o=mA(s,i),a=VE(o)+VE(s.Re);return og(o)&&og(s.Re)?pA(a):uy(s.serializer,a)}(t,e)}function K3(t,e,n){return t instanceof au?gA(t,e):t instanceof lu?vA(t,e):n}function mA(t,e){return t instanceof ih?function(r){return og(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ou extends rf{}class au extends rf{constructor(e){super(),this.elements=e}}function gA(t,e){const n=yA(e);for(const r of t.elements)n.some(s=>dr(s,r))||n.push(r);return{arrayValue:{values:n}}}class lu extends rf{constructor(e){super(),this.elements=e}}function vA(t,e){let n=yA(e);for(const r of t.elements)n=n.filter(s=>!dr(s,r));return{arrayValue:{values:n}}}class ih extends rf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function VE(t){return Qe(t.integerValue||t.doubleValue)}function yA(t){return iy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n){this.field=e,this.transform=n}}function Q3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof au&&s instanceof au||r instanceof lu&&s instanceof lu?sa(r.elements,s.elements,dr):r instanceof ih&&s instanceof ih?dr(r.Re,s.Re):r instanceof ou&&s instanceof ou}(t.transform,e.transform)}class Y3{constructor(e,n){this.version=e,this.transformResults=n}}class kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ad(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sf{}function wA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new EA(t.key,kr.none()):new Nu(t.key,t.data,kr.none());{const n=t.data,r=mn.empty();let s=new ot(gt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new $i(t.key,r,new Mn(s.toArray()),kr.none())}}function X3(t,e,n){t instanceof Nu?function(s,i,o){const a=s.value.clone(),l=jE(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof $i?function(s,i,o){if(!ad(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=jE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(_A(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Sl(t,e,n,r){return t instanceof Nu?function(i,o,a,l){if(!ad(i.precondition,o))return a;const c=i.value.clone(),d=UE(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof $i?function(i,o,a,l){if(!ad(i.precondition,o))return a;const c=UE(i.fieldTransforms,l,o),d=o.data;return d.setAll(_A(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return ad(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function J3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=mA(r.transform,s||null);i!=null&&(n===null&&(n=mn.empty()),n.set(r.field,i))}return n||null}function FE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&sa(r,s,(i,o)=>Q3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nu extends sf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $i extends sf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function _A(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jE(t,e,n){const r=new Map;Ie(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,K3(o,a,n[s]))}return r}function UE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,q3(i,o,e))}return r}class EA extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z3 extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&X3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=wA(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,(n,r)=>FE(n,r))&&sa(this.baseMutations,e.baseMutations,(n,r)=>FE(n,r))}}class cy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return $3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new cy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t5=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,_e;function s5(t){switch(t){case z.OK:return ie(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return ie(15467,{code:t})}}function TA(t){if(t===void 0)return Ur("GRPC error has no .code"),z.UNKNOWN;switch(t){case et.OK:return z.OK;case et.CANCELLED:return z.CANCELLED;case et.UNKNOWN:return z.UNKNOWN;case et.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case et.INTERNAL:return z.INTERNAL;case et.UNAVAILABLE:return z.UNAVAILABLE;case et.UNAUTHENTICATED:return z.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case et.NOT_FOUND:return z.NOT_FOUND;case et.ALREADY_EXISTS:return z.ALREADY_EXISTS;case et.PERMISSION_DENIED:return z.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case et.ABORTED:return z.ABORTED;case et.OUT_OF_RANGE:return z.OUT_OF_RANGE;case et.UNIMPLEMENTED:return z.UNIMPLEMENTED;case et.DATA_LOSS:return z.DATA_LOSS;default:return ie(39323,{code:t})}}(_e=et||(et={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=new Ms([4294967295,4294967295],0);function $E(t){const e=Bb().encode(t),n=new Mb;return n.update(e),new Uint8Array(n.digest())}function zE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ms([n,r],0),new Ms([s,i],0)]}class dy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new il(`Invalid padding: ${n}`);if(r<0)throw new il(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new il(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new il(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ms.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Ms.fromNumber(r)));return s.compare(i5)===1&&(s=new Ms([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=$E(e),[r,s]=zE(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new dy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=$E(e),[r,s]=zE(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new of(ce.min(),s,new We(me),$r(),we())}}class Du{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Du(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class xA{constructor(e,n){this.targetId=e,this.Ce=n}}class SA{constructor(e,n,r=wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class BE{constructor(){this.Fe=0,this.Me=WE(),this.xe=wt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=we(),n=we(),r=we();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ie(38017,{changeType:i})}}),new Du(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=WE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ie(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class o5{constructor(e){this.ze=e,this.je=new Map,this.He=$r(),this.Je=Dc(),this.Ye=Dc(),this.Ze=new We(me)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(lg(i))if(r===0){const o=new ne(i.path);this.tt(n,o,Rt.newNoDocument(o,ce.min()))}else Ie(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Bs(r).toUint8Array()}catch(l){if(l instanceof Kb)return ra("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new dy(o,s,i)}catch(l){return ra(l instanceof il?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&lg(a.target)){const l=new ne(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Rt.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=we();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new of(e,n,this.Ze,this.He,r);return this.He=$r(),this.Je=Dc(),this.Ye=Dc(),this.Ze=new We(me),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new BE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new ot(me),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new ot(me),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new BE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Dc(){return new We(ne.comparator)}function WE(){return new We(ne.comparator)}const a5={asc:"ASCENDING",desc:"DESCENDING"},l5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u5={and:"AND",or:"OR"};class c5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cg(t,e){return t.useProto3Json||Zh(e)?e:{value:e}}function oh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function d5(t,e){return oh(t,e.toTimestamp())}function ur(t){return Ie(!!t,49232),ce.fromTimestamp(function(n){const r=zs(n);return new it(r.seconds,r.nanos)}(t))}function hy(t,e){return dg(t,e).canonicalString()}function dg(t,e){const n=function(s){return new Le(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CA(t){const e=Le.fromString(t);return Ie(NA(e),10190,{key:e.toString()}),e}function hg(t,e){return hy(t.databaseId,e.path)}function Ip(t,e){const n=CA(e);if(n.get(1)!==t.databaseId.projectId)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(AA(n))}function bA(t,e){return hy(t.databaseId,e)}function h5(t){const e=CA(t);return e.length===4?Le.emptyPath():AA(e)}function fg(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AA(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function HE(t,e,n){return{name:hg(t,e),fields:n.value.mapValue.fields}}function f5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ie(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Ie(d===void 0||typeof d=="string",58123),wt.fromBase64String(d||"")):(Ie(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),wt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?z.UNKNOWN:TA(c.code);return new X(d,c.message||"")}(o);n=new SA(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ip(t,r.document.name),i=ur(r.document.updateTime),o=r.document.createTime?ur(r.document.createTime):ce.min(),a=new mn({mapValue:{fields:r.document.fields}}),l=Rt.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new ld(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ip(t,r.document),i=r.readTime?ur(r.readTime):ce.min(),o=Rt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ld([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ip(t,r.document),i=r.removedTargetIds||[];n=new ld([],i,s,null)}else{if(!("filter"in e))return ie(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new r5(s,i),a=r.targetId;n=new xA(a,o)}}return n}function p5(t,e){let n;if(e instanceof Nu)n={update:HE(t,e.key,e.value)};else if(e instanceof EA)n={delete:hg(t,e.key)};else if(e instanceof $i)n={update:HE(t,e.key,e.data),updateMask:x5(e.fieldMask)};else{if(!(e instanceof Z3))return ie(16599,{ft:e.type});n={verify:hg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ou)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof au)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof lu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ih)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ie(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:d5(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ie(27497)}(t,e.precondition)),n}function m5(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?ur(s.updateTime):ur(i);return o.isEqual(ce.min())&&(o=ur(i)),new Y3(o,s.transformResults||[])}(n,e))):[]}function g5(t,e){return{documents:[bA(t,e.path)]}}function RA(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bA(t,s);const i=function(c){if(c.length!==0)return kA(Bn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:hs(p.field),direction:_5(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=cg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:s}}function v5(t,e,n,r){const{gt:s,parent:i}=RA(t,e),o={},a=[];let l=0;return n.forEach(c=>{const d="aggregate_"+l++;o[d]=c.alias,c.aggregateType==="count"?a.push({alias:d,count:{}}):c.aggregateType==="avg"?a.push({alias:d,avg:{field:hs(c.fieldPath)}}):c.aggregateType==="sum"&&a.push({alias:d,sum:{field:hs(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:s.structuredQuery},parent:s.parent},yt:o,parent:i}}function y5(t){let e=h5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ie(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=PA(h);return p instanceof Bn&&rA(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(x){return new rh(lo(x.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Zh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new nh(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,m=h.values||[];return new nh(m,p)}(n.endAt)),L3(e,s,o,i,a,"F",l,c)}function w5(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=lo(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=lo(n.unaryFilter.field);return nt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=lo(n.unaryFilter.field);return nt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lo(n.unaryFilter.field);return nt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return nt.create(lo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(r=>PA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(n.compositeFilter.op))}(t):ie(30097,{filter:t})}function _5(t){return a5[t]}function E5(t){return l5[t]}function T5(t){return u5[t]}function hs(t){return{fieldPath:t.canonicalString()}}function lo(t){return gt.fromServerFormat(t.fieldPath)}function kA(t){return t instanceof nt?function(n){if(n.op==="=="){if(NE(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NAN"}};if(kE(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NE(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NOT_NAN"}};if(kE(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(n.field),op:E5(n.op),value:n.value}}}(t):t instanceof Bn?function(n){const r=n.getFilters().map(s=>kA(s));return r.length===1?r[0]:{compositeFilter:{op:T5(n.op),filters:r}}}(t):ie(54877,{filter:t})}function x5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,r,s,i=ce.min(),o=ce.min(),a=wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.wt=e}}function I5(t){const e=y5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.yn=new b5}addToCollectionParentIndex(e,n){return this.yn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve($s.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve($s.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class b5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ot(Le.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ot(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DA=41943040;class Wt{static withCacheSize(e){return new Wt(e,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wt.DEFAULT_COLLECTION_PERCENTILE=10,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wt.DEFAULT=new Wt(DA,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wt.DISABLED=new Wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new aa(0)}static ir(){return new aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="LruGarbageCollector",A5=1048576;function GE([t,e],[n,r]){const s=me(t,n);return s===0?me(e,r):s}class R5{constructor(e){this.cr=e,this.buffer=new ot(GE),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class P5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Q(KE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ia(n)?Q(KE,"Ignoring IndexedDB error during garbage collection: ",n):await Sa(n)}await this.Ir(3e5)})}}class k5{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Jh.le);const r=new R5(n);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(qE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qE):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),oo()<=ye.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function N5(t,e){return new k5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(){this.changes=new Ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Sl(r.mutation,s,Mn.empty(),it.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const s=mi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=sl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=$r();const o=xl(),a=function(){return xl()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof $i)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Sl(d.mutation,c,d.mutation.getFieldMask(),it.now())):o.set(c.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new O5(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=xl();let s=new We((o,a)=>o-a),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Mn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||we()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=fA();d.forEach(p=>{if(!i.has(p)){const m=wA(n.get(p),r.get(p));m!==null&&h.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(mi());let a=nu,l=i;return o.next(c=>$.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,we())).next(d=>({batchId:a,changes:hA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let s=sl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=sl();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const c=function(h,p){return new ku(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Rt.newInvalidDocument(d)))});let a=sl();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&Sl(d.mutation,c,Mn.empty(),it.now()),nf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return $.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ur(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(s){return{name:s.name,query:I5(s.bundledQuery),readTime:ur(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(){this.overlays=new We(ne.comparator),this.Or=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mi();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=mi(),i=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new We((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=mi(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=mi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new t5(n,r));let i=this.Or.get(n);i===void 0&&(i=we(),this.Or.set(n,i)),this.Or.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.Nr=new ot(at.Br),this.Lr=new ot(at.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new at(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new at(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new ne(new Le([])),r=new at(n,e),s=new at(n,e+1),i=[];return this.Lr.forEachInRange([r,s],o=>{this.Qr(o),i.push(o.key)}),i}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new ne(new Le([])),r=new at(n,e),s=new at(n,e+1);let i=we();return this.Lr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new at(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return ne.comparator(e.key,n.key)||me(e.Gr,n.Gr)}static kr(e,n){return me(e.Gr,n.Gr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new ot(at.Br)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new e5(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.zr=this.zr.add(new at(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Hr(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?ry:this.Jn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),s=new at(n,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([r,s],o=>{const a=this.jr(o.Gr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(me);return n.forEach(s=>{const i=new at(s,0),o=new at(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,o],a=>{r=r.add(a.Gr)})}),$.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new at(new ne(i),0);let a=new ot(me);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Gr)),!0)},o),$.resolve(this.Jr(a))}Jr(e){const n=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ie(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return $.forEach(n.mutations,s=>{const i=new at(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new at(n,0),s=this.zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e){this.Zr=e,this.docs=function(){return new We(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Rt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=$r();const o=n.path,a=new ne(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||f3(h3(d),r)<=0||(s.has(d.key)||nf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ie(9500)}Xr(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $5(this)}getSize(e){return $.resolve(this.size)}}class $5 extends D5{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e){this.persistence=e,this.ei=new Ui(n=>oy(n),ay),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.ti=0,this.ni=new fy,this.targetCount=0,this.ri=aa.rr()}forEachTarget(e,n){return this.ei.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),$.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new aa(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.ar(n),$.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n){this.ii={},this.overlays={},this.si=new Jh(0),this.oi=!1,this.oi=!0,this._i=new F5,this.referenceDelegate=e(this),this.ai=new z5(this),this.indexManager=new C5,this.remoteDocumentCache=function(s){return new U5(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new S5(n),this.ci=new L5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new V5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new j5(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new B5(this.si.next());return this.referenceDelegate.li(),r(s).next(i=>this.referenceDelegate.hi(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Pi(e,n){return $.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class B5 extends m3{constructor(e){super(),this.currentSequenceNumber=e}}class py{constructor(e){this.persistence=e,this.Ti=new fy,this.Ii=null}static Ei(e){return new py(e)}get di(){if(this.Ii)return this.Ii;throw ie(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,r=>{const s=ne.fromPath(r);return this.Ai(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return $.or([()=>$.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class ah{constructor(e,n){this.persistence=e,this.Ri=new Ui(r=>y3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=N5(this,n)}static Ei(e,n){return new ah(e,n)}li(){}hi(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return $.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Xr(e,o=>this.gr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ce.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),$.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=id(e.data.value)),n}gr(e,n,r){return $.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.Ri.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=s}static Ps(e,n){let r=we(),s=we();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new my(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return EF()?8:g3(kt())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Vs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new W5;return this.fs(e,n,o).next(a=>{if(i.result=a,this.Is)return this.gs(e,n,o,a.size)})}).next(()=>i.result)}gs(e,n,r,s){return r.documentReadCount<this.Es?(oo()<=ye.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),$.resolve()):(oo()<=ye.DEBUG&&Q("QueryEngine","Query:",ao(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(oo()<=ye.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lr(n))):$.resolve())}Rs(e,n){if(LE(n))return $.resolve(null);let r=lr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=sh(n,null,"F"),r=lr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ps(n,a);return this.ys(n,c,o,l.readTime)?this.Rs(e,sh(n,null,"F")):this.ws(e,c,n,l)}))})))}Vs(e,n,r,s){return LE(n)||s.isEqual(ce.min())?$.resolve(null):this.As.getDocuments(e,r).next(i=>{const o=this.ps(n,i);return this.ys(n,o,r,s)?$.resolve(null):(oo()<=ye.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ao(n)),this.ws(e,o,n,d3(s,nu)).next(a=>a))})}ps(e,n){let r=new ot(cA(e));return n.forEach((s,i)=>{nf(e,i)&&(r=r.add(i))}),r}ys(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}fs(e,n,r){return oo()<=ye.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",ao(n)),this.As.getDocumentsMatchingQuery(e,n,$s.min(),r)}ws(e,n,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="LocalStore",q5=3e8;class K5{constructor(e,n,r,s){this.persistence=e,this.bs=n,this.serializer=s,this.Ss=new We(me),this.Ds=new Ui(i=>oy(i),ay),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M5(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function G5(t,e,n,r){return new K5(t,e,n,r)}async function MA(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=we();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ms:c,removedBatchIds:o,addedBatchIds:a}))})})}function Q5(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let m=$.resolve();return p.forEach(x=>{m=m.next(()=>d.getEntry(l,x)).next(w=>{const T=c.docVersions.get(x);Ie(T!==null,48541),w.version.compareTo(T)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function LA(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function Y5(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.ai.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.ai.addMatchingKeys(i,d.addedDocuments,h)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(wt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(w,T,_){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=q5?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,d)&&a.push(n.ai.updateTargetData(i,m))});let l=$r(),c=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(X5(i,o,e.documentUpdates).next(d=>{l=d.xs,c=d.Os})),!r.isEqual(ce.min())){const d=n.ai.getLastRemoteSnapshotVersion(i).next(h=>n.ai.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ss=s,i))}function X5(t,e,n){let r=we(),s=we();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=$r();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q(gy,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{xs:o,Os:s}})}function J5(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ry),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Z5(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.ai.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.ai.allocateTargetId(r).next(o=>(s=new Es(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function pg(t,e,n){const r=ue(t),s=r.Ss.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ia(o))throw o;Q(gy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function QE(t,e,n){const r=ue(t);let s=ce.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=ue(l),p=h.Ds.get(d);return p!==void 0?$.resolve(h.Ss.get(p)):h.ai.getTargetData(c,d)}(r,o,lr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:we())).next(a=>(e9(r,F3(e),a),{documents:a,Ns:i})))}function e9(t,e,n){let r=t.vs.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.vs.set(e,r)}class YE{constructor(){this.activeTargetIds=W3()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t9{constructor(){this.So=new YE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new YE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="ConnectivityMonitor";class JE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Q(XE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Q(XE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc=null;function mg(){return Oc===null?Oc=function(){return 268435456+Math.round(2147483648*Math.random())}():Oc++,"0x"+Oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="RestConnection",r9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s9{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===eh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,n,r,s,i){const o=mg(),a=this.$o(e,n.toUriEncodedString());Q(Cp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(l,s,i),this.Ko(e,a,l,r).then(c=>(Q(Cp,`Received RPC '${e}' ${o}: `,c),c),c=>{throw ra(Cp,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Wo(e,n,r,s,i,o){return this.Qo(e,n,r,s,i)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}$o(e,n){const r=r9[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It="WebChannelConnection";class o9 extends s9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,s){const i=mg();return new Promise((o,a)=>{const l=new Lb;l.setWithCredentials(!0),l.listenOnce(Vb.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case sd.NO_ERROR:const d=l.getResponseJson();Q(It,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case sd.TIMEOUT:Q(It,`RPC '${e}' ${i} timed out`),a(new X(z.DEADLINE_EXCEEDED,"Request time out"));break;case sd.HTTP_ERROR:const h=l.getStatus();if(Q(It,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const x=function(T){const _=T.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(_)>=0?_:z.UNKNOWN}(m.status);a(new X(x,m.message))}else a(new X(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(z.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{s_:e,streamId:i,o_:l.getLastErrorCode(),__:l.getLastError()})}}finally{Q(It,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);Q(It,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}a_(e,n,r){const s=mg(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ub(),a=jb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");Q(It,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,m=!1;const x=new i9({Go:T=>{m?Q(It,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(p||(Q(It,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),Q(It,`RPC '${e}' stream ${s} sending:`,T),h.send(T))},zo:()=>h.close()}),w=(T,_,E)=>{T.listen(_,S=>{try{E(S)}catch(P){setTimeout(()=>{throw P},0)}})};return w(h,rl.EventType.OPEN,()=>{m||(Q(It,`RPC '${e}' stream ${s} transport opened.`),x.t_())}),w(h,rl.EventType.CLOSE,()=>{m||(m=!0,Q(It,`RPC '${e}' stream ${s} transport closed`),x.r_())}),w(h,rl.EventType.ERROR,T=>{m||(m=!0,ra(It,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),x.r_(new X(z.UNAVAILABLE,"The operation could not be completed")))}),w(h,rl.EventType.MESSAGE,T=>{var _;if(!m){const E=T.data[0];Ie(!!E,16349);const S=E,P=(S==null?void 0:S.error)||((_=S[0])===null||_===void 0?void 0:_.error);if(P){Q(It,`RPC '${e}' stream ${s} received error:`,P);const O=P.status;let M=function(A){const R=et[A];if(R!==void 0)return TA(R)}(O),C=P.message;M===void 0&&(M=z.INTERNAL,C="Unknown error status: "+O+" with message "+P.message),m=!0,x.r_(new X(M,C)),h.close()}else Q(It,`RPC '${e}' stream ${s} received:`,E),x.i_(E)}}),w(a,Fb.STAT_EVENT,T=>{T.stat===rg.PROXY?Q(It,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===rg.NOPROXY&&Q(It,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.n_()},0),x}}function bp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t){return new c5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=s,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="PersistentStream";class FA{constructor(e,n,r,s,i,o,a,l){this.bi=e,this.R_=r,this.V_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new VA(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Ur(n.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===n&&this.B_(r,s)},r=>{e(()=>{const s=new X(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Q(ZE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(Q(ZE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a9 extends FA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=f5(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?ur(o.readTime):ce.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=fg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=lg(l)?{documents:g5(i,l)}:{query:RA(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IA(i,o.resumeToken);const c=cg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=oh(i,o.snapshotVersion.toTimestamp());const c=cg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=w5(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=fg(this.serializer),n.removeTarget=e,this.F_(n)}}class l9 extends FA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=m5(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=fg(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>p5(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{}class c9 extends u9{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Qo(e,dg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(z.UNKNOWN,i.toString())})}Wo(e,n,r,s,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,dg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(z.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class d9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ur(n),this.ea=!1):Q("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="RemoteStore";class h9{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(o=>{r.enqueueAndForget(async()=>{zi(this)&&(Q(Oi,"Restarting streams for network reachability change."),await async function(l){const c=ue(l);c.aa.add(4),await Ou(c),c.la.set("Unknown"),c.aa.delete(4),await lf(c)}(this))})}),this.la=new d9(r,s)}}async function lf(t){if(zi(t))for(const e of t.ua)await e(!0)}async function Ou(t){for(const e of t.ua)await e(!1)}function jA(t,e){const n=ue(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),_y(n)?wy(n):Ca(n).b_()&&yy(n,e))}function vy(t,e){const n=ue(t),r=Ca(n);n._a.delete(e),r.b_()&&UA(n,e),n._a.size===0&&(r.b_()?r.v_():zi(n)&&n.la.set("Unknown"))}function yy(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ca(t).U_(e)}function UA(t,e){t.ha.Ke(e),Ca(t).K_(e)}function wy(t){t.ha=new o5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ca(t).start(),t.la.ta()}function _y(t){return zi(t)&&!Ca(t).w_()&&t._a.size>0}function zi(t){return ue(t).aa.size===0}function $A(t){t.ha=void 0}async function f9(t){t.la.set("Online")}async function p9(t){t._a.forEach((e,n)=>{yy(t,e)})}async function m9(t,e){$A(t),_y(t)?(t.la.ia(e),wy(t)):t.la.set("Unknown")}async function g9(t,e,n){if(t.la.set("Online"),e instanceof SA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s._a.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s._a.delete(a),s.ha.removeTarget(a))}(t,e)}catch(r){Q(Oi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lh(t,r)}else if(e instanceof ld?t.ha.Xe(e):e instanceof xA?t.ha.ot(e):t.ha.nt(e),!n.isEqual(ce.min()))try{const r=await LA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.ha.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i._a.get(c);d&&i._a.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i._a.get(l);if(!d)return;i._a.set(l,d.withResumeToken(wt.EMPTY_BYTE_STRING,d.snapshotVersion)),UA(i,l);const h=new Es(d.target,l,c,d.sequenceNumber);yy(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q(Oi,"Failed to raise snapshot:",r),await lh(t,r)}}async function lh(t,e,n){if(!Ia(e))throw e;t.aa.add(1),await Ou(t),t.la.set("Offline"),n||(n=()=>LA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(Oi,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await lf(t)})}function zA(t,e){return e().catch(n=>lh(t,n,e))}async function uf(t){const e=ue(t),n=Hs(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:ry;for(;v9(e);)try{const s=await J5(e.localStore,r);if(s===null){e.oa.length===0&&n.v_();break}r=s.batchId,y9(e,s)}catch(s){await lh(e,s)}BA(e)&&WA(e)}function v9(t){return zi(t)&&t.oa.length<10}function y9(t,e){t.oa.push(e);const n=Hs(t);n.b_()&&n.W_&&n.G_(e.mutations)}function BA(t){return zi(t)&&!Hs(t).w_()&&t.oa.length>0}function WA(t){Hs(t).start()}async function w9(t){Hs(t).H_()}async function _9(t){const e=Hs(t);for(const n of t.oa)e.G_(n.mutations)}async function E9(t,e,n){const r=t.oa.shift(),s=cy.from(r,e,n);await zA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await uf(t)}async function T9(t,e){e&&Hs(t).W_&&await async function(r,s){if(function(o){return s5(o)&&o!==z.ABORTED}(s.code)){const i=r.oa.shift();Hs(r).D_(),await zA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await uf(r)}}(t,e),BA(t)&&WA(t)}async function eT(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),Q(Oi,"RemoteStore received new credentials");const r=zi(n);n.aa.add(3),await Ou(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await lf(n)}async function x9(t,e){const n=ue(t);e?(n.aa.delete(2),await lf(n)):e||(n.aa.add(2),await Ou(n),n.la.set("Unknown"))}function Ca(t){return t.Pa||(t.Pa=function(n,r,s){const i=ue(n);return i.Y_(),new a9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{jo:f9.bind(null,t),Jo:p9.bind(null,t),Zo:m9.bind(null,t),Q_:g9.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),_y(t)?wy(t):t.la.set("Unknown")):(await t.Pa.stop(),$A(t))})),t.Pa}function Hs(t){return t.Ta||(t.Ta=function(n,r,s){const i=ue(n);return i.Y_(),new l9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:w9.bind(null,t),Zo:T9.bind(null,t),z_:_9.bind(null,t),j_:E9.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await uf(t)):(await t.Ta.stop(),t.oa.length>0&&(Q(Oi,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ey(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ty(t,e){if(Ur("AsyncQueue",`${e}: ${t}`),Ia(t))return new X(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=sl(),this.sortedSet=new We(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.Ia=new We(ne.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):ie(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class la{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new la(e,n,Oo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class I9{constructor(){this.queries=nT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const s=ue(n),i=s.queries;s.queries=nT(),i.forEach((o,a)=>{for(const l of a.Ra)l.onError(r)})})(this,new X(z.ABORTED,"Firestore shutting down"))}}function nT(){return new Ui(t=>uA(t),tf)}async function HA(t,e){const n=ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Va()&&e.ma()&&(r=2):(i=new S9,r=e.ma()?0:1);try{switch(r){case 0:i.Aa=await n.onListen(s,!0);break;case 1:i.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Ty(o,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Ra.push(e),e.ga(n.onlineState),i.Aa&&e.pa(i.Aa)&&xy(n)}async function qA(t,e){const n=ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Ra.indexOf(e);o>=0&&(i.Ra.splice(o,1),i.Ra.length===0?s=e.ma()?0:1:!i.Va()&&e.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function C9(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Ra)a.pa(s)&&(r=!0);o.Aa=s}}r&&xy(n)}function b9(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.Ra)i.onError(n);r.queries.delete(e)}function xy(t){t.fa.forEach(e=>{e.next()})}var gg,rT;(rT=gg||(gg={})).ya="default",rT.Cache="cache";class KA{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new la(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=la.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.key=e}}class QA{constructor(e){this.key=e}}class A9{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=we(),this.mutatedKeys=we(),this.Ua=cA(e),this.Ka=new Oo(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new tT,s=n?n.Ka:this.Ka;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),m=nf(this.query,h)?h:null,x=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;p&&m?p.data.isEqual(m.data)?x!==w&&(r.track({type:3,doc:m}),T=!0):this.ja(p,m)||(r.track({type:2,doc:m}),T=!0,(l&&this.Ua(m,l)>0||c&&this.Ua(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),T=!0):p&&!m&&(r.track({type:1,doc:p}),T=!0,(l||c)&&(a=!0)),T&&(m?(o=o.add(m),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ka:o,za:r,ys:a,mutatedKeys:i}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((d,h)=>function(m,x){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{Vt:T})}};return w(m)-w(x)}(d.type,h.type)||this.Ua(d.doc,h.doc)),this.Ha(r),s=s!=null&&s;const a=n&&!s?this.Ja():[],l=this.$a.size===0&&this.current&&!s?1:0,c=l!==this.Qa;return this.Qa=l,o.length!==0||c?{snapshot:new la(this.query,e.Ka,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new tT,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=we(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new QA(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new GA(r))}),n}Xa(e){this.qa=e.Ns,this.$a=we();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return la.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Sy="SyncEngine";class R9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class P9{constructor(e){this.key=e,this.tu=!1}}class k9{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Ui(a=>uA(a),tf),this.iu=new Map,this.su=new Set,this.ou=new We(ne.comparator),this._u=new Map,this.au=new fy,this.uu={},this.cu=new Map,this.lu=aa.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function N9(t,e,n=!0){const r=tR(t);let s;const i=r.ru.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.eu()):s=await YA(r,e,n,!0),s}async function D9(t,e){const n=tR(t);await YA(n,e,!0,!1)}async function YA(t,e,n,r){const s=await Z5(t.localStore,lr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await O9(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&jA(t.remoteStore,s),a}async function O9(t,e,n,r,s){t.Pu=(h,p,m)=>async function(w,T,_,E){let S=T.view.Ga(_);S.ys&&(S=await QE(w.localStore,T.query,!1).then(({documents:C})=>T.view.Ga(C,S)));const P=E&&E.targetChanges.get(T.targetId),O=E&&E.targetMismatches.get(T.targetId)!=null,M=T.view.applyChanges(S,w.isPrimaryClient,P,O);return iT(w,T.targetId,M.Ya),M.snapshot}(t,h,p,m);const i=await QE(t.localStore,e,!0),o=new A9(e,i.Ns),a=o.Ga(i.documents),l=Du.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);iT(t,n,c.Ya);const d=new R9(e,n,o);return t.ru.set(e,d),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),c.snapshot}async function M9(t,e,n){const r=ue(t),s=r.ru.get(e),i=r.iu.get(s.targetId);if(i.length>1)return r.iu.set(s.targetId,i.filter(o=>!tf(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await pg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&vy(r.remoteStore,s.targetId),vg(r,s.targetId)}).catch(Sa)):(vg(r,s.targetId),await pg(r.localStore,s.targetId,!0))}async function L9(t,e){const n=ue(t),r=n.ru.get(e),s=n.iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vy(n.remoteStore,r.targetId))}async function V9(t,e,n){const r=W9(t);try{const s=await function(o,a){const l=ue(o),c=it.now(),d=a.reduce((m,x)=>m.add(x.key),we());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let x=$r(),w=we();return l.Cs.getEntries(m,d).next(T=>{x=T,x.forEach((_,E)=>{E.isValidDocument()||(w=w.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,x)).next(T=>{h=T;const _=[];for(const E of a){const S=J3(E,h.get(E.key).overlayedDocument);S!=null&&_.push(new $i(E.key,S,eA(S.value.mapValue),kr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,_,a)}).next(T=>{p=T;const _=T.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,T.batchId,_)})}).then(()=>({batchId:p.batchId,changes:hA(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.uu[o.currentUser.toKey()];c||(c=new We(me)),c=c.insert(a,l),o.uu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Mu(r,s.changes),await uf(r.remoteStore)}catch(s){const i=Ty(s,"Failed to persist write");n.reject(i)}}async function XA(t,e){const n=ue(t);try{const r=await Y5(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n._u.get(i);o&&(Ie(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.tu=!0:s.modifiedDocuments.size>0?Ie(o.tu,14607):s.removedDocuments.size>0&&(Ie(o.tu,42227),o.tu=!1))}),await Mu(n,r,e)}catch(r){await Sa(r)}}function sT(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ru.forEach((i,o)=>{const a=o.view.ga(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.Ra)p.ga(a)&&(c=!0)}),c&&xy(l)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F9(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r._u.get(e),i=s&&s.key;if(i){let o=new We(ne.comparator);o=o.insert(i,Rt.newNoDocument(i,ce.min()));const a=we().add(i),l=new of(ce.min(),new Map,new We(me),o,a);await XA(r,l),r.ou=r.ou.remove(i),r._u.delete(e),Iy(r)}else await pg(r.localStore,e,!1).then(()=>vg(r,e,n)).catch(Sa)}async function j9(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await Q5(n.localStore,e);ZA(n,r,null),JA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mu(n,s)}catch(s){await Sa(s)}}async function U9(t,e,n){const r=ue(t);try{const s=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ie(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);ZA(r,e,n),JA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mu(r,s)}catch(s){await Sa(s)}}function JA(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function ZA(t,e,n){const r=ue(t);let s=r.uu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function vg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||eR(t,r)})}function eR(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(vy(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Iy(t))}function iT(t,e,n){for(const r of n)r instanceof GA?(t.au.addReference(r.key,e),$9(t,r)):r instanceof QA?(Q(Sy,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||eR(t,r.key)):ie(19791,{Iu:r})}function $9(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(Q(Sy,"New document in limbo: "+n),t.su.add(r),Iy(t))}function Iy(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new ne(Le.fromString(e)),r=t.lu.next();t._u.set(r,new P9(n)),t.ou=t.ou.insert(n,r),jA(t.remoteStore,new Es(lr(ly(n.path)),r,"TargetPurposeLimboResolution",Jh.le))}}async function Mu(t,e,n){const r=ue(t),s=[],i=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,l)=>{o.push(r.Pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=my.Ps(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.nu.Q_(s),await async function(l,c){const d=ue(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(c,p=>$.forEach(p.ls,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>$.forEach(p.hs,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!Ia(h))throw h;Q(gy,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const m=d.Ss.get(p),x=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(x);d.Ss=d.Ss.insert(p,w)}}}(r.localStore,i))}async function z9(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){Q(Sy,"User change. New user:",e.toKey());const r=await MA(n.localStore,e);n.currentUser=e,function(i,o){i.cu.forEach(a=>{a.forEach(l=>{l.reject(new X(z.CANCELLED,o))})}),i.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mu(n,r.Ms)}}function B9(t,e){const n=ue(t),r=n._u.get(e);if(r&&r.tu)return we().add(r.key);{let s=we();const i=n.iu.get(e);if(!i)return s;for(const o of i){const a=n.ru.get(o);s=s.unionWith(a.view.Wa)}return s}}function tR(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F9.bind(null,e),e.nu.Q_=C9.bind(null,e.eventManager),e.nu.Tu=b9.bind(null,e.eventManager),e}function W9(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U9.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return G5(this.persistence,new H5,e.initialUser,this.serializer)}Ru(e){return new OA(py.Ei,this.serializer)}Au(e){return new t9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class H9 extends uh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Ie(this.persistence.referenceDelegate instanceof ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new P5(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Wt.withCacheSize(this.cacheSizeBytes):Wt.DEFAULT;return new OA(r=>ah.Ei(r,n),this.serializer)}}class yg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=z9.bind(null,this.syncEngine),await x9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new I9}()}createDatastore(e){const n=af(e.databaseInfo.databaseId),r=function(i){return new o9(i)}(e.databaseInfo);return function(i,o,a,l){return new c9(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new h9(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>sT(this.syncEngine,n,0),function(){return JE.C()?new JE:new n9}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const h=new k9(s,i,o,a,l,c);return d&&(h.hu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ue(s);Q(Oi,"RemoteStore shutting down."),i.aa.add(5),await Ou(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yg.provider={build:()=>new yg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="FirestoreClient";class q9{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=bt.UNAUTHENTICATED,this.clientId=Wb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Q(qs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q(qs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ty(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ap(t,e){t.asyncQueue.verifyOperationInProgress(),Q(qs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await MA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function oT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await K9(t);Q(qs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>eT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>eT(e.remoteStore,s)),t._onlineComponents=e}async function K9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(qs,"Using user provided OfflineComponentProvider");try{await Ap(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ra("Error using user provided cache. Falling back to memory cache: "+n),await Ap(t,new uh)}}else Q(qs,"Using default OfflineComponentProvider"),await Ap(t,new H9(void 0));return t._offlineComponents}async function Cy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(qs,"Using user provided OnlineComponentProvider"),await oT(t,t._uninitializedComponentsProvider._online)):(Q(qs,"Using default OnlineComponentProvider"),await oT(t,new yg))),t._onlineComponents}function G9(t){return Cy(t).then(e=>e.syncEngine)}function Q9(t){return Cy(t).then(e=>e.datastore)}async function rR(t){const e=await Cy(t),n=e.eventManager;return n.onListen=N9.bind(null,e.syncEngine),n.onUnlisten=M9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=D9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L9.bind(null,e.syncEngine),n}function Y9(t,e,n={}){const r=new ar;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new nR({next:p=>{d.yu(),o.enqueueAndForget(()=>qA(i,h));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new X(z.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new X(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new KA(ly(a.path),d,{includeMetadataChanges:!0,Fa:!0});return HA(i,h)}(await rR(t),t.asyncQueue,e,n,r)),r.promise}function X9(t,e,n={}){const r=new ar;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new nR({next:p=>{d.yu(),o.enqueueAndForget(()=>qA(i,h)),p.fromCache&&l.source==="server"?c.reject(new X(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new KA(a,d,{includeMetadataChanges:!0,Fa:!0});return HA(i,h)}(await rR(t),t.asyncQueue,e,n,r)),r.promise}function J9(t,e,n){const r=new ar;return t.asyncQueue.enqueueAndForget(async()=>{try{const s=await Q9(t);r.resolve(async function(o,a,l){var c;const d=ue(o),{request:h,yt:p,parent:m}=v5(d.serializer,V3(a),l);d.connection.Bo||delete h.parent;const x=(await d.Wo("RunAggregationQuery",d.serializer.databaseId,m,h,1)).filter(T=>!!T.result);Ie(x.length===1,64727);const w=(c=x[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(w).reduce((T,_)=>(T[p[_]]=w[_],T),{})}(s,e,n))}catch(s){r.reject(s)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t,e,n){if(!n)throw new X(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Z9(t,e,n,r){if(e===!0&&r===!0)throw new X(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lT(t){if(!ne.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uT(t){if(ne.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function Ks(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cf(t);throw new X(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function e$(t,e){if(e<=0)throw new X(z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="firestore.googleapis.com",cT=!0;class dT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oR,this.ssl=cT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:cT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A5)throw new X(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new n3;switch(r.type){case"firstParty":return new o3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=aT.get(n);r&&(Q("ComponentProvider","Removing Datastore"),aT.delete(n),r.terminate())}(this),Promise.resolve()}}function t$(t,e,n,r={}){var s;const i=(t=Ks(t,df))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i.host!==oR&&i.host!==a&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:r});if(!Pi(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=bt.MOCK_USER;else{c=pF(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new X(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new bt(h)}t._authCredentials=new r3(new zb(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bi(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class Ls extends Bi{constructor(e,n,r){super(e,n,ly(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new ne(e))}withConverter(e){return new Ls(this.firestore,e,this._path)}}function Lu(t,e,...n){if(t=Vt(t),iR("collection","path",e),t instanceof df){const r=Le.fromString(e,...n);return uT(r),new Ls(t,null,r)}{if(!(t instanceof Yt||t instanceof Ls))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return uT(r),new Ls(t.firestore,null,r)}}function Ya(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=Wb.newId()),iR("doc","path",e),t instanceof df){const r=Le.fromString(e,...n);return lT(r),new Yt(t,null,new ne(r))}{if(!(t instanceof Yt||t instanceof Ls))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return lT(r),new Yt(t.firestore,t instanceof Ls?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="AsyncQueue";class fT{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new VA(this,"async_queue_retry"),this.ju=()=>{const r=bp();r&&Q(hT,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new ar;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Ia(e))throw e;Q(hT,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ur("INTERNAL UNHANDLED ERROR: ",pT(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const s=Ey.createAndSchedule(this,e,n,r,i=>this.Xu(i));return this.Uu.push(s),s}Ju(){this.Ku&&ie(47125,{ec:pT(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function pT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Vu extends df{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new fT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fT(e),this._firestoreClient=void 0,await e}}}function n$(t,e){const n=typeof t=="object"?t:ZC(),r=typeof t=="string"?t:eh,s=Kv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=hF("firestore");i&&t$(s,...i)}return s}function hf(t){if(t._terminated)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||r$(t),t._firestoreClient}function r$(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new T3(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,sR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new q9(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class i${constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(wt.fromBase64String(e))}catch(n){throw new X(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ua(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=/^__.*__$/;class a${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $i(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}function aR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{oc:t})}}class ky{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new ky(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return ch(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(aR(this.oc)&&o$.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class l${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||af(e)}dc(e,n,r,s=!1){return new ky({oc:e,methodName:n,Ec:r,path:gt.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lR(t){const e=t._freezeSettings(),n=af(t._databaseId);return new l$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function u$(t,e,n,r,s,i={}){const o=t.dc(i.merge||i.mergeFields?2:0,e,n,s);dR("Data must be an object, but it was:",o,r);const a=uR(r,o);let l,c;if(i.merge)l=new Mn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=d$(e,h,n);if(!o.contains(p))throw new X(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);f$(d,p)||d.push(p)}l=new Mn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new a$(new mn(a),l,c)}class Ny extends Ay{_toFieldTransform(e){return new G3(e.path,new ou)}isEqual(e){return e instanceof Ny}}function c$(t,e,n,r=!1){return Dy(n,t.dc(r?4:3,e))}function Dy(t,e){if(cR(t=Vt(t)))return dR("Unsupported field value:",e,t),uR(t,e);if(t instanceof Ay)return function(r,s){if(!aR(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Dy(a,s.Pc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return H3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=it.fromDate(r);return{timestampValue:oh(s.serializer,i)}}if(r instanceof it){const i=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oh(s.serializer,i)}}if(r instanceof Ry)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ua)return{bytesValue:IA(s.serializer,r._byteString)};if(r instanceof Yt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Py)return function(o,a){return{mapValue:{fields:{[Jb]:{stringValue:Zb},[th]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Tc("VectorValues must only contain numeric values.");return uy(a.serializer,c)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${cf(r)}`)}(t,e)}function uR(t,e){const n={};return qb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ji(t,(r,s)=>{const i=Dy(s,e.uc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function cR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Ry||t instanceof ua||t instanceof Yt||t instanceof Ay||t instanceof Py)}function dR(t,e,n){if(!cR(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=cf(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function d$(t,e,n){if((e=Vt(e))instanceof by)return e._internalPath;if(typeof e=="string")return hR(t,e);throw ch("Field path arguments must be of type string or ",t,!1,void 0,n)}const h$=new RegExp("[~\\*/\\[\\]]");function hR(t,e,n){if(e.search(h$)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new by(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ch(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new X(z.INVALID_ARGUMENT,a+t+l)}function f$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new p$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Oy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class p$ extends fR{data(){return super.data()}}function Oy(t,e){return typeof e=="string"?hR(t,e):e instanceof by?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class My{}class pR extends My{}function ff(t,e,...n){let r=[];e instanceof My&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Ly).length,a=i.filter(l=>l instanceof pf).length;if(o>1||o>0&&a>0)throw new X(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class pf extends pR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new pf(e,n,r)}_apply(e){const n=this._parse(e);return mR(e._query,n),new Bi(e.firestore,e.converter,ug(e._query,n))}_parse(e){const n=lR(e.firestore);return function(i,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){gT(h,d);const x=[];for(const w of h)x.push(mT(l,i,w));p={arrayValue:{values:x}}}else p=mT(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||gT(h,d),p=c$(a,o,h,d==="in"||d==="not-in");return nt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function g$(t,e,n){const r=e,s=Oy("where",t);return pf._create(s,r,n)}class Ly extends My{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ly(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Bn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)mR(o,l),o=ug(o,l)}(e._query,n),new Bi(e.firestore,e.converter,ug(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vy extends pR{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Vy(e,n,r)}_apply(e){return new Bi(e.firestore,e.converter,sh(e._query,this._limit,this._limitType))}}function Fy(t){return e$("limit",t),Vy._create("limit",t,"F")}function mT(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new X(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aA(e)&&n.indexOf("/")!==-1)throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!ne.isDocumentKey(r))throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return PE(t,new ne(r))}if(n instanceof Yt)return PE(t,n._key);throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cf(n)}.`)}function gT(t,e){if(!Array.isArray(t)||t.length===0)throw new X(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mR(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class v${convertValue(e,n="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ji(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[th].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Qe(o.doubleValue));return new Py(i)}convertGeoPoint(e){return new Ry(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ef(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const n=zs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);Ie(NA(r),9688,{name:e});const s=new su(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(n)||Ur(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function w$(){return new s$("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gR extends fR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Oy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ud extends gR{data(e={}){return super.data(e)}}class _${constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ol(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ud(this._firestore,this._userDataWriter,r.key,r,new ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new ud(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ol(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new ud(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ol(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:E$(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function E$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(t){t=Ks(t,Yt);const e=Ks(t.firestore,Vu);return Y9(hf(e),t._key).then(n=>x$(e,t,n))}class jy extends v${constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function mf(t){t=Ks(t,Bi);const e=Ks(t.firestore,Vu),n=hf(e),r=new jy(e);return m$(t._query),X9(n,t._query).then(s=>new _$(e,r,t,s))}function vT(t,e,n){t=Ks(t,Yt);const r=Ks(t.firestore,Vu),s=y$(t.converter,e,n);return T$(r,[u$(lR(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,kr.none())])}function T$(t,e){return function(r,s){const i=new ar;return r.asyncQueue.enqueueAndForget(async()=>V9(await G9(r),s,i)),i.promise}(hf(t),e)}function x$(t,e,n){const r=n.docs.get(e._key),s=new jy(t);return new gR(t,s,e._key,r,new ol(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(t){return I$(t,{count:w$()})}function I$(t,e){const n=Ks(t.firestore,Vu),r=hf(n),s=_3(e,(i,o)=>new n5(o,i.aggregateType,i._internalFieldPath));return J9(r,t._query,s).then(i=>function(a,l,c){const d=new jy(a);return new i$(l,d,c)}(n,t,i))}function yT(){return new Ny("serverTimestamp")}(function(e,n=!0){(function(s){xa=s})(_a),ta(new ki("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Vu(new s3(r.getProvider("auth-internal")),new a3(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ds(yE,wE,e),Ds(yE,wE,"esm2017")})();const C$={apiKey:"AIzaSyAWG04hMfpQjNNl347l-iDT2DTCknSDVbw",authDomain:"storypixie-v1.firebaseapp.com",projectId:"storypixie-v1",storageBucket:"storypixie-v1.firebasestorage.app",messagingSenderId:"390197904613",appId:"1:390197904613:web:8dc7c04b3ef467ea87c00c"},vR=JC(C$),Zn=n$(vR),uu=JU(vR),b$=async t=>{try{console.log("Getting admin user data for:",t);try{const e=await Rp(Ya(Zn,"adminUsers",t));if(e.exists()){console.log("Found user in adminUsers collection");const n=e.data();try{await vT(Ya(Zn,"adminUsers",t),{lastLogin:yT()},{merge:!0})}catch(r){console.log("Non-critical error updating lastLogin:",r)}return{id:t,...n,email:n.email||"unknown@email.com",name:n.name||n.displayName||"Admin User",role:n.role||"admin",lastLogin:new Date().toISOString()}}}catch(e){console.log("Error or not found in adminUsers collection:",e)}try{const e=await Rp(Ya(Zn,"users",t));if(e.exists()){console.log("Found user in users collection");const n=e.data();let r=!1,s=n.role;if((s==="super_admin"||s==="admin"||n.isAdmin===!0||n.admin===!0||n.userType==="admin")&&(r=!0,(!s||s==="user")&&(s=n.isAdmin?"super_admin":"admin")),r){try{await vT(Ya(Zn,"users",t),{lastLogin:yT()},{merge:!0})}catch(i){console.log("Non-critical error updating lastLogin:",i)}return{id:t,email:n.email||"unknown@email.com",name:n.name||n.displayName||n.email||"Admin User",role:s||"admin",lastLogin:new Date().toISOString()}}}}catch(e){console.log("Error or not found in users collection:",e)}try{const e=await Rp(Ya(Zn,"users",t));if(e.exists()){const n=e.data().email;if(n){const r=ff(Lu(Zn,"adminUsers"),g$("email","==",n)),s=await mf(r);if(!s.empty){const i=s.docs[0],o=i.data();return{id:i.id,email:o.email,name:o.name||o.displayName||o.email||"Admin User",role:o.role||"admin",lastLogin:new Date().toISOString()}}}}}catch(e){console.log("Error trying email match:",e)}return null}catch(e){return console.error("Error fetching admin user data:",e),null}},A$=async(t,e)=>{try{console.log(`[authOperations] Attempting login for ${t}`);const r=(await V4(uu,t,e)).user.uid;return console.log(`[authOperations] Firebase sign-in successful for user ID: ${r}`),{success:!0,userId:r}}catch(n){console.error(`[authOperations] Firebase sign-in failed for ${t}:`,n);let r="Login failed. Please check your credentials.";return n.code==="auth/user-not-found"||n.code==="auth/wrong-password"||n.code==="auth/invalid-credential"?r="Invalid email or password.":n.code==="auth/too-many-requests"&&(r="Access temporarily disabled due to too many failed login attempts. Please try again later."),{success:!1,error:r}}},Pp=async(t,e)=>{try{console.log("[authOperations] Attempting Firebase sign-out"),await $4(uu),console.log("[authOperations] Firebase sign-out successful.")}catch(n){throw console.error("[authOperations] Firebase sign-out failed:",n),n}},yR=g.createContext(void 0),R$=({children:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState(null),[i,o]=g.useState(!1),[a,l]=g.useState(!0);g.useEffect(()=>{console.log("[AuthContext] Setting up Firebase auth state listener");const h=U4(uu,async p=>{if(l(!0),s(p),p)try{console.log("[AuthContext] Firebase user signed in:",p.uid);const m=await b$(p.uid);m?(console.log("[AuthContext] Found admin user data:",m.email),n(m),o(!0),console.log("[AuthContext] Authentication successful.")):(console.warn("[AuthContext] Firebase user exists but is not a valid admin user."),await Pp(),n(null),o(!1))}catch(m){console.error("[AuthContext] Error fetching admin user data:",m),await Pp(),n(null),o(!1)}else console.log("[AuthContext] Firebase user signed out."),n(null),o(!1);l(!1)});return()=>{console.log("[AuthContext] Cleaning up Firebase auth state listener"),h()}},[]);const c=async(h,p)=>{try{const m=await A$(h,p);return{success:m.success,requiresTwoFactor:m.requiresTwoFactor,userId:m.userId}}catch(m){return console.error("[AuthContext] Login failed:",m),{success:!1,error:m.message}}},d=async()=>{try{await Pp(e==null?void 0:e.id,e==null?void 0:e.email),console.log("[AuthContext] Logout successful.")}catch(h){console.error("[AuthContext] Logout failed:",h),n(null),s(null),o(!1),l(!1)}};return v.jsx(yR.Provider,{value:{currentUser:e,firebaseUser:r,isAuthenticated:i,isLoading:a,login:c,logout:d},children:t})},Wi=()=>{const t=g.useContext(yR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},kp=768;function Fu(){const[t,e]=g.useState(void 0);return g.useEffect(()=>{const n=window.matchMedia(`(max-width: ${kp-1}px)`),r=()=>{e(window.innerWidth<kp)};return n.addEventListener("change",r),e(window.innerWidth<kp),()=>n.removeEventListener("change",r)},[]),!!t}const wT="sidebar-state",wR=g.createContext(void 0),P$=({children:t})=>{const e=Fu(),[n,r]=g.useState(()=>{const a=localStorage.getItem(wT);return a!==null?a==="true":!1});g.useEffect(()=>{e&&r(!1)},[e]),g.useEffect(()=>{localStorage.setItem(wT,n.toString())},[n]);const s=()=>r(a=>!a),i=()=>r(!0),o=()=>r(!1);return v.jsx(wR.Provider,{value:{isSidebarOpen:n,toggleSidebar:s,openSidebar:i,closeSidebar:o},children:t})},ju=()=>{const t=g.useContext(wR);if(t===void 0)throw new Error("useLayout must be used within a LayoutProvider");return t},k$=xu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ln=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?LD:"button";return v.jsx(o,{className:oe(k$({variant:e,size:n,className:t})),ref:i,...s})});Ln.displayName="Button";var N$=g.createContext(void 0);function Uy(t){const e=g.useContext(N$);return t||e||"ltr"}var Np=0;function _R(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_T()),document.body.insertAdjacentElement("beforeend",t[1]??_T()),Np++,()=>{Np===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Np--}},[])}function _T(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Dp="focusScope.autoFocusOnMount",Op="focusScope.autoFocusOnUnmount",ET={bubbles:!1,cancelable:!0},D$="FocusScope",$y=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),c=Xe(s),d=Xe(i),h=g.useRef(null),p=ke(e,w=>l(w)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let w=function(S){if(m.paused||!a)return;const P=S.target;a.contains(P)?h.current=P:rs(h.current,{select:!0})},T=function(S){if(m.paused||!a)return;const P=S.relatedTarget;P!==null&&(a.contains(P)||rs(h.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const O of S)O.removedNodes.length>0&&rs(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",T);const E=new MutationObserver(_);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",T),E.disconnect()}}},[r,a,m.paused]),g.useEffect(()=>{if(a){xT.add(m);const w=document.activeElement;if(!a.contains(w)){const _=new CustomEvent(Dp,ET);a.addEventListener(Dp,c),a.dispatchEvent(_),_.defaultPrevented||(O$(j$(ER(a)),{select:!0}),document.activeElement===w&&rs(a))}return()=>{a.removeEventListener(Dp,c),setTimeout(()=>{const _=new CustomEvent(Op,ET);a.addEventListener(Op,d),a.dispatchEvent(_),_.defaultPrevented||rs(w??document.body,{select:!0}),a.removeEventListener(Op,d),xT.remove(m)},0)}}},[a,c,d,m]);const x=g.useCallback(w=>{if(!n&&!r||m.paused)return;const T=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,_=document.activeElement;if(T&&_){const E=w.currentTarget,[S,P]=M$(E);S&&P?!w.shiftKey&&_===P?(w.preventDefault(),n&&rs(S,{select:!0})):w.shiftKey&&_===S&&(w.preventDefault(),n&&rs(P,{select:!0})):_===E&&w.preventDefault()}},[n,r,m.paused]);return v.jsx(ge.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});$y.displayName=D$;function O$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(rs(r,{select:e}),document.activeElement!==n)return}function M$(t){const e=ER(t),n=TT(e,t),r=TT(e.reverse(),t);return[n,r]}function ER(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function TT(t,e){for(const n of t)if(!L$(n,{upTo:e}))return n}function L$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function V$(t){return t instanceof HTMLInputElement&&"select"in t}function rs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&V$(t)&&e&&t.select()}}var xT=F$();function F$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ST(t,e),t.unshift(e)},remove(e){var n;t=ST(t,e),(n=t[0])==null||n.resume()}}}function ST(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function j$(t){return t.filter(e=>e.tagName!=="A")}var Mp="rovingFocusGroup.onEntryFocus",U$={bubbles:!1,cancelable:!0},Uu="RovingFocusGroup",[wg,TR,$$]=Ev(Uu),[z$,xR]=hr(Uu,[$$]),[B$,W$]=z$(Uu),SR=g.forwardRef((t,e)=>v.jsx(wg.Provider,{scope:t.__scopeRovingFocusGroup,children:v.jsx(wg.Slot,{scope:t.__scopeRovingFocusGroup,children:v.jsx(H$,{...t,ref:e})})}));SR.displayName=Uu;var H$=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,p=g.useRef(null),m=ke(e,p),x=Uy(i),[w,T]=Eu({prop:o,defaultProp:a??null,onChange:l,caller:Uu}),[_,E]=g.useState(!1),S=Xe(c),P=TR(n),O=g.useRef(!1),[M,C]=g.useState(0);return g.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(Mp,S),()=>I.removeEventListener(Mp,S)},[S]),v.jsx(B$,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:w,onItemFocus:g.useCallback(I=>T(I),[T]),onItemShiftTab:g.useCallback(()=>E(!0),[]),onFocusableItemAdd:g.useCallback(()=>C(I=>I+1),[]),onFocusableItemRemove:g.useCallback(()=>C(I=>I-1),[]),children:v.jsx(ge.div,{tabIndex:_||M===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:J(t.onMouseDown,()=>{O.current=!0}),onFocus:J(t.onFocus,I=>{const A=!O.current;if(I.target===I.currentTarget&&A&&!_){const R=new CustomEvent(Mp,U$);if(I.currentTarget.dispatchEvent(R),!R.defaultPrevented){const N=P().filter(te=>te.focusable),D=N.find(te=>te.active),k=N.find(te=>te.id===w),re=[D,k,...N].filter(Boolean).map(te=>te.ref.current);bR(re,d)}}O.current=!1}),onBlur:J(t.onBlur,()=>E(!1))})})}),IR="RovingFocusGroupItem",CR=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=xi(),c=i||l,d=W$(IR,n),h=d.currentTabStopId===c,p=TR(n),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:w}=d;return g.useEffect(()=>{if(r)return m(),()=>x()},[r,m,x]),v.jsx(wg.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:v.jsx(ge.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:J(t.onMouseDown,T=>{r?d.onItemFocus(c):T.preventDefault()}),onFocus:J(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:J(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){d.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const _=G$(T,d.orientation,d.dir);if(_!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let S=p().filter(P=>P.focusable).map(P=>P.ref.current);if(_==="last")S.reverse();else if(_==="prev"||_==="next"){_==="prev"&&S.reverse();const P=S.indexOf(T.currentTarget);S=d.loop?Q$(S,P+1):S.slice(P+1)}setTimeout(()=>bR(S))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:w!=null}):o})})});CR.displayName=IR;var q$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function K$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function G$(t,e,n){const r=K$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return q$[r]}function bR(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Q$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Y$=SR,X$=CR,J$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},no=new WeakMap,Mc=new WeakMap,Lc={},Lp=0,AR=function(t){return t&&(t.host||AR(t.parentNode))},Z$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=AR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},e6=function(t,e,n,r){var s=Z$(e,Array.isArray(t)?t:[t]);Lc[n]||(Lc[n]=new WeakMap);var i=Lc[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(r),x=m!==null&&m!=="false",w=(no.get(p)||0)+1,T=(i.get(p)||0)+1;no.set(p,w),i.set(p,T),o.push(p),w===1&&x&&Mc.set(p,!0),T===1&&p.setAttribute(n,"true"),x||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return d(e),a.clear(),Lp++,function(){o.forEach(function(h){var p=no.get(h)-1,m=i.get(h)-1;no.set(h,p),i.set(h,m),p||(Mc.has(h)||h.removeAttribute(r),Mc.delete(h)),m||h.removeAttribute(n)}),Lp--,Lp||(no=new WeakMap,no=new WeakMap,Mc=new WeakMap,Lc={})}},RR=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=J$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),e6(r,s,n,"aria-hidden")):function(){return null}},cd="right-scroll-bar-position",dd="width-before-scroll-bar",t6="with-scroll-bars-hidden",n6="--removed-body-scroll-bar-size";function Vp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function r6(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var s6=typeof window<"u"?g.useLayoutEffect:g.useEffect,IT=new WeakMap;function i6(t,e){var n=r6(null,function(r){return t.forEach(function(s){return Vp(s,r)})});return s6(function(){var r=IT.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Vp(a,null)}),i.forEach(function(a){s.has(a)||Vp(a,o)})}IT.set(n,t)},[t]),n}function o6(t){return t}function a6(t,e){e===void 0&&(e=o6);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function l6(t){t===void 0&&(t={});var e=a6(null);return e.options=tr({async:!0,ssr:!1},t),e}var PR=function(t){var e=t.sideCar,n=bu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,tr({},n))};PR.isSideCarExport=!0;function u6(t,e){return t.useMedium(e),PR}var kR=l6(),Fp=function(){},gf=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Fp,onWheelCapture:Fp,onTouchMoveCapture:Fp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,m=t.noIsolation,x=t.inert,w=t.allowPinchZoom,T=t.as,_=T===void 0?"div":T,E=t.gapMode,S=bu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,O=i6([n,e]),M=tr(tr({},S),s);return g.createElement(g.Fragment,null,d&&g.createElement(P,{sideCar:kR,removeScrollBar:c,shards:h,noIsolation:m,inert:x,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:E}),o?g.cloneElement(g.Children.only(a),tr(tr({},M),{ref:O})):g.createElement(_,tr({},M,{className:l,ref:O}),a))});gf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gf.classNames={fullWidth:dd,zeroRight:cd};var c6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function d6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=c6();return e&&t.setAttribute("nonce",e),t}function h6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function f6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var p6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=d6())&&(h6(e,n),f6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},m6=function(){var t=p6();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},NR=function(){var t=m6(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},g6={left:0,top:0,right:0,gap:0},jp=function(t){return parseInt(t||"",10)||0},v6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[jp(n),jp(r),jp(s)]},y6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return g6;var e=v6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},w6=NR(),Mo="data-scroll-locked",_6=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(t6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Mo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(dd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(cd," .").concat(cd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(dd," .").concat(dd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Mo,`] {
    `).concat(n6,": ").concat(a,`px;
  }
`)},CT=function(){var t=parseInt(document.body.getAttribute(Mo)||"0",10);return isFinite(t)?t:0},E6=function(){g.useEffect(function(){return document.body.setAttribute(Mo,(CT()+1).toString()),function(){var t=CT()-1;t<=0?document.body.removeAttribute(Mo):document.body.setAttribute(Mo,t.toString())}},[])},T6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;E6();var i=g.useMemo(function(){return y6(s)},[s]);return g.createElement(w6,{styles:_6(i,!e,s,n?"":"!important")})},_g=!1;if(typeof window<"u")try{var Vc=Object.defineProperty({},"passive",{get:function(){return _g=!0,!0}});window.addEventListener("test",Vc,Vc),window.removeEventListener("test",Vc,Vc)}catch{_g=!1}var ro=_g?{passive:!1}:!1,x6=function(t){return t.tagName==="TEXTAREA"},DR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!x6(t)&&n[e]==="visible")},S6=function(t){return DR(t,"overflowY")},I6=function(t){return DR(t,"overflowX")},bT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=OR(t,r);if(s){var i=MR(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},C6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},b6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},OR=function(t,e){return t==="v"?S6(e):I6(e)},MR=function(t,e){return t==="v"?C6(e):b6(e)},A6=function(t,e){return t==="h"&&e==="rtl"?-1:1},R6=function(t,e,n,r,s){var i=A6(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,p=0;do{var m=MR(t,a),x=m[0],w=m[1],T=m[2],_=w-T-i*x;(x||_)&&OR(t,a)&&(h+=_,p+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(c=!0),c},Fc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},AT=function(t){return[t.deltaX,t.deltaY]},RT=function(t){return t&&"current"in t?t.current:t},P6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},k6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},N6=0,so=[];function D6(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(N6++)[0],i=g.useState(NR)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=jj([t.lockRef.current],(t.shards||[]).map(RT),!0).filter(Boolean);return w.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(w,T){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var _=Fc(w),E=n.current,S="deltaX"in w?w.deltaX:E[0]-_[0],P="deltaY"in w?w.deltaY:E[1]-_[1],O,M=w.target,C=Math.abs(S)>Math.abs(P)?"h":"v";if("touches"in w&&C==="h"&&M.type==="range")return!1;var I=bT(C,M);if(!I)return!0;if(I?O=C:(O=C==="v"?"h":"v",I=bT(C,M)),!I)return!1;if(!r.current&&"changedTouches"in w&&(S||P)&&(r.current=O),!O)return!0;var A=r.current||O;return R6(A,T,w,A==="h"?S:P)},[]),l=g.useCallback(function(w){var T=w;if(!(!so.length||so[so.length-1]!==i)){var _="deltaY"in T?AT(T):Fc(T),E=e.current.filter(function(O){return O.name===T.type&&(O.target===T.target||T.target===O.shadowParent)&&P6(O.delta,_)})[0];if(E&&E.should){T.cancelable&&T.preventDefault();return}if(!E){var S=(o.current.shards||[]).map(RT).filter(Boolean).filter(function(O){return O.contains(T.target)}),P=S.length>0?a(T,S[0]):!o.current.noIsolation;P&&T.cancelable&&T.preventDefault()}}},[]),c=g.useCallback(function(w,T,_,E){var S={name:w,delta:T,target:_,should:E,shadowParent:O6(_)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(P){return P!==S})},1)},[]),d=g.useCallback(function(w){n.current=Fc(w),r.current=void 0},[]),h=g.useCallback(function(w){c(w.type,AT(w),w.target,a(w,t.lockRef.current))},[]),p=g.useCallback(function(w){c(w.type,Fc(w),w.target,a(w,t.lockRef.current))},[]);g.useEffect(function(){return so.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,ro),document.addEventListener("touchmove",l,ro),document.addEventListener("touchstart",d,ro),function(){so=so.filter(function(w){return w!==i}),document.removeEventListener("wheel",l,ro),document.removeEventListener("touchmove",l,ro),document.removeEventListener("touchstart",d,ro)}},[]);var m=t.removeScrollBar,x=t.inert;return g.createElement(g.Fragment,null,x?g.createElement(i,{styles:k6(s)}):null,m?g.createElement(T6,{gapMode:t.gapMode}):null)}function O6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const M6=u6(kR,D6);var zy=g.forwardRef(function(t,e){return g.createElement(gf,tr({},t,{ref:e,sideCar:M6}))});zy.classNames=gf.classNames;var Eg=["Enter"," "],L6=["ArrowDown","PageUp","Home"],LR=["ArrowUp","PageDown","End"],V6=[...L6,...LR],F6={ltr:[...Eg,"ArrowRight"],rtl:[...Eg,"ArrowLeft"]},j6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$u="Menu",[cu,U6,$6]=Ev($u),[Hi,VR]=hr($u,[$6,Uh,xR]),vf=Uh(),FR=xR(),[z6,qi]=Hi($u),[B6,zu]=Hi($u),jR=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=vf(e),[l,c]=g.useState(null),d=g.useRef(!1),h=Xe(i),p=Uy(s);return g.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),v.jsx(dC,{...a,children:v.jsx(z6,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:v.jsx(B6,{scope:e,onClose:g.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};jR.displayName=$u;var W6="MenuAnchor",By=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=vf(n);return v.jsx(hC,{...s,...r,ref:e})});By.displayName=W6;var Wy="MenuPortal",[H6,UR]=Hi(Wy,{forceMount:void 0}),$R=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=qi(Wy,e);return v.jsx(H6,{scope:e,forceMount:n,children:v.jsx(Xt,{present:n||i.open,children:v.jsx(Oh,{asChild:!0,container:s,children:r})})})};$R.displayName=Wy;var yn="MenuContent",[q6,Hy]=Hi(yn),zR=g.forwardRef((t,e)=>{const n=UR(yn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=qi(yn,t.__scopeMenu),o=zu(yn,t.__scopeMenu);return v.jsx(cu.Provider,{scope:t.__scopeMenu,children:v.jsx(Xt,{present:r||i.open,children:v.jsx(cu.Slot,{scope:t.__scopeMenu,children:o.modal?v.jsx(K6,{...s,ref:e}):v.jsx(G6,{...s,ref:e})})})})}),K6=g.forwardRef((t,e)=>{const n=qi(yn,t.__scopeMenu),r=g.useRef(null),s=ke(e,r);return g.useEffect(()=>{const i=r.current;if(i)return RR(i)},[]),v.jsx(qy,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:J(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),G6=g.forwardRef((t,e)=>{const n=qi(yn,t.__scopeMenu);return v.jsx(qy,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Q6=Jo("MenuContent.ScrollLock"),qy=g.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:m,disableOutsideScroll:x,...w}=t,T=qi(yn,n),_=zu(yn,n),E=vf(n),S=FR(n),P=U6(n),[O,M]=g.useState(null),C=g.useRef(null),I=ke(e,C,T.onContentChange),A=g.useRef(0),R=g.useRef(""),N=g.useRef(0),D=g.useRef(null),k=g.useRef("right"),q=g.useRef(0),re=x?zy:g.Fragment,te=x?{as:Q6,allowPinchZoom:!0}:void 0,ae=V=>{var he,Tn;const W=R.current+V,ee=P().filter(Ze=>!Ze.disabled),G=document.activeElement,Z=(he=ee.find(Ze=>Ze.ref.current===G))==null?void 0:he.textValue,de=ee.map(Ze=>Ze.textValue),Ce=az(de,W,Z),Fe=(Tn=ee.find(Ze=>Ze.textValue===Ce))==null?void 0:Tn.ref.current;(function Ze(Nt){R.current=Nt,window.clearTimeout(A.current),Nt!==""&&(A.current=window.setTimeout(()=>Ze(""),1e3))})(W),Fe&&setTimeout(()=>Fe.focus())};g.useEffect(()=>()=>window.clearTimeout(A.current),[]),_R();const j=g.useCallback(V=>{var ee,G;return k.current===((ee=D.current)==null?void 0:ee.side)&&uz(V,(G=D.current)==null?void 0:G.area)},[]);return v.jsx(q6,{scope:n,searchRef:R,onItemEnter:g.useCallback(V=>{j(V)&&V.preventDefault()},[j]),onItemLeave:g.useCallback(V=>{var W;j(V)||((W=C.current)==null||W.focus(),M(null))},[j]),onTriggerLeave:g.useCallback(V=>{j(V)&&V.preventDefault()},[j]),pointerGraceTimerRef:N,onPointerGraceIntentChange:g.useCallback(V=>{D.current=V},[]),children:v.jsx(re,{...te,children:v.jsx($y,{asChild:!0,trapped:s,onMountAutoFocus:J(i,V=>{var W;V.preventDefault(),(W=C.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:v.jsx(_u,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:m,children:v.jsx(Y$,{asChild:!0,...S,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:M,onEntryFocus:J(l,V=>{_.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:v.jsx(fC,{role:"menu","aria-orientation":"vertical","data-state":sP(T.open),"data-radix-menu-content":"",dir:_.dir,...E,...w,ref:I,style:{outline:"none",...w.style},onKeyDown:J(w.onKeyDown,V=>{const ee=V.target.closest("[data-radix-menu-content]")===V.currentTarget,G=V.ctrlKey||V.altKey||V.metaKey,Z=V.key.length===1;ee&&(V.key==="Tab"&&V.preventDefault(),!G&&Z&&ae(V.key));const de=C.current;if(V.target!==de||!V6.includes(V.key))return;V.preventDefault();const Fe=P().filter(he=>!he.disabled).map(he=>he.ref.current);LR.includes(V.key)&&Fe.reverse(),iz(Fe)}),onBlur:J(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(A.current),R.current="")}),onPointerMove:J(t.onPointerMove,du(V=>{const W=V.target,ee=q.current!==V.clientX;if(V.currentTarget.contains(W)&&ee){const G=V.clientX>q.current?"right":"left";k.current=G,q.current=V.clientX}}))})})})})})})});zR.displayName=yn;var Y6="MenuGroup",Ky=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return v.jsx(ge.div,{role:"group",...r,ref:e})});Ky.displayName=Y6;var X6="MenuLabel",BR=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return v.jsx(ge.div,{...r,ref:e})});BR.displayName=X6;var dh="MenuItem",PT="menu.itemSelect",yf=g.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=g.useRef(null),o=zu(dh,t.__scopeMenu),a=Hy(dh,t.__scopeMenu),l=ke(e,i),c=g.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(PT,{bubbles:!0,cancelable:!0});h.addEventListener(PT,m=>r==null?void 0:r(m),{once:!0}),Tv(h,p),p.defaultPrevented?c.current=!1:o.onClose()}};return v.jsx(WR,{...s,ref:l,disabled:n,onClick:J(t.onClick,d),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),c.current=!0},onPointerUp:J(t.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:J(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||Eg.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});yf.displayName=dh;var WR=g.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Hy(dh,n),a=FR(n),l=g.useRef(null),c=ke(e,l),[d,h]=g.useState(!1),[p,m]=g.useState("");return g.useEffect(()=>{const x=l.current;x&&m((x.textContent??"").trim())},[i.children]),v.jsx(cu.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:v.jsx(X$,{asChild:!0,...a,focusable:!r,children:v.jsx(ge.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:J(t.onPointerMove,du(x=>{r?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:J(t.onPointerLeave,du(x=>o.onItemLeave(x))),onFocus:J(t.onFocus,()=>h(!0)),onBlur:J(t.onBlur,()=>h(!1))})})})}),J6="MenuCheckboxItem",HR=g.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return v.jsx(YR,{scope:t.__scopeMenu,checked:n,children:v.jsx(yf,{role:"menuitemcheckbox","aria-checked":hh(n)?"mixed":n,...s,ref:e,"data-state":Qy(n),onSelect:J(s.onSelect,()=>r==null?void 0:r(hh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});HR.displayName=J6;var qR="MenuRadioGroup",[Z6,ez]=Hi(qR,{value:void 0,onValueChange:()=>{}}),KR=g.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Xe(r);return v.jsx(Z6,{scope:t.__scopeMenu,value:n,onValueChange:i,children:v.jsx(Ky,{...s,ref:e})})});KR.displayName=qR;var GR="MenuRadioItem",QR=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=ez(GR,t.__scopeMenu),i=n===s.value;return v.jsx(YR,{scope:t.__scopeMenu,checked:i,children:v.jsx(yf,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Qy(i),onSelect:J(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});QR.displayName=GR;var Gy="MenuItemIndicator",[YR,tz]=Hi(Gy,{checked:!1}),XR=g.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=tz(Gy,n);return v.jsx(Xt,{present:r||hh(i.checked)||i.checked===!0,children:v.jsx(ge.span,{...s,ref:e,"data-state":Qy(i.checked)})})});XR.displayName=Gy;var nz="MenuSeparator",JR=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return v.jsx(ge.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});JR.displayName=nz;var rz="MenuArrow",ZR=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=vf(n);return v.jsx(pC,{...s,...r,ref:e})});ZR.displayName=rz;var sz="MenuSub",[C8,eP]=Hi(sz),al="MenuSubTrigger",tP=g.forwardRef((t,e)=>{const n=qi(al,t.__scopeMenu),r=zu(al,t.__scopeMenu),s=eP(al,t.__scopeMenu),i=Hy(al,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),v.jsx(By,{asChild:!0,...c,children:v.jsx(WR,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":sP(n.open),...t,ref:Dh(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:J(t.onPointerMove,du(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:J(t.onPointerLeave,du(h=>{var m,x;d();const p=(m=n.content)==null?void 0:m.getBoundingClientRect();if(p){const w=(x=n.content)==null?void 0:x.dataset.side,T=w==="right",_=T?-5:5,E=p[T?"left":"right"],S=p[T?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+_,y:h.clientY},{x:E,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:E,y:p.bottom}],side:w}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:J(t.onKeyDown,h=>{var m;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||F6[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});tP.displayName=al;var nP="MenuSubContent",rP=g.forwardRef((t,e)=>{const n=UR(yn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=qi(yn,t.__scopeMenu),o=zu(yn,t.__scopeMenu),a=eP(nP,t.__scopeMenu),l=g.useRef(null),c=ke(e,l);return v.jsx(cu.Provider,{scope:t.__scopeMenu,children:v.jsx(Xt,{present:r||i.open,children:v.jsx(cu.Slot,{scope:t.__scopeMenu,children:v.jsx(qy,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:J(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:J(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:J(t.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),p=j6[o.dir].includes(d.key);h&&p&&(i.onOpenChange(!1),(m=a.trigger)==null||m.focus(),d.preventDefault())})})})})})});rP.displayName=nP;function sP(t){return t?"open":"closed"}function hh(t){return t==="indeterminate"}function Qy(t){return hh(t)?"indeterminate":t?"checked":"unchecked"}function iz(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function oz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function az(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=oz(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function lz(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function uz(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return lz(n,e)}function du(t){return e=>e.pointerType==="mouse"?t(e):void 0}var cz=jR,dz=By,hz=$R,fz=zR,pz=Ky,mz=BR,gz=yf,vz=HR,yz=KR,wz=QR,_z=XR,Ez=JR,Tz=ZR,xz=tP,Sz=rP,wf="DropdownMenu",[Iz,b8]=hr(wf,[VR]),Ut=VR(),[Cz,iP]=Iz(wf),oP=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=Ut(e),c=g.useRef(null),[d,h]=Eu({prop:s,defaultProp:i??!1,onChange:o,caller:wf});return v.jsx(Cz,{scope:e,triggerId:xi(),triggerRef:c,contentId:xi(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),modal:a,children:v.jsx(cz,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};oP.displayName=wf;var aP="DropdownMenuTrigger",lP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=iP(aP,n),o=Ut(n);return v.jsx(dz,{asChild:!0,...o,children:v.jsx(ge.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Dh(e,i.triggerRef),onPointerDown:J(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:J(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});lP.displayName=aP;var bz="DropdownMenuPortal",uP=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Ut(e);return v.jsx(hz,{...r,...n})};uP.displayName=bz;var cP="DropdownMenuContent",dP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=iP(cP,n),i=Ut(n),o=g.useRef(!1);return v.jsx(fz,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:J(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:J(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dP.displayName=cP;var Az="DropdownMenuGroup",Rz=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ut(n);return v.jsx(pz,{...s,...r,ref:e})});Rz.displayName=Az;var Pz="DropdownMenuLabel",hP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ut(n);return v.jsx(mz,{...s,...r,ref:e})});hP.displayName=Pz;var kz="DropdownMenuItem",fP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ut(n);return v.jsx(gz,{...s,...r,ref:e})});fP.displayName=kz;var Nz="DropdownMenuCheckboxItem",pP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ut(n);return v.jsx(vz,{...s,...r,ref:e})});pP.displayName=Nz;var Dz="DropdownMenuRadioGroup",Oz=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ut(n);return v.jsx(yz,{...s,...r,ref:e})});Oz.displayName=Dz;var Mz="DropdownMenuRadioItem",mP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ut(n);return v.jsx(wz,{...s,...r,ref:e})});mP.displayName=Mz;var Lz="DropdownMenuItemIndicator",gP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ut(n);return v.jsx(_z,{...s,...r,ref:e})});gP.displayName=Lz;var Vz="DropdownMenuSeparator",vP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ut(n);return v.jsx(Ez,{...s,...r,ref:e})});vP.displayName=Vz;var Fz="DropdownMenuArrow",jz=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ut(n);return v.jsx(Tz,{...s,...r,ref:e})});jz.displayName=Fz;var Uz="DropdownMenuSubTrigger",yP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ut(n);return v.jsx(xz,{...s,...r,ref:e})});yP.displayName=Uz;var $z="DropdownMenuSubContent",wP=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ut(n);return v.jsx(Sz,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wP.displayName=$z;var zz=oP,Bz=lP,Wz=uP,_P=dP,EP=hP,TP=fP,xP=pP,SP=mP,IP=gP,CP=vP,bP=yP,AP=wP;const kT=zz,NT=Bz,Hz=g.forwardRef(({className:t,inset:e,children:n,...r},s)=>v.jsxs(bP,{ref:s,className:oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,v.jsx(kI,{className:"ml-auto h-4 w-4"})]}));Hz.displayName=bP.displayName;const qz=g.forwardRef(({className:t,...e},n)=>v.jsx(AP,{ref:n,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));qz.displayName=AP.displayName;const Tg=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>v.jsx(Wz,{children:v.jsx(_P,{ref:r,sideOffset:e,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Tg.displayName=_P.displayName;const ll=g.forwardRef(({className:t,inset:e,...n},r)=>v.jsx(TP,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));ll.displayName=TP.displayName;const Kz=g.forwardRef(({className:t,children:e,checked:n,...r},s)=>v.jsxs(xP,{ref:s,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(IP,{children:v.jsx(PO,{className:"h-4 w-4"})})}),e]}));Kz.displayName=xP.displayName;const Gz=g.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(SP,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(IP,{children:v.jsx(NO,{className:"h-2 w-2 fill-current"})})}),e]}));Gz.displayName=SP.displayName;const xg=g.forwardRef(({className:t,inset:e,...n},r)=>v.jsx(EP,{ref:r,className:oe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));xg.displayName=EP.displayName;const hd=g.forwardRef(({className:t,...e},n)=>v.jsx(CP,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",t),...e}));hd.displayName=CP.displayName;const fh=g.forwardRef(({className:t,type:e,...n},r)=>v.jsx("input",{type:e,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));fh.displayName="Input";var _f="Dialog",[RP,A8]=hr(_f),[Qz,Wn]=RP(_f),PP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),l=g.useRef(null),[c,d]=Eu({prop:r,defaultProp:s??!1,onChange:i,caller:_f});return v.jsx(Qz,{scope:e,triggerRef:a,contentRef:l,contentId:xi(),titleId:xi(),descriptionId:xi(),open:c,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};PP.displayName=_f;var kP="DialogTrigger",NP=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Wn(kP,n),i=ke(e,s.triggerRef);return v.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Jy(s.open),...r,ref:i,onClick:J(t.onClick,s.onOpenToggle)})});NP.displayName=kP;var Yy="DialogPortal",[Yz,DP]=RP(Yy,{forceMount:void 0}),OP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Wn(Yy,e);return v.jsx(Yz,{scope:e,forceMount:n,children:g.Children.map(r,o=>v.jsx(Xt,{present:n||i.open,children:v.jsx(Oh,{asChild:!0,container:s,children:o})}))})};OP.displayName=Yy;var ph="DialogOverlay",MP=g.forwardRef((t,e)=>{const n=DP(ph,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Wn(ph,t.__scopeDialog);return i.modal?v.jsx(Xt,{present:r||i.open,children:v.jsx(Jz,{...s,ref:e})}):null});MP.displayName=ph;var Xz=Jo("DialogOverlay.RemoveScroll"),Jz=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Wn(ph,n);return v.jsx(zy,{as:Xz,allowPinchZoom:!0,shards:[s.contentRef],children:v.jsx(ge.div,{"data-state":Jy(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Mi="DialogContent",LP=g.forwardRef((t,e)=>{const n=DP(Mi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Wn(Mi,t.__scopeDialog);return v.jsx(Xt,{present:r||i.open,children:i.modal?v.jsx(Zz,{...s,ref:e}):v.jsx(eB,{...s,ref:e})})});LP.displayName=Mi;var Zz=g.forwardRef((t,e)=>{const n=Wn(Mi,t.__scopeDialog),r=g.useRef(null),s=ke(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return RR(i)},[]),v.jsx(VP,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:J(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:J(t.onFocusOutside,i=>i.preventDefault())})}),eB=g.forwardRef((t,e)=>{const n=Wn(Mi,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return v.jsx(VP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),VP=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Wn(Mi,n),l=g.useRef(null),c=ke(e,l);return _R(),v.jsxs(v.Fragment,{children:[v.jsx($y,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:v.jsx(_u,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Jy(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(tB,{titleId:a.titleId}),v.jsx(rB,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Xy="DialogTitle",FP=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Wn(Xy,n);return v.jsx(ge.h2,{id:s.titleId,...r,ref:e})});FP.displayName=Xy;var jP="DialogDescription",UP=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Wn(jP,n);return v.jsx(ge.p,{id:s.descriptionId,...r,ref:e})});UP.displayName=jP;var $P="DialogClose",zP=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Wn($P,n);return v.jsx(ge.button,{type:"button",...r,ref:e,onClick:J(t.onClick,()=>s.onOpenChange(!1))})});zP.displayName=$P;function Jy(t){return t?"open":"closed"}var BP="DialogTitleWarning",[R8,WP]=OD(BP,{contentName:Mi,titleName:Xy,docsSlug:"dialog"}),tB=({titleId:t})=>{const e=WP(BP),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},nB="DialogDescriptionWarning",rB=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${WP(nB).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},sB=PP,iB=NP,oB=OP,HP=MP,qP=LP,KP=FP,GP=UP,aB=zP;const lB=sB,uB=iB,cB=oB,QP=g.forwardRef(({className:t,...e},n)=>v.jsx(HP,{className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));QP.displayName=HP.displayName;const dB=xu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),YP=g.forwardRef(({side:t="right",className:e,children:n,...r},s)=>v.jsxs(cB,{children:[v.jsx(QP,{}),v.jsxs(qP,{ref:s,className:oe(dB({side:t}),e),...r,children:[n,v.jsxs(aB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[v.jsx(OI,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));YP.displayName=qP.displayName;const hB=g.forwardRef(({className:t,...e},n)=>v.jsx(KP,{ref:n,className:oe("text-lg font-semibold text-foreground",t),...e}));hB.displayName=KP.displayName;const fB=g.forwardRef(({className:t,...e},n)=>v.jsx(GP,{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));fB.displayName=GP.displayName;var XP={exports:{}},JP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=g;function pB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mB=typeof Object.is=="function"?Object.is:pB,gB=ca.useState,vB=ca.useEffect,yB=ca.useLayoutEffect,wB=ca.useDebugValue;function _B(t,e){var n=e(),r=gB({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return yB(function(){s.value=n,s.getSnapshot=e,Up(s)&&i({inst:s})},[t,n,e]),vB(function(){return Up(s)&&i({inst:s}),t(function(){Up(s)&&i({inst:s})})},[t]),wB(n),n}function Up(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mB(t,n)}catch{return!0}}function EB(t,e){return e()}var TB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?EB:_B;JP.useSyncExternalStore=ca.useSyncExternalStore!==void 0?ca.useSyncExternalStore:TB;XP.exports=JP;var xB=XP.exports;function SB(){return xB.useSyncExternalStore(IB,()=>!0,()=>!1)}function IB(){return()=>{}}var Zy="Avatar",[CB,P8]=hr(Zy),[bB,ZP]=CB(Zy),e1=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return v.jsx(bB,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:v.jsx(ge.span,{...r,ref:e})})});e1.displayName=Zy;var t1="AvatarImage",n1=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=ZP(t1,n),a=AB(r,i),l=Xe(c=>{s(c),o.onImageLoadingStatusChange(c)});return an(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?v.jsx(ge.img,{...i,ref:e,src:r}):null});n1.displayName=t1;var r1="AvatarFallback",s1=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=ZP(r1,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?v.jsx(ge.span,{...s,ref:e}):null});s1.displayName=r1;function DT(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function AB(t,{referrerPolicy:e,crossOrigin:n}){const r=SB(),s=g.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=g.useState(()=>DT(i,t));return an(()=>{a(DT(i,t))},[i,t]),an(()=>{const l=h=>()=>{a(h)};if(!i)return;const c=l("loaded"),d=l("error");return i.addEventListener("load",c),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",c),i.removeEventListener("error",d)}},[i,n,e]),o}var i1=e1,o1=n1,a1=s1;const ew=g.forwardRef(({className:t,...e},n)=>v.jsx(i1,{ref:n,className:oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));ew.displayName=i1.displayName;const tw=g.forwardRef(({className:t,...e},n)=>v.jsx(o1,{ref:n,className:oe("aspect-square h-full w-full",t),...e}));tw.displayName=o1.displayName;const nw=g.forwardRef(({className:t,...e},n)=>v.jsx(a1,{ref:n,className:oe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));nw.displayName=a1.displayName;const RB=xu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function PB({className:t,variant:e,...n}){return v.jsx("div",{className:oe(RB({variant:e}),t),...n})}const rw="/assets/logo-DvvHr2Hq.png";function kB(t,[e,n]){return Math.min(n,Math.max(e,t))}function NB(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var sw="ScrollArea",[l1,k8]=hr(sw),[DB,En]=l1(sw),u1=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=g.useState(null),[c,d]=g.useState(null),[h,p]=g.useState(null),[m,x]=g.useState(null),[w,T]=g.useState(null),[_,E]=g.useState(0),[S,P]=g.useState(0),[O,M]=g.useState(!1),[C,I]=g.useState(!1),A=ke(e,N=>l(N)),R=Uy(s);return v.jsx(DB,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:d,content:h,onContentChange:p,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:O,onScrollbarXEnabledChange:M,scrollbarY:w,onScrollbarYChange:T,scrollbarYEnabled:C,onScrollbarYEnabledChange:I,onCornerWidthChange:E,onCornerHeightChange:P,children:v.jsx(ge.div,{dir:R,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});u1.displayName=sw;var c1="ScrollAreaViewport",d1=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=En(c1,n),a=g.useRef(null),l=ke(e,a,o.onViewportChange);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),v.jsx(ge.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:v.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});d1.displayName=c1;var pr="ScrollAreaScrollbar",iw=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=En(pr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return g.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?v.jsx(OB,{...r,ref:e,forceMount:n}):s.type==="scroll"?v.jsx(MB,{...r,ref:e,forceMount:n}):s.type==="auto"?v.jsx(h1,{...r,ref:e,forceMount:n}):s.type==="always"?v.jsx(ow,{...r,ref:e}):null});iw.displayName=pr;var OB=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=En(pr,t.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),v.jsx(Xt,{present:n||i,children:v.jsx(h1,{"data-state":i?"visible":"hidden",...r,ref:e})})}),MB=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=En(pr,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Tf(()=>l("SCROLL_END"),100),[a,l]=NB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),g.useEffect(()=>{const c=s.viewport,d=i?"scrollLeft":"scrollTop";if(c){let h=c[d];const p=()=>{const m=c[d];h!==m&&(l("SCROLL"),o()),h=m};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[s.viewport,i,l,o]),v.jsx(Xt,{present:n||a!=="hidden",children:v.jsx(ow,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:J(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:J(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),h1=g.forwardRef((t,e)=>{const n=En(pr,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=g.useState(!1),a=t.orientation==="horizontal",l=Tf(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:d)}},10);return da(n.viewport,l),da(n.content,l),v.jsx(Xt,{present:r||i,children:v.jsx(ow,{"data-state":i?"visible":"hidden",...s,ref:e})})}),ow=g.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=En(pr,t.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[a,l]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=v1(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,m){return $B(p,o.current,a,m)}return n==="horizontal"?v.jsx(LB,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,m=OT(p,a,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?v.jsx(VB,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,m=OT(p,a);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),LB=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=En(pr,t.__scopeScrollArea),[o,a]=g.useState(),l=g.useRef(null),c=ke(e,l,i.onScrollbarXChange);return g.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),v.jsx(p1,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ef(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),w1(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:gh(o.paddingLeft),paddingEnd:gh(o.paddingRight)}})}})}),VB=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=En(pr,t.__scopeScrollArea),[o,a]=g.useState(),l=g.useRef(null),c=ke(e,l,i.onScrollbarYChange);return g.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),v.jsx(p1,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ef(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),w1(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:gh(o.paddingTop),paddingEnd:gh(o.paddingBottom)}})}})}),[FB,f1]=l1(pr),p1=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:h,...p}=t,m=En(pr,n),[x,w]=g.useState(null),T=ke(e,A=>w(A)),_=g.useRef(null),E=g.useRef(""),S=m.viewport,P=r.content-r.viewport,O=Xe(d),M=Xe(l),C=Tf(h,10);function I(A){if(_.current){const R=A.clientX-_.current.left,N=A.clientY-_.current.top;c({x:R,y:N})}}return g.useEffect(()=>{const A=R=>{const N=R.target;(x==null?void 0:x.contains(N))&&O(R,P)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[S,x,P,O]),g.useEffect(M,[r,M]),da(x,C),da(m.content,C),v.jsx(FB,{scope:n,scrollbar:x,hasThumb:s,onThumbChange:Xe(i),onThumbPointerUp:Xe(o),onThumbPositionChange:M,onThumbPointerDown:Xe(a),children:v.jsx(ge.div,{...p,ref:T,style:{position:"absolute",...p.style},onPointerDown:J(t.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),_.current=x.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),I(A))}),onPointerMove:J(t.onPointerMove,I),onPointerUp:J(t.onPointerUp,A=>{const R=A.target;R.hasPointerCapture(A.pointerId)&&R.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=E.current,m.viewport&&(m.viewport.style.scrollBehavior=""),_.current=null})})})}),mh="ScrollAreaThumb",m1=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=f1(mh,t.__scopeScrollArea);return v.jsx(Xt,{present:n||s.hasThumb,children:v.jsx(jB,{ref:e,...r})})}),jB=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=En(mh,n),o=f1(mh,n),{onThumbPositionChange:a}=o,l=ke(e,h=>o.onThumbChange(h)),c=g.useRef(void 0),d=Tf(()=>{c.current&&(c.current(),c.current=void 0)},100);return g.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(d(),!c.current){const m=zB(h,a);c.current=m,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,d,a]),v.jsx(ge.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:J(t.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),x=h.clientX-m.left,w=h.clientY-m.top;o.onThumbPointerDown({x,y:w})}),onPointerUp:J(t.onPointerUp,o.onThumbPointerUp)})});m1.displayName=mh;var aw="ScrollAreaCorner",g1=g.forwardRef((t,e)=>{const n=En(aw,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?v.jsx(UB,{...t,ref:e}):null});g1.displayName=aw;var UB=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=En(aw,n),[i,o]=g.useState(0),[a,l]=g.useState(0),c=!!(i&&a);return da(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),da(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),c?v.jsx(ge.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function gh(t){return t?parseInt(t,10):0}function v1(t,e){const n=t/e;return isNaN(n)?0:n}function Ef(t){const e=v1(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function $B(t,e,n,r="ltr"){const s=Ef(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return y1([l,c],h)(t)}function OT(t,e,n="ltr"){const r=Ef(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],c=kB(t,l);return y1([0,o],[0,a])(c)}function y1(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function w1(t,e){return t>0&&t<e}var zB=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Tf(t,e){const n=Xe(t),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function da(t,e){const n=Xe(e);an(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var _1=u1,BB=d1,WB=g1;const lw=g.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(_1,{ref:r,className:oe("relative overflow-hidden",t),...n,children:[v.jsx(BB,{className:"h-full w-full rounded-[inherit]",children:e}),v.jsx(E1,{}),v.jsx(WB,{})]}));lw.displayName=_1.displayName;const E1=g.forwardRef(({className:t,orientation:e="vertical",...n},r)=>v.jsx(iw,{ref:r,orientation:e,className:oe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:v.jsx(m1,{className:"relative flex-1 rounded-full bg-border"})}));E1.displayName=iw.displayName;var HB="Separator",MT="horizontal",qB=["horizontal","vertical"],T1=g.forwardRef((t,e)=>{const{decorative:n,orientation:r=MT,...s}=t,i=KB(r)?r:MT,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return v.jsx(ge.div,{"data-orientation":i,...a,...s,ref:e})});T1.displayName=HB;function KB(t){return qB.includes(t)}var x1=T1;const S1=g.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>v.jsx(x1,{ref:s,decorative:n,orientation:e,className:oe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));S1.displayName=x1.displayName;const $p=({icon:t,label:e,href:n,active:r,minimized:s,roles:i=[]})=>{const{closeSidebar:o}=ju(),a=Fu(),l=()=>{a&&o()};return v.jsx(BC,{to:n,onClick:l,children:v.jsxs(Ln,{variant:"ghost",className:oe("w-full flex items-center justify-start gap-3 px-3 py-2 h-10",r?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground",s&&"justify-center px-2"),children:[v.jsx(t,{className:"h-5 w-5"}),!s&&v.jsx("span",{children:e})]})})},I1=()=>{var a;const t=Js(),{isSidebarOpen:e,toggleSidebar:n}=ju(),{currentUser:r,logout:s}=Wi(),i=Fu(),o=l=>l==="/"?t.pathname==="/":t.pathname.startsWith(l);return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center px-4 py-4",children:[v.jsxs("div",{className:"flex items-center flex-1",children:[v.jsx("div",{className:"h-8 w-auto",children:v.jsx("img",{src:rw,alt:"Story Pixie Logo",className:"h-full object-contain"})}),(e||i)&&v.jsx("span",{className:"text-lg font-medium ml-2 text-sidebar-foreground",children:"Story Pixie"})]}),!i&&v.jsx(Ln,{variant:"ghost",size:"icon",onClick:n,className:"text-sidebar-foreground hover:bg-sidebar-accent",children:e?v.jsx(kO,{className:"h-4 w-4"}):v.jsx(kI,{className:"h-4 w-4"})})]}),v.jsx(S1,{className:"bg-sidebar-border"}),v.jsx(lw,{className:"flex-1 overflow-auto",children:v.jsxs("div",{className:"px-2 py-2",children:[v.jsx($p,{icon:DO,label:"Dashboard",href:"/",active:o("/"),minimized:!e&&!i}),v.jsx($p,{icon:DI,label:"Users",href:"/users",active:o("/users"),minimized:!e&&!i}),v.jsx($p,{icon:LO,label:"Settings",href:"/settings",active:o("/settings"),minimized:!e&&!i})]})}),v.jsx("div",{className:"mt-auto border-t border-sidebar-border p-2",children:v.jsx("div",{className:oe("flex items-center gap-2 p-2 rounded-md",e||i?"justify-between":"justify-center"),children:(e||i)&&r?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center",children:[v.jsxs(ew,{className:"h-8 w-8",children:[v.jsx(tw,{src:r.profileImage||void 0,alt:r.name||"Admin"}),v.jsx(nw,{className:"bg-primary text-primary-foreground",children:((a=r.name)==null?void 0:a.charAt(0).toUpperCase())||"A"})]}),v.jsx("div",{className:"ml-2",children:v.jsx("p",{className:"text-xs font-medium leading-none",children:r.name||"Admin User"})})]}),v.jsx(Ln,{variant:"ghost",size:"icon",onClick:s,className:"text-sidebar-foreground hover:bg-sidebar-accent h-8 w-8",children:v.jsx(d0,{className:"h-4 w-4"})})]}):i?null:v.jsx(Ln,{variant:"ghost",size:"icon",onClick:s,className:"text-sidebar-foreground hover:bg-sidebar-accent",children:v.jsx(d0,{className:"h-4 w-4"})})})})]})},GB=()=>{var c;const{currentUser:t,logout:e}=Wi(),{isSidebarOpen:n,toggleSidebar:r}=ju(),[s,i]=g.useState(""),[o,a]=g.useState(!1),l=Fu();return v.jsx("header",{className:"border-b border-border bg-background sticky top-0 z-10",children:v.jsxs("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6",children:[v.jsxs("div",{className:"flex items-center",children:[l&&v.jsxs(lB,{open:o,onOpenChange:a,children:[v.jsx(uB,{asChild:!0,children:v.jsx(Ln,{variant:"ghost",size:"icon",className:"md:hidden mr-2",children:v.jsx(OO,{className:"h-5 w-5"})})}),v.jsx(YP,{side:"left",className:"p-0 w-[250px]",children:v.jsx("div",{className:"flex h-full flex-col bg-sidebar text-sidebar-foreground",children:v.jsx(I1,{})})})]}),v.jsx("div",{className:"h-8 w-auto mr-3 hidden md:block",children:v.jsx("img",{src:rw,alt:"Story Pixie Logo",className:"h-full object-contain"})}),v.jsx("h1",{className:oe("text-xl font-semibold",l?"text-center":""),children:"Story Pixie Admin"})]}),v.jsx("div",{className:"hidden md:block flex-1 px-8 max-w-md mx-4",children:v.jsxs("div",{className:"relative",children:[v.jsx(h0,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),v.jsx(fh,{type:"search",placeholder:"Search...",className:"w-full pl-8 bg-background",value:s,onChange:d=>i(d.target.value)})]})}),v.jsx(Ln,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>{console.log("Open mobile search")},children:v.jsx(h0,{className:"h-5 w-5"})}),v.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[v.jsxs(kT,{children:[v.jsx(NT,{asChild:!0,children:v.jsxs(Ln,{variant:"outline",size:"icon",className:"relative",children:[v.jsx(RO,{className:"h-4 w-4"}),v.jsx(PB,{className:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-[10px]",children:"3"})]})}),v.jsxs(Tg,{align:"end",className:"w-80",children:[v.jsx(xg,{children:"Notifications"}),v.jsx(hd,{}),v.jsx(ll,{className:"cursor-pointer",children:v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("p",{className:"text-sm font-medium",children:"Placeholder Alert"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Details about the alert."}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"10 minutes ago"})]})})]})]}),v.jsxs(kT,{children:[v.jsx(NT,{asChild:!0,children:v.jsx(Ln,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:v.jsxs(ew,{className:"h-8 w-8",children:[v.jsx(tw,{src:(t==null?void 0:t.profileImage)||void 0,alt:(t==null?void 0:t.name)||"User"}),v.jsx(nw,{className:"bg-primary text-primary-foreground",children:((c=t==null?void 0:t.name)==null?void 0:c.charAt(0).toUpperCase())||v.jsx(VO,{className:"h-4 w-4"})})]})})}),v.jsxs(Tg,{className:"w-56",align:"end",forceMount:!0,children:[v.jsx(xg,{className:"font-normal",children:v.jsxs("div",{className:"flex flex-col space-y-1",children:[v.jsx("p",{className:"text-sm font-medium leading-none",children:(t==null?void 0:t.name)||"Admin User"}),v.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(t==null?void 0:t.email)||"admin@example.com"})]})}),v.jsx(hd,{}),v.jsxs(ll,{disabled:!0,children:[" ","Profile"]}),v.jsxs(ll,{disabled:!0,children:[" ","Settings"]}),v.jsx(hd,{}),v.jsx(ll,{onClick:e,className:"cursor-pointer",children:"Log out"})]})]})]})]})})},QB=async()=>{try{console.log("Attempting to list StoryPixie users from Firestore...");const t=["adminUsers","users","Users","customers","accounts","profiles"];for(const e of t)try{console.log(`Checking Firestore collection: ${e}`);const n=await mf(ff(Lu(Zn,e),Fy(10)));if(n.empty)console.log(`No documents found in Firestore collection: ${e}`);else{const r=n.docs.map(s=>({id:s.id,...s.data()}));return console.log(`Found ${r.length} users in Firestore collection '${e}'`),{source:"firestore",collection:e,data:r}}}catch(n){console.log(`Error checking Firestore collection '${e}':`,n)}return console.log("No users found in common Firestore collections"),{error:"No user data found in common Firestore collections",checkedFirestoreCollections:t}}catch(t){return console.error("Error listing users from database:",t),{error:t.message}}},YB=async()=>{try{console.log("Testing Firestore connection...");const t=["public","system","settings","stories","users","adminUsers"];for(const e of t)try{console.log(`Checking Firestore collection: ${e}`);const n=await mf(ff(Lu(Zn,e),Fy(1)));if(console.log(`Collection ${e} query result:`,{exists:!n.empty,size:n.size}),!n.empty)return console.log("✅ Firestore connection successful"),!0}catch(n){console.log(`Error checking collection ${e}:`,n)}return console.log("✅ Firestore connection established but no documents found"),!0}catch(t){return console.error("❌ Firestore connection test failed:",t),!1}},XB=async()=>{try{console.log("Testing Auth connection...");const t=uu.currentUser;return console.log("Auth current user:",t?"logged in":"not logged in"),console.log("✅ Auth connection successful"),uu.app.name!==null}catch(t){return console.error("❌ Authentication connection test failed:",t),!1}},JB=()=>{const{isSidebarOpen:t}=ju(),{isAuthenticated:e}=Wi(),[n,r]=g.useState("checking"),[s,i]=g.useState(null),[o,a]=g.useState({firestore:!1,auth:!1}),[l,c]=g.useState(null),d=async(x=!1)=>{if(e){r("checking");try{console.log("Checking StoryPixie Firebase connection status with updated configuration...");const w=await YB(),T=await XB();a({firestore:w,auth:T});const _=w||T;if(console.log("Firebase connection check results:",{firestore:w,auth:T,isAnyConnected:_}),r(_?"connected":"disconnected"),i(new Date),_){console.log("Attempting to retrieve user data from database...");const E=await QB();c(E),console.log("Database user info:",E),x&&wl({title:"Firebase Connection",description:"Connection check completed.",variant:"default"})}else x&&wl({title:"Firebase Connection Error",description:"Could not connect to any StoryPixie Firebase services.",variant:"destructive"})}catch(w){console.error("Connection check error:",w),r("disconnected"),i(new Date),x&&wl({title:"Connection Error",description:"Failed to check Firebase connection: "+w.message,variant:"destructive"})}}};g.useEffect(()=>{if(e){d(!1);const x=setInterval(()=>d(!1),6e4);return()=>clearInterval(x)}},[e]);const h=()=>s?s.toLocaleTimeString():"Not checked yet",p=async()=>{await d(!0)},m=()=>{if(!l)return"No data retrieved";if(l.error)return`Error: ${l.error}`;if(l.source==="firestore"){const x=l.collection||"unknown collection";return`Found ${Array.isArray(l.data)?l.data.length:0} users in Firestore collection '${x}'`}return"Connected, but no specific user data found"};return v.jsxs("div",{className:oe("border-r border-sidebar-border flex flex-col bg-sidebar text-sidebar-foreground h-screen transition-all duration-300 ease-in-out",t?"w-64":"w-16"),children:[e&&v.jsx(xC,{children:v.jsxs(bL,{children:[v.jsx(AL,{asChild:!0,children:v.jsx("div",{className:oe("px-3 py-2 flex items-center gap-2 border-b border-sidebar-border cursor-pointer",!t&&"justify-center",n==="connected"?"bg-green-500/10":n==="disconnected"?"bg-red-500/10":""),onClick:p,children:n==="connected"?v.jsxs(v.Fragment,{children:[v.jsx(jO,{className:"h-4 w-4 text-green-500"}),t&&v.jsx("span",{className:"text-xs text-green-500",children:"Firebase Connected"})]}):n==="disconnected"?v.jsxs(v.Fragment,{children:[v.jsx(FO,{className:"h-4 w-4 text-red-500"}),t&&v.jsx("span",{className:"text-xs text-red-500",children:"Connection Error"})]}):v.jsxs(v.Fragment,{children:[v.jsx(Cv,{className:"h-4 w-4 animate-spin"}),t&&v.jsx("span",{className:"text-xs",children:"Checking..."})]})})}),v.jsx(SC,{side:"right",className:"max-w-xs",children:v.jsxs("div",{className:"space-y-1",children:[v.jsx("p",{className:"font-medium",children:"StoryPixie Firebase Connection"}),v.jsxs("p",{children:["Status: ",n==="connected"?"Connected ✅":n==="disconnected"?"Disconnected ❌":"Checking..."]}),v.jsxs("div",{className:"text-xs space-y-1 mt-1",children:[v.jsxs("p",{children:["Firestore: ",o.firestore?"✅ Connected":"❌ Disconnected"]}),v.jsxs("p",{children:["Authentication: ",o.auth?"✅ Connected":"❌ Disconnected"]})]}),v.jsxs("p",{className:"text-xs mt-1",children:["Database: ",m()]}),v.jsxs("p",{className:"text-xs",children:["Last checked: ",h()]}),v.jsx("p",{className:"text-xs italic",children:"Click to check again"})]})})]})}),v.jsx(I1,{})]})},ZB=()=>{const{isSidebarOpen:t,closeSidebar:e}=ju(),n=Fu(),r=Js();return g.useEffect(()=>{n&&e()},[r.pathname,n,e]),v.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[v.jsx(JB,{}),v.jsxs("div",{className:oe("flex flex-col flex-1 overflow-hidden",n?"w-full":t?"ml-64":"ml-16"),children:[v.jsx(GB,{}),v.jsx("main",{className:"flex-1 overflow-auto p-3 sm:p-4 md:p-6",children:v.jsx("div",{className:"max-w-7xl",children:v.jsx(HV,{})})})]})]})};var e8="Label",C1=g.forwardRef((t,e)=>v.jsx(ge.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));C1.displayName=e8;var b1=C1;const t8=xu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Sg=g.forwardRef(({className:t,...e},n)=>v.jsx(b1,{ref:n,className:oe(t8(),t),...e}));Sg.displayName=b1.displayName;const Il=g.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Il.displayName="Card";const Cl=g.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",t),...e}));Cl.displayName="CardHeader";const bl=g.forwardRef(({className:t,...e},n)=>v.jsx("h3",{ref:n,className:oe("text-2xl font-semibold leading-none tracking-tight",t),...e}));bl.displayName="CardTitle";const A1=g.forwardRef(({className:t,...e},n)=>v.jsx("p",{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));A1.displayName="CardDescription";const Al=g.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:oe("p-6 pt-0",t),...e}));Al.displayName="CardContent";const R1=g.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",t),...e}));R1.displayName="CardFooter";const n8=({email:t,password:e,isLoading:n,authError:r,onEmailChange:s,onPasswordChange:i,onSubmit:o})=>v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4 py-8",children:v.jsxs("div",{className:"w-full max-w-md space-y-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx("div",{className:"w-32 sm:w-40",children:v.jsx("img",{src:rw,alt:"Story Pixie Logo",className:"w-full object-contain"})})}),v.jsx("h2",{className:"mt-4 text-2xl sm:text-3xl font-bold",children:"Story Pixie Admin"}),v.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Sign in to access your admin panel"})]}),v.jsx(Il,{className:"shadow-md",children:v.jsxs("form",{onSubmit:o,children:[v.jsxs(Cl,{children:[v.jsx(bl,{children:"Admin Login"}),v.jsx(A1,{children:"Enter your email and password to sign in"})]}),v.jsxs(Al,{className:"space-y-4",children:[r&&v.jsxs("div",{className:"bg-destructive/10 text-destructive text-sm p-3 rounded-md flex items-center gap-2",children:[v.jsx(NI,{className:"h-4 w-4"}),v.jsx("span",{children:r})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Sg,{htmlFor:"email",children:"Email"}),v.jsx(fh,{id:"email",type:"email",placeholder:"name@example.com",value:t,onChange:a=>s(a.target.value),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Sg,{htmlFor:"password",children:"Password"}),v.jsx(fh,{id:"password",type:"password",placeholder:"••••••••",value:e,onChange:a=>i(a.target.value),required:!0})]})]}),v.jsx(R1,{children:v.jsx(Ln,{type:"submit",className:"w-full pixie-gradient hover:opacity-90",disabled:n,children:n?v.jsxs(v.Fragment,{children:[v.jsx(MO,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing in..."]}):"Sign in"})})]})})]})}),r8=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(!1),[o,a]=g.useState(null),{login:l,isAuthenticated:c,isLoading:d}=Wi(),h=Wv();g.useEffect(()=>{c&&(console.log("[Login] Already authenticated, redirecting to /"),h("/",{replace:!0}))},[c,h]);const p=async m=>{m.preventDefault(),i(!0),a(null);try{console.log("[Login] Attempting login with:",t);const x=await l(t,n);x.success?(console.log("[Login] Login successful (Firebase auth done, listener will handle state)"),wl({title:"Login Initiated",description:"Checking credentials..."})):(console.log("[Login] Login failed:",x.error),a(x.error||"Invalid email or password. Please try again."))}catch(x){console.error("[Login] Unexpected login error:",x),a(x.message||"An unexpected error occurred during login")}finally{i(!1)}};return d?v.jsx("div",{className:"flex items-center justify-center h-screen",children:v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):v.jsx(n8,{email:t,password:n,isLoading:s,authError:o,onEmailChange:e,onPasswordChange:r,onSubmit:p})},P1=({title:t,description:e})=>v.jsxs("div",{children:[v.jsx("h2",{className:"text-3xl font-bold mb-2",children:t}),v.jsx("p",{className:"text-muted-foreground",children:e})]}),s8=()=>v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[...Array(5)].map((t,e)=>v.jsxs("div",{className:"border rounded-lg p-4 bg-card text-card-foreground shadow-sm h-24 animate-pulse",children:[v.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),v.jsx("div",{className:"h-6 bg-muted rounded w-1/2"})]},e))}),i8=()=>v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsx("div",{className:"border rounded-lg p-4 bg-card text-card-foreground shadow-sm h-64 animate-pulse",children:v.jsx("div",{className:"h-full bg-muted rounded"})}),v.jsx("div",{className:"border rounded-lg p-4 bg-card text-card-foreground shadow-sm h-64 animate-pulse",children:v.jsx("div",{className:"h-full bg-muted rounded"})})]}),o8=()=>{const{currentUser:t,isLoading:e}=Wi();return e?v.jsx("div",{className:"flex justify-center items-center h-[60vh]",children:v.jsxs("div",{className:"text-center",children:[v.jsx(Cv,{className:"h-8 w-8 animate-spin text-primary mx-auto mb-2"}),v.jsx("p",{className:"text-muted-foreground",children:"Loading dashboard..."})]})}):v.jsxs("div",{className:"space-y-6",children:[v.jsx(P1,{title:"Dashboard",description:`Welcome back, ${(t==null?void 0:t.name)||"Admin"}!`}),v.jsx(s8,{}),v.jsx(i8,{}),v.jsxs("div",{className:"border rounded-lg p-4 bg-card text-card-foreground shadow-sm",children:[v.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Admin Panel Rebuild"}),v.jsx("p",{className:"text-muted-foreground",children:"Core functionality is being rebuilt. More features will be added soon."})]})]})},a8=async()=>{try{const t=Lu(Zn,"users");return(await S$(t)).data().count}catch(t){return console.error("Error getting user count:",t),-1}},l8=async(t=5)=>{try{const e=Lu(Zn,"users"),n=ff(e,Fy(t)),r=await mf(n),s=[];return r.forEach(i=>{s.push({id:i.id,...i.data()})}),s}catch(e){return console.error(`Error getting user sample (limit ${t}):`,e),[]}},k1=g.forwardRef(({className:t,...e},n)=>v.jsx("div",{className:"relative w-full overflow-auto",children:v.jsx("table",{ref:n,className:oe("w-full caption-bottom text-sm",t),...e})}));k1.displayName="Table";const N1=g.forwardRef(({className:t,...e},n)=>v.jsx("thead",{ref:n,className:oe("[&_tr]:border-b",t),...e}));N1.displayName="TableHeader";const D1=g.forwardRef(({className:t,...e},n)=>v.jsx("tbody",{ref:n,className:oe("[&_tr:last-child]:border-0",t),...e}));D1.displayName="TableBody";const u8=g.forwardRef(({className:t,...e},n)=>v.jsx("tfoot",{ref:n,className:oe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));u8.displayName="TableFooter";const fd=g.forwardRef(({className:t,...e},n)=>v.jsx("tr",{ref:n,className:oe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));fd.displayName="TableRow";const Ig=g.forwardRef(({className:t,...e},n)=>v.jsx("th",{ref:n,className:oe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ig.displayName="TableHead";const pd=g.forwardRef(({className:t,...e},n)=>v.jsx("td",{ref:n,className:oe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));pd.displayName="TableCell";const c8=g.forwardRef(({className:t,...e},n)=>v.jsx("caption",{ref:n,className:oe("mt-4 text-sm text-muted-foreground",t),...e}));c8.displayName="TableCaption";const d8=()=>{const[t,e]=g.useState(null),[n,r]=g.useState([]),[s,i]=g.useState(!0),[o,a]=g.useState(null);return g.useEffect(()=>{(async()=>{i(!0),a(null);try{const c=await a8(),d=await l8(10);e(c),r(d)}catch(c){console.error("Error fetching user data:",c),a(c.message||"Failed to load user data")}finally{i(!1)}})()},[]),v.jsxs("div",{className:"space-y-6",children:[v.jsx(P1,{title:"User Management",description:"View and manage StoryPixie users."}),s&&v.jsx("div",{className:"flex justify-center items-center h-[40vh]",children:v.jsxs("div",{className:"text-center",children:[v.jsx(Cv,{className:"h-8 w-8 animate-spin text-primary mx-auto mb-2"}),v.jsx("p",{className:"text-muted-foreground",children:"Loading user data..."})]})}),o&&v.jsxs(Il,{className:"bg-destructive/10 border-destructive",children:[v.jsx(Cl,{children:v.jsx(bl,{className:"text-destructive",children:"Error Loading Data"})}),v.jsx(Al,{children:v.jsx("p",{children:o})})]}),!s&&!o&&v.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[v.jsxs(Il,{children:[v.jsxs(Cl,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[v.jsx(bl,{className:"text-sm font-medium",children:"Total Users"}),v.jsx(DI,{className:"h-4 w-4 text-muted-foreground"})]}),v.jsxs(Al,{children:[v.jsx("div",{className:"text-2xl font-bold",children:t!==null&&t>=0?t.toLocaleString():"N/A"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Total registered users in the platform."})]})]}),v.jsxs(Il,{children:[v.jsx(Cl,{children:v.jsx(bl,{children:"User Sample (First 10)"})}),v.jsx(Al,{children:v.jsx(lw,{className:"h-[400px]",children:v.jsxs(k1,{children:[v.jsx(N1,{children:v.jsxs(fd,{children:[v.jsx(Ig,{children:"User ID"}),v.jsx(Ig,{children:"Email"})]})}),v.jsx(D1,{children:n.length>0?n.map(l=>v.jsxs(fd,{children:[v.jsx(pd,{className:"font-medium",children:l.id}),v.jsx(pd,{children:l.email||"N/A"})]},l.id)):v.jsx(fd,{children:v.jsx(pd,{colSpan:2,className:"h-24 text-center",children:"No user sample data available."})})})]})})})]})]})]})},h8=()=>{const t=Js();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:v.jsxs("div",{className:"text-center p-8 max-w-md rounded-lg bg-white shadow-lg",children:[v.jsx("div",{className:"flex justify-center mb-4",children:v.jsx(NI,{className:"h-16 w-16 text-red-500"})}),v.jsx("h1",{className:"text-4xl font-bold mb-2",children:"404"}),v.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Page Not Found"}),v.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["Sorry, the page you are looking for at ",v.jsx("span",{className:"font-mono bg-gray-100 p-1 rounded",children:t.pathname})," could not be found."]}),v.jsx(Ln,{asChild:!0,size:"lg",children:v.jsx(BC,{to:"/",children:"Return to Dashboard"})})]})})},f8=new XL({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),p8=({children:t})=>{const{isAuthenticated:e,isLoading:n}=Wi();return n?v.jsx("div",{className:"flex items-center justify-center h-screen",children:v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):e?(console.log("ProtectedRoute: Authenticated, rendering children"),v.jsx(v.Fragment,{children:t})):(console.log("ProtectedRoute: Not authenticated, redirecting to /login"),v.jsx(zC,{to:"/login",replace:!0}))},m8=({children:t})=>{const{isAuthenticated:e,isLoading:n}=Wi();return n?v.jsx("div",{className:"flex items-center justify-center h-screen",children:v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):e?(console.log("PublicRoute: Authenticated, redirecting to /"),v.jsx(zC,{to:"/",replace:!0})):(console.log("PublicRoute: Not authenticated, rendering children"),v.jsx(v.Fragment,{children:t}))},g8=()=>v.jsxs(KV,{children:[v.jsx(io,{path:"/login",element:v.jsx(m8,{children:v.jsx(r8,{})})}),v.jsxs(io,{element:v.jsx(p8,{children:v.jsx(ZB,{})}),children:[v.jsx(io,{path:"/",element:v.jsx(o8,{})}),v.jsx(io,{path:"/users",element:v.jsx(d8,{})})," "]}),v.jsx(io,{path:"*",element:v.jsx(h8,{})})]}),v8=()=>v.jsx(ZL,{client:f8,children:v.jsxs(xC,{children:[v.jsx(R$,{children:v.jsx(P$,{children:v.jsx(eF,{children:v.jsx(g8,{})})})}),v.jsx(E2,{}),v.jsx(Z2,{})]})});sI(document.getElementById("root")).render(v.jsx(v8,{}));
